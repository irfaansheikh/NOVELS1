var c={};c.constants={};var d="/googlebooks/images/",aa=d+"dialog_close_x.gif",l="/images/cleardot.gif",q="absolute",r="hidden",s="none",t=18242,ba=18075,ca=18067,da=18068,ea=18420,fa=18355,ga=18345,ha=18346,ia=18407,ja=18408,ka=3308,la=18108,ma=18488,na=18489,oa=18516,pa=18517,qa=18519,ra=18521,sa=18522,ta=18523,ua=18524,va=18163,wa=18568,xa=18569,ya=18585,za=18626,Aa=18586,Ba=18365,Ca=3647,Da=18631,Ea=18244;c.Box=function(a,b,e,f){var g=a>e,h=b>f;this.Ta=g?e:a;this.gb=g?a:e;this.Ua=h?f:b;this.hb=h?b:f};c.Box.prototype.i=function(){return this.gb-this.Ta};c.Box.prototype.$=function(){return this.hb-this.Ua};c.Box.prototype.Aa=function(){return this.Ua};c.Box.prototype.cb=function(){return this.Ta};c.Box.prototype.Af=function(){return this.hb};c.Box.prototype.dl=function(){return this.i()*this.$()};c.Box.prototype.Wh=function(){return this.gb};c.Box.prototype.move=function(a,b){this.Ta+=a;this.gb+=a;this.Ua+=
b;this.hb+=b};c.Box.prototype.moveTo=function(a,b){this.gb=a+this.i();this.hb=b+this.$();this.Ta=a;this.Ua=b};c.Box.prototype.scale=function(a){this.map(function(b){return a*b})};c.Box.prototype.ceil=function(){this.map(Math.ceil)};c.Box.prototype.map=function(a){this.gb=a(this.gb);this.hb=a(this.hb);this.Ta=a(this.Ta);this.Ua=a(this.Ua)};c.Box.prototype.intersects=function(a){return!(this.gb<a.Ta||this.hb<a.Ua||this.Ta>a.gb||this.Ua>a.hb)};c.Box.prototype.sl=function(a){if(!this.intersects(a))return;
return new c.Box(Math.max(this.Ta,a.Ta),Math.max(this.Ua,a.Ua),Math.min(this.gb,a.gb),Math.min(this.hb,a.hb))};c.Box.prototype.zf=function(){return[this.Ta,this.Ua,this.gb-this.Ta,this.hb-this.Ua]};c.Box.prototype.clone=function(){return new c.Box(this.Ta,this.Ua,this.gb,this.hb)};var u=u||{};u.global=this;u.tf=null;u.provide=function(a){u.Uk(a)};u.Uk=function(a,b){var e=a.split("."),f=u.global,g;if(!(e[0]in f)&&f.execScript)f.execScript("var "+e[0]);while(g=e.shift())if(!e.length&&u.isDef(b))f[g]=b;else if(f[g])f=f[g];else f=(f[g]={})};u.getObjectByName=function(a){var b=a.split("."),e=u.global;for(var f;f=b.shift();)if(e[f])e=e[f];else return null;return e};u.globalize=function(a,b){var e=b||u.global;for(var f in a)e[f]=a[f]};u.addDependency=function(){};u.require=function(){};
u.basePath="";u.nullFunction=function(){};u.abstractMethod=function(){throw Error("unimplemented abstract method");};u.typeOf=function(a){var b=typeof a;if(b=="object")if(a){if(typeof a.length=="number"&&typeof a.splice!="undefined"&&!u.fn(a,"length"))return"array";if(typeof a.call!="undefined")return"function"}else return"null";else if(b=="function"&&typeof a.call=="undefined")return"object";return b};if(Object.prototype.propertyIsEnumerable)u.fn=function(a,b){return Object.prototype.propertyIsEnumerable.call(a,
b)};else u.fn=function(a,b){if(b in a)for(var e in a)if(e==b)return true;return false};u.isDef=function(a){return typeof a!="undefined"};u.isNull=function(a){return a===null};u.isDefAndNotNull=function(a){return u.isDef(a)&&!u.isNull(a)};u.isArray=function(a){return u.typeOf(a)=="array"};u.isArrayLike=function(a){var b=u.typeOf(a);return b=="array"||b=="object"&&typeof a.length=="number"};u.isDateLike=function(a){return u.isObject(a)&&typeof a.getFullYear=="function"};u.isString=function(a){return typeof a==
"string"};u.isBoolean=function(a){return typeof a=="boolean"};u.isNumber=function(a){return typeof a=="number"};u.isFunction=function(a){return u.typeOf(a)=="function"};u.isObject=function(a){var b=u.typeOf(a);return b=="object"||b=="array"||b=="function"};u.getHashCode=function(a){if(a.hasOwnProperty&&a.hasOwnProperty(u.Hc))return a[u.Hc];if(!a[u.Hc])a[u.Hc]=++u.op;return a[u.Hc]};u.removeHashCode=function(a){if("removeAttribute"in a)a.removeAttribute(u.Hc);try{delete a[u.Hc]}catch(b){}};u.Hc="closure_hashCode_";
u.op=0;u.cloneObject=function(a){var b=u.typeOf(a);if(b=="object"||b=="array"){if(a.clone)return a.clone();var e=b=="array"?[]:{};for(var f in a)e[f]=u.cloneObject(a[f]);return e}return a};u.bind=function(a,b){var e=a.Oo;if(arguments.length>2){var f=Array.prototype.slice.call(arguments,2);if(e)f.unshift.apply(f,e);e=f}b=a.Qo||b;a=a.Po||a;var g,h=b||u.global;if(e)g=function(){var i=Array.prototype.slice.call(arguments);i.unshift.apply(i,e);return a.apply(h,i)};else g=function(){return a.apply(h,arguments)};
g.Oo=e;g.Qo=b;g.Po=a;return g};u.partial=function(a){var b=Array.prototype.slice.call(arguments,1);b.unshift(a,null);return u.bind.apply(null,b)};u.mixin=function(a,b){for(var e in b)a[e]=b[e]};u.now=Date.now||function(){return(new Date).getTime()};u.globalEval=function(a){if(u.global.execScript)u.global.execScript(a,"JavaScript");else if(u.global.eval){if(u.tf==null){u.global.eval("var _et_ = 1;");if(typeof u.global._et_!="undefined"){delete u.global._et_;u.tf=true}else u.tf=false}if(u.tf)u.global.eval(a);
else{var b=u.global.document,e=b.createElement("script");e.type="text/javascript";e.defer=false;e.appendChild(b.createTextNode(a));b.body.appendChild(e);b.body.removeChild(e)}}else throw Error("goog.globalEval not available");};u.getMsg=function(a,b){var e=b||{};for(var f in e)a=a.replace(new RegExp("\\{\\$"+f+"\\}","gi"),e[f]);return a};u.exportSymbol=function(a,b){u.Uk(a,b)};u.exportProperty=function(a,b,e){a[b]=e};if(!Function.prototype.apply)Function.prototype.apply=function(a,b){var e=[],f,g;
if(!a)a=u.global;if(!b)b=[];for(var h=0;h<b.length;h++)e[h]="args["+h+"]";g="oScope.__applyTemp__.peek().("+e.join(",")+");";if(!a.__applyTemp__)a.__applyTemp__=[];a.__applyTemp__.push(this);f=eval(g);a.__applyTemp__.pop();return f};Function.prototype.bind=function(a){if(arguments.length>1){var b=Array.prototype.slice.call(arguments,1);b.unshift(this,a);return u.bind.apply(null,b)}else return u.bind(this,a)};Function.prototype.partial=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this,
null);return u.bind.apply(null,a)};Function.prototype.inherits=function(a){u.inherits(this,a)};u.inherits=function(a,b){function e(){}e.prototype=b.prototype;a.p=b.prototype;a.prototype=new e;a.prototype.constructor=a};Function.prototype.mixin=function(a){u.mixin(this.prototype,a)};u.array={};u.array.peek=function(a){return a[a.length-1]};u.array.indexOf=function(a,b,e){if(a.indexOf)return a.indexOf(b,e);if(Array.indexOf)return Array.indexOf(a,b,e);var f=e==null?0:Math.max(0,a.length+e);for(var g=f;g<a.length;g++)if(g in a&&a[g]===b)return g;return-1};u.array.lastIndexOf=function(a,b,e){var f=e==null?a.length-1:e;if(a.lastIndexOf)return a.lastIndexOf(b,f);if(Array.lastIndexOf)return Array.lastIndexOf(a,b,f);if(f<0)f=Math.max(0,a.length+f);for(var g=f;g>=0;g--)if(g in a&&a[g]===
b)return g;return-1};u.array.forEach=function(a,b,e){if(a.forEach)a.forEach(b,e);else if(Array.forEach)Array.forEach(a,b,e);else{var f=a.length,g=u.isString(a)?a.split(""):a;for(var h=0;h<f;h++)if(h in g)b.call(e,g[h],h,a)}};u.array.forEachRight=function(a,b,e){var f=a.length,g=u.isString(a)?a.split(""):a;for(var h=f-1;h>=0;--h)if(h in g)b.call(e,g[h],h,a)};u.array.filter=function(a,b,e){if(a.filter)return a.filter(b,e);if(Array.filter)return Array.filter(a,b,e);var f=a.length,g=[],h=0,i=u.isString(a)?
a.split(""):a;for(var j=0;j<f;j++)if(j in i){var k=i[j];if(b.call(e,k,j,a))g[h++]=k}return g};u.array.map=function(a,b,e){if(a.map)return a.map(b,e);if(Array.map)return Array.map(a,b,e);var f=a.length,g=[],h=0,i=u.isString(a)?a.split(""):a;for(var j=0;j<f;j++)if(j in i)g[h++]=b.call(e,i[j],j,a);return g};u.array.reduce=function(a,b,e,f){if(a.reduce)if(f)return a.reduce(u.bind(b,f),e);else return a.reduce(b,e);var g=e;u.array.forEach(a,function(h,i){g=b.call(f,g,h,i,a)});return g};u.array.reduceRight=
function(a,b,e,f){if(a.reduceRight)if(f)return a.reduceRight(u.bind(b,f),e);else return a.reduceRight(b,e);var g=e;u.array.forEachRight(a,function(h,i){g=b.call(f,g,h,i,a)});return g};u.array.some=function(a,b,e){if(a.some)return a.some(b,e);if(Array.some)return Array.some(a,b,e);var f=a.length,g=u.isString(a)?a.split(""):a;for(var h=0;h<f;h++)if(h in g&&b.call(e,g[h],h,a))return true;return false};u.array.every=function(a,b,e){if(a.every)return a.every(b,e);if(Array.every)return Array.every(a,b,
e);var f=a.length,g=u.isString(a)?a.split(""):a;for(var h=0;h<f;h++)if(h in g&&!b.call(e,g[h],h,a))return false;return true};u.array.find=function(a,b,e){var f=u.array.findIndex(a,b,e);return f<0?null:(u.isString(a)?a.charAt(f):a[f])};u.array.findIndex=function(a,b,e){var f=a.length,g=u.isString(a)?a.split(""):a;for(var h=0;h<f;h++)if(h in g&&b.call(e,g[h],h,a))return h;return-1};u.array.findRight=function(a,b,e){var f=a.length,g=u.isString(a)?a.split(""):a;for(var h=f-1;h>=0;h--)if(h in g&&b.call(e,
g[h],h,a))return g[h];return null};u.array.contains=function(a,b){if(a.contains)return a.contains(b);return u.array.indexOf(a,b)>-1};u.array.r=function(a){return a.length==0};u.array.clear=function(a){if(!u.isArray(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0};u.array.insert=function(a,b){if(!u.array.contains(a,b))a.push(b)};u.array.insertAt=function(a,b,e){u.array.splice(a,e,0,b)};u.array.insertBefore=function(a,b,e){var f;if(arguments.length==2||(f=u.array.indexOf(a,e))==-1)a.push(b);
else u.array.insertAt(a,b,f)};u.array.remove=function(a,b){var e=u.array.indexOf(a,b),f;if(f=e!=-1)u.array.removeAt(a,e);return f};u.array.removeAt=function(a,b){return Array.prototype.splice.call(a,b,1).length==1};u.array.removeIf=function(a,b,e){var f=u.array.findIndex(a,b,e);if(f>=0){u.array.removeAt(a,f);return true}return false};u.array.clone=function(a){if(u.isArray(a))return a.concat();else{var b=[];for(var e=0,f=a.length;e<f;e++)b[e]=a[e];return b}};u.array.toArray=function(a){if(u.isArray(a))return a.concat();
return u.array.clone(a)};u.array.extend=function(a){for(var b=1;b<arguments.length;b++){var e=arguments[b];if(!u.isArray(e))a.push(e);else a.push.apply(a,e)}};u.array.splice=function(a){return Array.prototype.splice.apply(a,u.array.slice(arguments,1))};u.array.slice=function(a,b,e){if(arguments.length<=2)return Array.prototype.slice.call(a,b);else return Array.prototype.slice.call(a,b,e)};u.array.removeDuplicates=function(a,b){var e=b||a,f={},g=0,h=0;while(h<a.length){var i=a[h++],j=u.isObject(i)?
u.getHashCode(i):i;if(!(j in f)){f[j]=true;e[g++]=i}}e.length=g};u.array.binarySearch=function(a,b,e){var f=0,g=a.length-1,h=e||u.array.defaultCompare;while(f<=g){var i=f+g>>1,j=h(b,a[i]);if(j>0)f=i+1;else if(j<0)g=i-1;else return i}return-(f+1)};u.array.sort=function(a,b){Array.prototype.sort.call(a,b||u.array.defaultCompare)};u.array.compare=function(a,b,e){if(!u.isArrayLike(a)||!u.isArrayLike(b)||a.length!=b.length)return false;var f=a.length,g=e||u.array.defaultCompareEquality;for(var h=0;h<f;h++)if(!g.call(null,
a[h],b[h]))return false;return true};u.array.defaultCompare=function(a,b){return a>b?1:(a<b?-1:0)};u.array.defaultCompareEquality=function(a,b){return a===b};u.array.binaryInsert=function(a,b,e){var f=u.array.binarySearch(a,b,e);if(f<0){u.array.insertAt(a,b,-(f+1));return true}return false};u.array.binaryRemove=function(a,b,e){var f=u.array.binarySearch(a,b,e);return f>=0?u.array.removeAt(a,f):false};u.array.bucket=function(a,b){var e={};for(var f=0;f<a.length;f++){var g=a[f],h=b(g,f,a);if(u.isDef(h)){var i=
e[h]||(e[h]=[]);i.push(g)}}return e};c.style={};c.style.setStyles=function(a,b){if(a instanceof Array)for(var e=0;e<a.length;e++)c.style.setStyles(a[e],b);else for(var f in b){var g=b[f],h=c.style.Zk[f];a.style[f]=h?h(g):g}};c.style.setAttributeForNodeAndChildren=function(a,b,e){if(a.setAttribute){a.setAttribute(b,e);var f=a.childNodes;for(var g=0;g<f.length;g++)c.style.setAttributeForNodeAndChildren(f[g],b,e)}};c.style.setAttributes=function(a,b){if(a instanceof Array)u.array.forEach(a,function(g){c.style.setAttributes(g,b)});else for(var e in b){var f=
b[e];a[e]=f}};c.style.setStylesForNodeAndChildren=function(a,b){if(a.style){c.style.setStyles(a,b);for(var e=a.firstChild;e!=null;e=e.nextSibling)c.style.setStylesForNodeAndChildren(e,b)}};c.style.ej=function(a){return a.toString().replace(c.style.Vp,"$1px")};c.style.Vp=/\b(-?\d+(?!%))\b/g;c.style.Zk={};(function(){function a(i,j){c.style.Zk[j]=i}var b=["top","left","right","bottom","width","height","fontSize"];for(var e=0;e<b.length;e++)a(c.style.ej,b[e]);var f=["margin","padding","border"],g=["Top",
"Left","Right","Bottom"];for(var e=0;e<f.length;e++){a(c.style.ej,f[e]);for(var h=0;h<g.length;h++)a(c.style.ej,f[e]+g[h])}})();var x={color:"#0000cc",cursor:"pointer",textDecoration:"underline"};c.dom={};c.dom.getNodeWidth=function(a){return a.clientWidth};c.dom.getNodeHeight=function(a){return a.clientHeight};c.dom.getOffsetWidth=function(a){return a.offsetWidth};c.dom.getOffsetHeight=function(a){return a.offsetHeight};c.dom.getMaxWidth=function(a){return Math.max(a.clientWidth,a.offsetWidth)};c.dom.getMaxHeight=function(a){return Math.max(a.clientHeight,a.offsetHeight)};c.dom.getWindowHeight=function(){return window.innerHeight||c.dom.getWindowProperty("clientHeight")};c.dom.getWindowWidth=
function(){return window.innerWidth||c.dom.getWindowProperty("clientWidth")};c.dom.getWindowProperty=function(a,b){var e=b||document;if(e.compatMode=="BackCompat")return e.body[a];else if(e.compatMode=="CSS1Compat")return e.documentElement[a];else if(e.body[a])return e.body[a]};c.dom.getYPosition=function(a){return c.dom.getPosition(a).y};c.dom.getXPosition=function(a){return c.dom.getPosition(a).x};c.dom.getPosition=function(a,b){var e={x:0,y:0},f=a;while(a){e.x+=a.offsetLeft;e.y+=a.offsetTop;a=
a.offsetParent}if(b){var a=f.offsetParent;while(a&&a.tagName&&!c.dom.isNodeType(a,"body")){e.x-=a.scrollLeft;e.y-=a.scrollTop;a=a.parentNode}}return e};c.dom.getOffset=function(a,b){var e={x:0,y:0},f=b;while(f){if(f==a)return e;e.x+=f.offsetLeft;e.y+=f.offsetTop;f=f.parentNode}};c.dom.getNodeBox=function(a){var b=c.dom.getPosition(a,true);return new c.Box(b.x,b.y,b.x+c.dom.getNodeWidth(a),b.y+c.dom.getNodeHeight(a))};c.dom.wrapNodeInDiv=function(a){var b=document.createElement("div");c.dom.wrapNode(a,
b);return b};c.dom.wrapNode=function(a,b){var e=a.parentNode;e.insertBefore(b,a);c.dom.removeNode(a);b.appendChild(a)};c.dom.removeNode=function(a){a.parentNode.removeChild(a)};c.dom.maybeRemoveNode=function(a){if(a.parentNode)c.dom.removeNode(a)};c.dom.wrapBelowNode=function(a,b){var e=b||c.dom.createElement("div");c.dom.insertFirst(a,e);while(e.nextSibling)c.dom.appendChild(e,e.nextSibling);return e};c.dom.createElement=function(a,b){return(b||document).createElement(a)};c.dom.createTextNode=function(a,
b){return(b||document).createTextNode(a)};c.dom.appendChild=function(a,b){a.appendChild(b);return b};c.dom.insertFirst=function(a,b){if(a.firstChild)a.insertBefore(b,a.firstChild);else a.appendChild(b);return b};c.dom.focusElement=function(a){if(a.focus)a.focus()};c.dom.emptyNode=function(a){while(a.firstChild)a.removeChild(a.firstChild)};c.dom.walkDOM=function(a,b,e){var f=a.firstChild;while(f){if(f.tagName){if(b(f))if(e)return f;var g=c.dom.walkDOM(f,b,e);if(g)return g}f=f.nextSibling}};c.dom.isNodeType=
function(a,b){return a.tagName.toLowerCase()==b.toLowerCase()};c.dom.Oa=function(a,b){while(a){if(b(a))return a;a=a.parentNode}};c.dom.up=function(a,b){return c.dom.isClass(b,a)};c.dom.getParentWithClass=function(a,b){return c.dom.Oa(a,c.dom.up.partial(b))};c.dom.wp=function(a,b){return c.dom.isNodeType(b,a)};c.dom.getParentWithTagName=function(a,b){return c.dom.Oa(a,c.dom.wp.partial(b))};c.dom.isClass=function(a,b){if(b instanceof Array)return u.array.some(a.className.split(" "),function(e){return u.array.contains(b,
e)});else return c.dom.isClass(a,[b])};c.dom.makeUnselectable=function(a){if(c.Detect.MOZILLA())c.style.setStylesForNodeAndChildren(a,{MozUserSelect:"none"});else if(c.Detect.IE())c.style.setAttributeForNodeAndChildren(a,"unselectable","on");else if(c.Detect.SAFARI()){}};c.dom.contains=function(a,b){return!(!c.dom.Oa(b,function(e){return e==a}))};c.dom.setClass=function(a,b){a.className=b};c.events={};var y="change",z="click",B="dragmove",C="interactionmodechange",D="mousedown",E="mouseout",F="mouseover",G="pagechange",H="pagemodechange",I="pagesupdate",J="resize",K="update",L="viewportmodechange",M="zoomin",N="zoomout";c.util={};c.util.Events={};c.util.Events.cancel=function(a){var a=a||window.event;if(a.preventDefault)a.preventDefault();if(a.stopPropagation)a.stopPropagation();a.cancelBubble=true;a.returnValue=false;return false};c.util.Events.getTargetElement=function(a){if(a.target){var b=a.target;return b}else if(a.srcElement)return a.srcElement;else if(a.currentTarget)return a.currentTarget};c.listen={};var O,P,Q;(function(){var a={},b=0;O=e.partial(false);P=e.partial(true);function e(h,i,j,k){var m={node:i,event:j,callback:k,id:b++};m.handler=f.partial(m,h);if(i.addEventListener)i.addEventListener(j,m.handler,false);else if(i.attachEvent)i.attachEvent("on"+j,m.handler);else throw new Error;a[m.id]=m;return m.id}Q=function(h){var i=a[h];delete a[h];if(i){if(i.node.removeEventListener)i.node.removeEventListener(i.event,i.handler,false);else if(i.node.detachEvent)i.node.detachEvent("on"+
i.event,i.handler);for(var j in i)delete i[j];delete i;return true}return false};function f(h,i,j){var k=h.callback;if(i)Q(h.id);if(k)k(j)}function g(){for(var h in a)Q(h)}P(window,"unload",g)})();c.Messages={};c.Messages.addMessage=function(a,b){if(!window[c.Messages.Dg])window[c.Messages.Dg]={};window[c.Messages.Dg][a]=b};c.Messages.addMessages=function(a){for(var b in a)c.Messages.addMessage(b,a[b])};c.Messages.Dg="_OC_MSG";var _OC_addMsg=c.Messages.addMessage,_OC_addMsgs=c.Messages.addMessages;c.Modules={};c.Modules.loadScript=function(a){setTimeout(c.Modules.Dp.partial(a),0)};c.Modules.Dp=function(a){var b=document.getElementsByTagName("head")[0],e=c.dom.createElement("script");e.type="text/javascript";e.src=a;c.dom.appendChild(b,e)};c.Modules.notify=function(a){c.Modules.Pm[a]=true;c.Modules.Zm()};c.Modules.addListener=function(a,b){if(a instanceof Array)c.Modules.Sa[c.Modules.Cp++]=[a,b];else c.Modules.addListener([a],b);c.Modules.Zm()};c.Modules.Sa={};c.Modules.Cp=0;c.Modules.Zm=function(){for(var a in c.Modules.Sa){var b=
c.Modules.Sa[a];if(u.array.every(b[0],function(e){return!(!c.Modules.Pm[e])})){delete c.Modules.Sa[a];b[1]()}}};c.Modules.Pm={};c.Modules.CLOSURE_MODULE="cl";u.exportSymbol("_OC_Modules",c.Modules);c.Detect={};(function(){function a(){this.IE=function(){if(this.OPERA())return false;try{return this.Run(document.all&&!document.contains)!=false}catch(b){if(document.all)return true;return false}};this.IE_5_5_newer=function(){try{return this.Run(this.IE()&&Array.prototype.pop)!=false}catch(b){return false}};this.IE_5_Mac=function(){try{return true==undefined}catch(b){return(document.all&&document.getElementById&&!document.mimeType&&!window.opera)!=false}};this.OPERA=function(){try{return"opera"in
window}catch(b){}return false};this.OPERA_9=function(){try{if(this.OPERA()){var b=navigator.userAgent.toLowerCase(),e=parseFloat(b.substring(b.indexOf("opera ")+6));return e>=9}}catch(f){}return false};this.MOZILLA=function(){try{return this.Run(document.implementation&&document.implementation.createDocument&&!document.contains)!=false}catch(b){return false}};this.SAFARI=function(){try{return this.Run(document.implementation&&document.implementation.createDocument&&document.contains)!=false}catch(b){return false}};
this.DOM=function(){return document.getElementById};this.Run=function(b){if(b==undefined)return false;else return b}}c.Detect=new a})();c.util.arrayToHash=function(a){var b={};for(var e=0;e<a.length;e++)b[a[e]]=true;return b};c.util.compareIntegers=function(a,b){return a-b};c.util.getArrayIterator=function(a){var b=0;return{hasNext:function(){return b<a.length},next:function(){return a[b++]}}};c.util.format=function(a){for(var b=1;b<arguments.length;b++){var e=c.util.$k[b]||(c.util.$k[b]=new RegExp("\\%"+b+"\\$."));a=a.replace(e,arguments[b].toString())}return a};c.util.$k={};c.util.instanceOf=function(a,b){return a instanceof b};
c.util.reverseInstanceOf=function(a,b){return b instanceof a};c.util.getNumKeys=function(a){var b=0;for(var e in a)b++;return b};c.util.evaluate=function(a){return a instanceof Function?a():a};c.util.factory=function(a){var b=function(){};b.prototype=a.prototype;var e=new b;a.apply(e,Array.prototype.slice.call(arguments,1));return e};c.util.getBody=function(){return c.util.No||(c.util.No=document.getElementsByTagName("body")[0])};c.util.getElemById=function(a){return document.getElementById(a)};c.util.getHTMLEscapedString=
function(a,b){var e=[],f=0;for(var g=0;g<a.length;g++){var h=a.charAt(g);for(var i in c.util.hp)if(h==i)h=c.util.hp[i];h=encodeURIComponent(h);if(b&&f+h.length>b)break;f+=h.length;e.push(h)}return e.join("")};c.util.zq={"&":"&amp;",'"':"&quot;","'":"&#039","<":"&lt;",">":"&gt;"};c.util.getHandCursorStyle=function(){return c.Detect.IE()?"hand":"pointer"};c.util.parseInt=function(a,b){return window.parseInt(a,b||10)};c.XmlHttp={};c.XmlHttp.get=function(a,b,e){var f=Fa();f.onreadystatechange=c.XmlHttp.jn.partial(f,b,e);f.open("GET",a,true);f.setRequestHeader("If-Modified-Since","Sat, 1 Jan 2000 00:00:00 GMT");f.send(null);return f};c.XmlHttp.post=function(a,b,e,f){var g=Fa();g.onreadystatechange=c.XmlHttp.jn.partial(g,e,f);g.open("POST",a,true);g.send(b)};c.XmlHttp.getJSONObject=function(a,b,e){return c.XmlHttp.get(a,c.XmlHttp.ul.partial(b,e),e)};c.XmlHttp.getJSONObjectViaPost=function(a,b,e,f){return c.XmlHttp.post(a,
b,c.XmlHttp.ul.partial(e,f),f)};c.XmlHttp.jn=function(a,b,e){if(a.readyState==4){var f;try{f=a.status}catch(g){}if(f==200)b(a.responseText);else if(e)e(f);a.onreadystatechange=u.nullFunction}};c.XmlHttp.ul=function(a,b,e){try{var f=eval("("+e+")")}catch(g){if(b)b(g)}a(f)};c.XmlHttp.findPostParams=function(a){var b={};c.dom.walkDOM(a,function(e){if(e.name)if(c.dom.isNodeType(e,"select"))b[e.name]=e.options[e.selectedIndex].value;else b[e.name]=e.value});return b};c.XmlHttp.postEncode=function(a){return encodeURIComponent(a).replace(/%20/g,
"+")};c.XmlHttp.encodePostParameters=function(a){var b=[];for(var e in a)b.push([c.XmlHttp.postEncode(e),"=",c.XmlHttp.postEncode(a[e])].join(""));return b.join("&")};var _XH_ACTIVE_X_IDENTS=["MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","MICROSOFT.XMLHTTP.1.0","MICROSOFT.XMLHTTP.1","MICROSOFT.XMLHTTP"],_xh_ieProgId=undefined;function _XH_XmlHttpInit(){if(typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var a=0;a<_XH_ACTIVE_X_IDENTS.length;a++){var b=
_XH_ACTIVE_X_IDENTS[a];try{new ActiveXObject(b);_xh_ieProgId=b;break}catch(e){}}if(undefined===_xh_ieProgId)throw"Could not create ActiveXObject. ActiveX might be disabled, or msxml might not be installed";}}_XH_XmlHttpInit();function Fa(){if(_xh_ieProgId!==undefined)return new ActiveXObject(_xh_ieProgId);else return new XMLHttpRequest};u.Disposable=function(){};u.Disposable.prototype.qf=false;u.Disposable.prototype.ob=function(){return this.qf};u.Disposable.prototype.dispose=function(){if(!this.qf)this.qf=true};u.dispose=function(a){if(typeof a.dispose=="function")a.dispose()};u.events={};u.events.Event=function(a,b){this.type=a;this.target=b;this.currentTarget=this.target};u.inherits(u.events.Event,u.Disposable);u.events.Event.prototype.ec=false;u.events.Event.prototype.ad=true;u.events.Event.prototype.stopPropagation=function(){this.ec=true};u.events.Event.prototype.preventDefault=function(){this.ad=false};u.string={};u.string.startsWith=function(a,b){return a.indexOf(b)==0};u.string.endsWith=function(a,b){var e=a.length-b.length;return e>=0&&a.lastIndexOf(b,e)==e};u.string.caseInsensitiveStartsWith=function(a,b){return u.string.caseInsensitiveCompare(b,a.substr(0,b.length))==0};u.string.caseInsensitiveEndsWith=function(a,b){return u.string.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))==0};u.string.subs=function(a){for(var b=1;b<arguments.length;b++){var e=String(arguments[b]).replace(/\$/g,
"$$$$");a=a.replace(/\%s/,e)}return a};u.string.collapseWhitespace=function(a){return a.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")};u.string.r=function(a){return/^[\s\xa0]*$/.test(a)};u.string.isEmptySafe=function(a){return u.string.r(u.string.makeSafe(a))};u.string.isAlpha=function(a){return!/[^a-zA-Z]/.test(a)};u.string.isNumeric=function(a){return!/[^0-9]/.test(a)};u.string.isAlphaNumeric=function(a){return!/[^a-zA-Z0-9]/.test(a)};u.string.isSpace=function(a){return a==" "};u.string.isUnicodeChar=
function(a){return a.length==1&&a>=" "&&a<="~"||a>="\u0080"&&a<="\ufffd"};u.string.stripNewlines=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")};u.string.canonicalizeNewlines=function(a){return a.replace(/(\r\n|\r|\n)/g,"\n")};u.string.normalizeWhitespace=function(a){return a.replace(/\xa0|\s/g," ")};u.string.normalizeSpaces=function(a){return a.replace(/\xa0|[ \t]+/g," ")};u.string.trim=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};u.string.trimLeft=function(a){return a.replace(/^[\s\xa0]+/,
"")};u.string.trimRight=function(a){return a.replace(/[\s\xa0]+$/,"")};u.string.caseInsensitiveCompare=function(a,b){var e=String(a).toLowerCase(),f=String(b).toLowerCase();if(e<f)return-1;else if(e==f)return 0;else return 1};u.string.$m=/(\.\d+)|(\d+)|(\D+)/g;u.string.numerateCompare=function(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;var e=a.toLowerCase().match(u.string.$m),f=b.toLowerCase().match(u.string.$m),g=Math.min(e.length,f.length);for(var h=0;h<g;h++){var i=e[h],j=f[h];if(i!=j){var k=
parseInt(i,10);if(!isNaN(k)){var m=parseInt(j,10);if(!isNaN(m)&&k-m)return k-m}return i<j?-1:1}}if(e.length!=f.length)return e.length-f.length;return a<b?-1:1};u.string.fp=/^[a-zA-Z0-9\-_.!~*'()]*$/;u.string.urlEncode=function(a){a=String(a);if(!u.string.fp.test(a))return encodeURIComponent(a);return a};u.string.urlDecode=function(a){return decodeURIComponent(a.replace(/\+/g," "))};u.string.newLineToBr=function(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")};u.string.htmlEscape=function(a,
b){if(b)return a.replace(u.string.hk,"&amp;").replace(u.string.Rm,"&lt;").replace(u.string.Nl,"&gt;").replace(u.string.hn,"&quot;");else{if(!u.string.Jo.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(u.string.hk,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(u.string.Rm,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(u.string.Nl,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(u.string.hn,"&quot;");return a}};u.string.hk=/&/g;u.string.Rm=/</g;u.string.Nl=/>/g;u.string.hn=/\"/g;u.string.Jo=/[&<>\"]/;u.string.unescapeEntities=
function(a){if(u.string.contains(a,"&"))if("document"in u.global&&!u.string.contains(a,"<"))return u.string.kq(a);else return u.string.lq(a);return a};u.string.kq=function(a){var b=u.global.document.createElement("a");b.innerHTML=a;if(b[u.string.Vj])b[u.string.Vj]();a=b.firstChild.nodeValue;b.innerHTML="";return a};u.string.lq=function(a){return a.replace(/&([^;]+);/g,function(b,e){switch(e){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if(e.charAt(0)==
"#"){var f=Number("0"+e.substr(1));if(!isNaN(f))return String.fromCharCode(f)}return b}})};u.string.Vj="normalize";u.string.whitespaceEscape=function(a,b){return u.string.newLineToBr(a.replace(/  /g," &#160;"),b)};u.string.stripQuotes=function(a,b){var e=b.length;for(var f=0;f<e;f++){var g=e==1?b:b.charAt(f);if(a.charAt(0)==g&&a.charAt(a.length-1)==g)return a.substring(1,a.length-1)}return a};u.string.truncate=function(a,b,e){if(e)a=u.string.unescapeEntities(a);if(a.length>b)a=a.substring(0,b-3)+
"...";if(e)a=u.string.htmlEscape(a);return a};u.string.truncateMiddle=function(a,b,e){if(e)a=u.string.unescapeEntities(a);if(a.length>b){var f=Math.floor(b/2),g=a.length-f;f+=b%2;a=a.substring(0,f)+"..."+a.substring(g)}if(e)a=u.string.htmlEscape(a);return a};u.string.Di={"\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\x0B",'"':'\\"',"'":"\\'","\\":"\\\\"};u.string.quote=function(a){a=String(a);if(a.quote)return a.quote();else{var b=['"'];for(var e=0;e<a.length;e++)b[e+1]=
u.string.escapeChar(a.charAt(e));b.push('"');return b.join("")}};u.string.escapeChar=function(a){if(a in u.string.Di)return u.string.Di[a];var b=a,e=a.charCodeAt(0);if(e>31&&e<127)b=a;else{if(e<256){b="\\x";if(e<16||e>256)b+="0"}else{b="\\u";if(e<4096)b+="0"}b+=e.toString(16).toUpperCase()}return u.string.Di[a]=b};u.string.toMap=function(a){var b={};for(var e=0;e<a.length;e++)b[a.charAt(e)]=true;return b};u.string.Eo=u.string.toMap("()[]{}+-?*.$^|,:#<!\\");u.string.contains=function(a,b){return a.indexOf(b)!=
-1};u.string.removeAt=function(a,b,e){var f=a;if(b>=0&&b<a.length&&e>0)f=a.substr(0,b)+a.substr(b+e,a.length-b-e);return f};u.string.remove=function(a,b){var e=new RegExp(u.string.regExpEscape(b),"");return a.replace(e,"")};u.string.$c=function(a,b){var e=new RegExp(u.string.regExpEscape(b),"g");return a.replace(e,"")};u.string.regExpEscape=function(a){a=String(a);var b="",e;for(var f=0;f<a.length;f++){e=a.charAt(f);if(e=="\u0008")e="\\x08";else if(e in u.string.Eo)e="\\"+e;b+=e}return b};u.string.repeat=
function(a,b){return(new Array(b+1)).join(a)};u.string.padNumber=function(a,b,e){var f=Math.floor(a),g=String(f);return u.string.repeat("0",Math.max(0,b-g.length))+(u.isDef(e)?a.toFixed(e):a)};u.string.makeSafe=function(a){return a==null?"":String(a)};u.string.buildString=function(){return Array.prototype.join.call(arguments,"")};u.string.getRandomString=function(){return Math.floor(Math.random()*2147483648).toString(36)+(Math.floor(Math.random()*2147483648)^(new Date).getTime()).toString(36)};u.string.compareVersions=
function(a,b){var e=0,f=String(a).split("."),g=String(b).split("."),h=Math.max(f.length,g.length);for(var i=0;e==0&&i<h;i++){var j=f[i]||"",k=g[i]||"",m=new RegExp("(\\d*)(\\D*)","g"),n=new RegExp("(\\d*)(\\D*)","g");do{var o=m.exec(j)||["","",""],p=n.exec(k)||["","",""];if(o[0].length==0&&p[0].length==0)break;var v=o[1].length==0?0:parseInt(o[1],10),w=p[1].length==0?0:parseInt(p[1],10);e=u.string.Zg(v,w)||u.string.Zg(o[2].length==0,p[2].length==0)||u.string.Zg(o[2],p[2])}while(e==0)}return e};u.string.Zg=
function(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};u.string.Ao=4294967296;u.string.hashCode=function(a){var b=0;for(var e=0;e<a.length;++e){b=31*b+a.charCodeAt(e);b%=u.string.Ao}return b};u.userAgent={};(function(){var a=false,b=false,e=false,f=false,g=false,h=false,i=false,j=false,k=false,m=false,n=false,o="";if(u.global.navigator){var p=navigator.userAgent;a=typeof opera!="undefined";b=!a&&p.indexOf("MSIE")!=-1;e=!a&&p.indexOf("WebKit")!=-1;n=e&&p.indexOf("Mobile")!=-1;f=!a&&navigator.product=="Gecko"&&!e;g=f&&navigator.vendor=="Camino";h=!a&&p.indexOf("Konqueror")!=-1;i=h||e;var v,w;if(a)v=opera.version();else{if(f)w=/rv\:([^\);]+)(\)|;)/;else if(b)w=/MSIE\s+([^\);]+)(\)|;)/;else if(e)w=
/WebKit\/(\S+)/;else if(h)w=/Konqueror\/([^\);]+)(\)|;)/;if(w){w.test(p);v=RegExp.$1}}o=navigator.platform;j=o.indexOf("Mac")!=-1;k=o.indexOf("Win")!=-1;m=o.indexOf("Linux")!=-1}u.userAgent.OPERA=a;u.userAgent.IE=b;u.userAgent.GECKO=f;u.userAgent.CAMINO=g;u.userAgent.KONQUEROR=h;u.userAgent.SAFARI=e;u.userAgent.KHTML=i;u.userAgent.VERSION=v;u.userAgent.PLATFORM=o;u.userAgent.MAC=j;u.userAgent.WINDOWS=k;u.userAgent.LINUX=m;u.userAgent.MOBILE=n})();u.userAgent.compare=function(a,b){return u.string.compareVersions(a,
b)};u.userAgent.isVersion=function(a){return u.string.compareVersions(u.userAgent.VERSION,a)>=0};u.events.BrowserEvent=function(a,b){if(a)this.init(a,b)};u.inherits(u.events.BrowserEvent,u.events.Event);u.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2};u.events.BrowserEvent.vq=[1,4,2];u.events.BrowserEvent.prototype.type=null;u.events.BrowserEvent.prototype.target=null;u.events.BrowserEvent.prototype.currentTarget=null;u.events.BrowserEvent.prototype.relatedTarget=null;u.events.BrowserEvent.prototype.offsetX=0;u.events.BrowserEvent.prototype.offsetY=0;u.events.BrowserEvent.prototype.clientX=
0;u.events.BrowserEvent.prototype.clientY=0;u.events.BrowserEvent.prototype.screenX=0;u.events.BrowserEvent.prototype.screenY=0;u.events.BrowserEvent.prototype.button=0;u.events.BrowserEvent.prototype.keyCode=0;u.events.BrowserEvent.prototype.charCode=0;u.events.BrowserEvent.prototype.ctrlKey=false;u.events.BrowserEvent.prototype.altKey=false;u.events.BrowserEvent.prototype.shiftKey=false;u.events.BrowserEvent.prototype.metaKey=false;u.events.BrowserEvent.prototype.zb=null;u.events.BrowserEvent.prototype.init=
function(a,b){this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;if(a.relatedTarget)this.relatedTarget=a.relatedTarget;else if(this.type==u.events.EventType.MOUSEOVER)this.relatedTarget=a.fromElement;else if(this.type==u.events.EventType.MOUSEOUT)this.relatedTarget=a.toElement;else this.relatedTarget=null;this.offsetX=typeof a.layerX=="number"?a.layerX:a.offsetX;this.offsetY=typeof a.layerY=="number"?a.layerY:a.offsetY;this.clientX=typeof a.clientX=="number"?a.clientX:a.pageX;
this.clientY=typeof a.clientY=="number"?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(this.type==u.events.EventType.KEYPRESS?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.zb=a;this.ad=null;this.ec=null};u.events.BrowserEvent.prototype.stopPropagation=function(){this.ec=true;if(this.zb.stopPropagation)this.zb.stopPropagation();else this.zb.cancelBubble=
true};u.events.BrowserEvent.prototype.preventDefault=function(){this.ad=false;if(!this.zb.preventDefault){this.zb.returnValue=false;try{this.zb.keyCode=-1}catch(a){}}else this.zb.preventDefault()};u.events.BrowserEvent.prototype.dispose=function(){if(!this.ob()){u.events.Event.prototype.dispose.call(this);this.zb=null}};u.events.Listener=function(){};u.events.Listener.Vo=0;u.events.Listener.prototype.Yf=null;u.events.Listener.prototype.listener=null;u.events.Listener.prototype.proxy=null;u.events.Listener.prototype.src=null;u.events.Listener.prototype.type=null;u.events.Listener.prototype.capture=null;u.events.Listener.prototype.handler=null;u.events.Listener.prototype.key=0;u.events.Listener.prototype.removed=false;u.events.Listener.prototype.Td=false;u.events.Listener.prototype.init=function(a,b,e,f,g,h){if(u.isFunction(a))this.Yf=
true;else if(a&&a.Xb&&u.isFunction(a.Xb))this.Yf=false;else throw Error("Invalid listener argument");this.listener=a;this.proxy=b;this.src=e;this.type=f;this.capture=!(!g);this.handler=h;this.Td=false;this.key=++u.events.Listener.Vo;this.removed=false};u.events.Listener.prototype.Xb=function(a){if(this.Yf)return this.listener.call(this.handler||this.src,a);return this.listener.Xb.call(this.listener,a)};u.object={};u.object.forEach=function(a,b,e){for(var f in a)b.call(e,a[f],f,a)};u.object.filter=function(a,b,e){var f={};for(var g in a)if(b.call(e,a[g],g,a))f[g]=a[g];return f};u.object.map=function(a,b,e){var f={};for(var g in a)f[g]=b.call(e,a[g],g,a);return f};u.object.some=function(a,b,e){for(var f in a)if(b.call(e,a[f],f,a))return true;return false};u.object.every=function(a,b,e){for(var f in a)if(!b.call(e,a[f],f,a))return false;return true};u.object.l=function(a){var b=0;for(var e in a)b++;
return b};u.object.getAnyKey=function(a){for(var b in a)return b};u.object.getAnyValue=function(a){for(var b in a)return a[b]};u.object.contains=function(a,b){return u.object.Lc(a,b)};u.object.v=function(a){var b=[];for(var e in a)b.push(a[e]);return b};u.object.ka=function(a){var b=[];for(var e in a)b.push(e);return b};u.object.Nb=function(a,b){return b in a};u.object.Lc=function(a,b){for(var e in a)if(a[e]==b)return true;return false};u.object.r=function(a){for(var b in a)return false;return true};
u.object.clear=function(a){var b=u.object.ka(a);for(var e=b.length-1;e>=0;e--)u.object.remove(a,b[e])};u.object.remove=function(a,b){var e;if(e=b in a)delete a[b];return e};u.object.add=function(a,b,e){if(b in a)throw Error('The object already contains the key "'+b+'"');u.object.set(a,b,e)};u.object.get=function(a,b,e){if(b in a)return a[b];return e};u.object.set=function(a,b,e){a[b]=e};u.object.clone=function(a){var b={};for(var e in a)b[e]=a[e];return b};u.object.transpose=function(a){var b={},
e=u.object.ka(a);for(var f=0,g=e.length;f<g;f++){var h=e[f];b[a[h]]=h}return b};u.object.Wj=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];u.object.extend=function(a){var b,e;for(var f=1;f<arguments.length;f++){e=arguments[f];for(b in e)a[b]=e[b];for(var g=0;g<u.object.Wj.length;g++){b=u.object.Wj[g];if(Object.prototype.hasOwnProperty.call(e,b))a[b]=e[b]}}};u.structs={};u.structs.SimplePool=function(a,b){u.Disposable.call(this);this.cc=b;this.ua=[];this.yk(a)};u.inherits(u.structs.SimplePool,u.Disposable);u.structs.SimplePool.prototype.kf=null;u.structs.SimplePool.prototype.of=null;u.structs.SimplePool.prototype.Jd=function(a){this.kf=a};u.structs.SimplePool.prototype.qj=function(a){this.of=a};u.structs.SimplePool.prototype.Ma=function(){if(this.ua.length)return this.ua.pop();return this.Ob()};u.structs.SimplePool.prototype.vb=function(a){if(this.ua.length<
this.cc)this.ua.push(a);else this.Pb(a)};u.structs.SimplePool.prototype.yk=function(a){if(a>this.cc)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var b=0;b<a;b++)this.ua.push(this.Ob())};u.structs.SimplePool.prototype.Ob=function(){if(this.kf)return this.kf();else return{}};u.structs.SimplePool.prototype.Pb=function(a){if(this.of)this.of(a);else if(u.isFunction(a.dispose))a.dispose();else for(var b in a)delete a[b]};u.structs.SimplePool.prototype.dispose=function(){if(!this.ob()){u.structs.SimplePool.p.dispose.call(this);
var a=this.ua;while(a.length)this.Pb(a.pop());this.ua=null}};u.events.Sa={};u.events.Ba={};u.events.hc={};u.events.OBJECT_POOL_INITIAL_COUNT=0;u.events.OBJECT_POOL_MAX_COUNT=600;u.events.Hd=new u.structs.SimplePool(u.events.OBJECT_POOL_INITIAL_COUNT,u.events.OBJECT_POOL_MAX_COUNT);u.events.Hd.Jd(function(){return{ca:0}});u.events.Hd.qj(function(a){a.ca=0});u.events.ARRAY_POOL_INITIAL_COUNT=0;u.events.ARRAY_POOL_MAX_COUNT=600;u.events.Ic=new u.structs.SimplePool(u.events.ARRAY_POOL_INITIAL_COUNT,u.events.ARRAY_POOL_MAX_COUNT);u.events.Ic.Jd(function(){return[]});
u.events.Ic.qj(function(a){a.length=0;delete a.Be;delete a.Ri});u.events.HANDLE_EVENT_PROXY_POOL_INITIAL_COUNT=0;u.events.HANDLE_EVENT_PROXY_POOL_MAX_COUNT=600;u.events.Vl=new u.structs.SimplePool(u.events.HANDLE_EVENT_PROXY_POOL_INITIAL_COUNT,u.events.HANDLE_EVENT_PROXY_POOL_MAX_COUNT);u.events.Vl.Jd(function(){var a=function(b){return u.events.lp.call(a.src,a.key,b)};return a});u.events.LISTENER_POOL_INITIAL_COUNT=0;u.events.LISTENER_POOL_MAX_COUNT=600;u.events.Yo=function(){return new u.events.Listener};
u.events.Ii=new u.structs.SimplePool(u.events.LISTENER_POOL_INITIAL_COUNT,u.events.LISTENER_POOL_MAX_COUNT);u.events.Ii.Jd(u.events.Yo);u.events.EVENT_POOL_INITIAL_COUNT=0;u.events.EVENT_POOL_MAX_COUNT=600;u.events.Wo=function(){return new u.events.BrowserEvent};u.events.Xo=function(){var a=null;if(u.userAgent.IE){a=new u.structs.SimplePool(u.events.EVENT_POOL_INITIAL_COUNT,u.events.EVENT_POOL_MAX_COUNT);a.Jd(u.events.Wo)}return a};u.events.Tk=u.events.Xo();u.events.Op="on";u.events.Yi={};u.events.Fq=
"_";u.events.listen=function(a,b,e,f,g){if(u.isArray(b)){for(var h=0;h<b.length;h++)u.events.listen(a,b[h],e,f,g);return null}var i=!(!f),j=u.events.Ba;if(!(b in j))j[b]=u.events.Hd.Ma();j=j[b];if(!(i in j)){j[i]=u.events.Hd.Ma();j.ca++}j=j[i];var k=u.getHashCode(a),m,n;if(!j[k]){m=(j[k]=u.events.Ic.Ma());j.ca++}else{m=j[k];for(var h=0;h<m.length;h++){n=m[h];if(n.listener==e&&n.handler==g){if(n.removed)break;return m[h].key}}}var o=u.events.Vl.Ma();o.src=a;n=u.events.Ii.Ma();n.init(e,o,a,b,i,g);var p=
n.key;o.key=p;m.push(n);u.events.Sa[p]=n;if(!u.events.hc[k])u.events.hc[k]=u.events.Ic.Ma();u.events.hc[k].push(n);if(a.addEventListener){if(a==u.global||!a.eh)a.addEventListener(b,o,i)}else a.attachEvent(u.events.yl(b),o);return p};u.events.listenOnce=function(a,b,e,f,g){if(u.isArray(b)){for(var h=0;h<b.length;h++)u.events.listenOnce(a,b[h],e,f,g);return null}var i=u.events.listen(a,b,e,f,g),j=u.events.Sa[i];j.Td=true;return i};u.events.unlisten=function(a,b,e,f,g){if(u.isArray(b)){for(var h=0;h<
b.length;h++)u.events.unlisten(a,b[h],e,f,g);return null}var i=!(!f),j=u.events.Mh(a,b,i);if(!j)return false;for(var h=0;h<j.length;h++)if(j[h].listener==e&&j[h].capture==i&&j[h].handler==g)return u.events.unlistenByKey(j[h].key);return false};u.events.unlistenByKey=function(a){if(!u.events.Sa[a])return false;var b=u.events.Sa[a];if(b.removed)return false;var e=b.src,f=b.type,g=b.proxy,h=b.capture;if(e.removeEventListener){if(e==u.global||!e.eh)e.removeEventListener(f,g,h)}else if(e.detachEvent)e.detachEvent(u.events.yl(f),
g);var i=u.getHashCode(e),j=u.events.Ba[f][h][i];if(u.events.hc[i]){var k=u.events.hc[i];u.array.remove(k,b);if(k.length==0)delete u.events.hc[i]}b.removed=true;j.Ri=true;u.events.ok(f,h,i,j);delete u.events.Sa[a];return true};u.events.ok=function(a,b,e,f){if(!f.Be)if(f.Ri){for(var g=0,h=0;g<f.length;g++){if(f[g].removed){u.events.Ii.vb(f[g]);continue}if(g!=h)f[h]=f[g];h++}f.length=h;f.Ri=false;if(h==0){u.events.Ic.vb(f);delete u.events.Ba[a][b][e];u.events.Ba[a][b].ca--;if(u.events.Ba[a][b].ca==
0){u.events.Hd.vb(u.events.Ba[a][b]);delete u.events.Ba[a][b];u.events.Ba[a].ca--}if(u.events.Ba[a].ca==0){u.events.Hd.vb(u.events.Ba[a]);delete u.events.Ba[a]}}}};u.events.$c=function(a,b,e){var f=0,g=a==null,h=b==null,i=e==null;e=!(!e);if(!g){var j=u.getHashCode(a);if(u.events.hc[j]){var k=u.events.hc[j];for(var m=k.length-1;m>=0;m--){var n=k[m];if((h||b==n.type)&&(i||e==n.capture)){u.events.unlistenByKey(n.key);f++}}}}else u.object.forEach(u.events.hc,function(o){for(var p=o.length-1;p>=0;p--){var v=
o[p];if((h||b==v.type)&&(i||e==v.capture)){u.events.unlistenByKey(v.key);f++}}});return f};u.events.getListeners=function(a,b,e){return u.events.Mh(a,b,e)||[]};u.events.Mh=function(a,b,e){var f=u.events.Ba;if(b in f){f=f[b];if(e in f){f=f[e];var g=u.getHashCode(a);if(f[g])return f[g]}}return null};u.events.getListener=function(a,b,e,f,g){var h=!(!f),i=u.events.Mh(a,b,h);if(i)for(var j=0;j<i.length;j++)if(i[j].listener==e&&i[j].capture==h&&i[j].handler==g)return i[j];return null};u.events.hasListener=
function(a,b,e){var f=u.events.Ba;if(b in f){f=f[b];if(e in f){f=f[e];var g=u.getHashCode(a);if(f[g])return true}}return false};u.events.expose=function(a){var b=[];for(var e in a)if(a[e]&&a[e].id)b.push(e+" = "+a[e]+" ("+a[e].id+")");else b.push(e+" = "+a[e]);return b.join("\n")};u.events.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",
FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:u.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:u.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",SELECT:"select",SUBMIT:"submit",LOAD:"load",UNLOAD:"unload",HELP:"help",RESIZE:"resize",SCROLL:"scroll",READYSTATECHANGE:"readystatechange",CONTEXTMENU:"contextmenu"};u.events.yl=function(a){if(a in u.events.Yi)return u.events.Yi[a];return u.events.Yi[a]=u.events.Op+a};u.events.fireListeners=function(a,b,e,f){var g=1,h=u.events.Ba;if(b in h){h=h[b];if(e in
h){h=h[e];var i=u.getHashCode(a);if(h[i]){var j=h[i];if(!j.Be)j.Be=1;else j.Be++;try{var k=j.length;for(var m=0;m<k;m++){var n=j[m];if(n&&!n.removed)g&=u.events.fireListener(n,f)!==false}}finally{j.Be--;u.events.ok(b,e,i,j)}}}}return Boolean(g)};u.events.fireListener=function(a,b){var e=a.Xb(b);if(a.Td)u.events.unlistenByKey(a.key);return e};u.events.getTotalListenerCount=function(){return u.object.l(u.events.Sa)};u.events.dispatchEvent=function(a,b){if(u.isString(b))b=new u.events.Event(b,a);else if(!(b instanceof
u.events.Event)){var e=b;b=new u.events.Event(b.type,a);u.object.extend(b,e)}else b.target=b.target||a;var f=1,g,h=b.type,i=u.events.Ba;if(!(h in i))return true;i=i[h];var j=true in i,k=false in i;if(j){g=[];for(var m=a;m;m=m.je())g.push(m);for(var n=g.length-1;!b.ec&&n>=0;n--){b.currentTarget=g[n];f&=u.events.fireListeners(g[n],b.type,true,b)&&b.ad!=false}}if(k)if(j)for(var n=0;!b.ec&&n<g.length;n++){b.currentTarget=g[n];f&=u.events.fireListeners(g[n],b.type,false,b)&&b.ad!=false}else for(var o=
a;!b.ec&&o;o=o.je()){b.currentTarget=o;f&=u.events.fireListeners(o,b.type,false,b)&&b.ad!=false}return Boolean(f)};u.events.lp=function(a,b){if(!u.events.Sa[a])return true;var e=u.events.Sa[a],f=e.type,g=u.events.Ba;if(!(f in g))return true;g=g[f];var h;if(u.userAgent.IE){var i=b||u.getObjectByName("window.event"),j=true in g;if(j){if(u.events.vp(i))return true;u.events.Ep(i)}u.getHashCode(e.src);var k=u.events.Tk.Ma();k.init(i,this);h=true;try{if(j){var m=u.events.Ic.Ma();for(var n=k.currentTarget;n;n=
n.parentNode)m.push(n);for(var o=m.length-1;!k.ec&&o>=0;o--){k.currentTarget=m[o];h&=u.events.fireListeners(m[o],f,true,k)}for(var o=0;!k.ec&&o<m.length;o++){k.currentTarget=m[o];h&=u.events.fireListeners(m[o],f,false,k)}}else h=u.events.fireListener(e,k)}finally{if(m){m.length=0;u.events.Ic.vb(m)}k.dispose();u.events.Tk.vb(k)}return h}var p=new u.events.BrowserEvent(b,this);try{h=u.events.fireListener(e,p)}finally{p.dispose()}return h};u.events.Ep=function(a){var b=false;if(a.keyCode==0)try{a.keyCode=
-1;return}catch(e){b=true}if(b||a.returnValue==undefined)a.returnValue=true};u.events.vp=function(a){return a.keyCode<0||a.returnValue!=undefined};u.events.EventTarget=function(){};u.inherits(u.events.EventTarget,u.Disposable);u.events.EventTarget.prototype.eh=true;u.events.EventTarget.prototype.dj=null;u.events.EventTarget.prototype.je=function(){return this.dj};u.events.EventTarget.prototype.addEventListener=function(a,b,e,f){u.events.listen(this,a,b,e,f)};u.events.EventTarget.prototype.removeEventListener=function(a,b,e,f){u.events.unlisten(this,a,b,e,f)};u.events.EventTarget.prototype.dispatchEvent=function(a){return u.events.dispatchEvent(this,
a)};u.events.EventTarget.prototype.dispose=function(){if(!this.ob()){u.Disposable.prototype.dispose.call(this);u.events.$c(this);this.dj=null}};c.sbs={};c.sbs.AutoComplete=function(a,b){c.Modules.addListener(c.Modules.CLOSURE_MODULE,c.sbs.AutoComplete.mp.partial(a,b));c.Modules.loadScript("/books/cl.js")};c.sbs.AutoComplete.mp=function(a,b){var e=u.array.map(b,function(f){return document.getElementById(f)});e=u.array.filter(e,function(f){return!(!f)});new _OC_ACHook(a,e)};window._OC_AutoComplete=c.sbs.AutoComplete;c.sbs.AjaxLink=function(a,b,e,f,g,h){this.Up=e;this.De=a;this.xg=b;this.wk=g;this.Yp=h;a.onclick="";this.click(f);setTimeout(this.En.bind(this),0)};c.sbs.AjaxLink.prototype.En=function(){O(this.De,z,this.click.bind(this))};c.sbs.AjaxLink.prototype.click=function(a){if(a)if(c.dom.getParentWithTagName(c.util.Events.getTargetElement(a),"a"))c.util.Events.cancel(a);else return;if(!this.wk||confirm(this.wk)){this.Ui=this.De.innerHTML;this.De.innerHTML='<span style="color:gray">'+_OC_MSG[t]+"</span>";c.XmlHttp.getJSONObjectViaPost(this.xg,
c.XmlHttp.encodePostParameters(this.Up),this.Sf.bind(this),this.Qf.bind(this))}};c.sbs.AjaxLink.prototype.Sf=function(a){if(this.Yp)window.location.reload(true);else{var b=a.redirect_url;if(b)window.location.href=b;else{this.De.innerHTML=a.html;this.xg=a.url}}};c.sbs.AjaxLink.prototype.Qf=function(){this.De.innerHTML=this.Ui};var _OC_AjaxLink=c.sbs.AjaxLink;c.sbs.AnnotationEditor={};c.sbs.AnnotationEditor.autoCompleteLabels=[];c.sbs.AnnotationEditor.setUrls=function(a,b,e){c.sbs.AnnotationEditor.Rk=a;c.sbs.AnnotationEditor.$o=b;c.sbs.AnnotationEditor.Io=e};c.sbs.AnnotationEditor.getContainerDiv=function(a,b){return c.dom.walkDOM(c.dom.getParentWithClass(a,"sbsentry"),function(e){if(c.dom.isClass(e,b))return true},true)};c.sbs.AnnotationEditor.edit=function(a,b){var e=c.sbs.AnnotationEditor.getContainerDiv(a,b);e.className="sbsedit "+b;var f;if(f=c.dom.walkDOM(e,
function(g){if(c.dom.isNodeType(g,"input")&&g.type=="text"||c.dom.isNodeType(g,"textarea"))return true},true))f.focus()};c.sbs.AnnotationEditor.save=function(a,b){c.sbs.AnnotationEditor.gg(a,b,c.sbs.AnnotationEditor.Rk,true)};c.sbs.AnnotationEditor.silentSave=function(a,b){c.sbs.AnnotationEditor.gg(a,b,c.sbs.AnnotationEditor.Rk,false)};c.sbs.AnnotationEditor.gg=function(a,b,e,f){var g=c.dom.getParentWithClass(a,"sbsentry"),h=c.sbs.AnnotationEditor.getContainerDiv(a,b);c.sbs.AnnotationEditor.cp(h);
c.XmlHttp.post(e,c.XmlHttp.encodePostParameters(c.XmlHttp.findPostParams(h)),c.sbs.AnnotationEditor.Sf.bind(g,b,f),c.sbs.AnnotationEditor.Qf.bind(h))};c.sbs.AnnotationEditor.add=function(a,b){c.sbs.AnnotationEditor.gg(a,b,c.sbs.AnnotationEditor.Io,true)};c.sbs.AnnotationEditor.remove=function(a,b){c.sbs.AnnotationEditor.gg(a,b,c.sbs.AnnotationEditor.$o,true)};c.sbs.AnnotationEditor.cancel=function(a,b){if(a.form)a.form.reset();c.sbs.AnnotationEditor.getContainerDiv(a,b).className="sbs "+b};c.sbs.AnnotationEditor.Sf=
function(a,b,e){if(b){try{var f=eval("("+e+")")}catch(g){return}if(f.widget){this.innerHTML=f.widget;var h=f.labels;if(h&&h.length){c.sbs.AnnotationEditor.autoCompleteLabels.splice(0,c.sbs.AnnotationEditor.autoCompleteLabels.length);u.array.forEach(h,function(k){c.sbs.AnnotationEditor.autoCompleteLabels.push(k)});var i=f.side_labels;if(i){var j=c.util.getElemById("sbs_panel_labels");if(j)j.innerHTML=i}}}}};c.sbs.AnnotationEditor.Qf=function(){throw{};};c.sbs.AnnotationEditor.cp=function(a){c.dom.walkDOM(a,
function(b){if(c.dom.isNodeType(b,"input")&&b.type=="button")b.disabled=true},false)};var _OC_AnnotationEditor=c.sbs.AnnotationEditor;c.sbs.Hooks={};window._setClass=function(a,b){c.dom.setClass(c.util.getElemById(a),b)};c.sbs.Ratings=function(a,b,e){u.events.EventTarget.call(this);this.He=[];this.vm=-1;c.style.setStyles(b,{display:s});for(var f=0;f<b.options.length;f++){var g=c.dom.createElement("span");c.style.setAttributes(g,{title:b.options[f].text,index:f});this.vj(g,f,false);c.dom.appendChild(a,g);this.He.push(g)}c.style.setStyles(a,{width:77});this.Ng=b;this.tj(b.selectedIndex);this.se(this.me());this.gq=e;O(a,z,this.bm.bind(this));O(a,E,this.rb.bind(this));O(a,F,this.$b.bind(this))};c.sbs.Ratings.inherits(u.events.EventTarget);
c.sbs.Ratings.prototype.se=function(a){this.vm=a;for(var b=1,e;e=this.He[b];b++)this.vj(e,b,b<=a)};c.sbs.Ratings.prototype.tj=function(a){if(a>=this.He.length||a<0)return;if(a==this.me())return;this.Ng.selectedIndex=a;this.se(this.me());this.dispatchEvent(y);if(this.gq)c.sbs.AnnotationEditor.silentSave(this.Ng,"rating")};c.sbs.Ratings.prototype.me=function(){return this.Ng.selectedIndex};c.sbs.Ratings.prototype.$b=function(a){var b=c.util.Events.getTargetElement(a).index;if(this.vm==b)return;this.se(b)};
c.sbs.Ratings.prototype.rb=function(a){if(a.relatedTarget&&typeof a.relatedTarget.index!="undefined")return;this.se(this.me())};c.sbs.Ratings.prototype.bm=function(a){if(a.relatedTarget&&typeof a.relatedTarget.index!="undefined")return;this.tj(c.util.Events.getTargetElement(a).index)};c.sbs.Ratings.prototype.vj=function(a,b,e){if(b==0)return;var f=13;if(b==1)f=20;if(b==this.He.length-1)f=18;var g=e?"0px -60px":"0px -40px";if(b==1)g=e?"0px -20px":"0px 0px";if(b==this.He.length-1)g=e?"0px -100px":"0px -80px";
c.style.setStyles(a,{paddingLeft:f,height:19,cursor:"pointer",cssFloat:"left",backgroundImage:"url(/googlebooks/rating_star.gif)",backgroundRepeat:"no-repeat",backgroundPosition:g})};window._OC_RatingsFactory=function(a,b){var e=c.util.getElemById(a),f=c.dom.walkDOM(e,function(g){if(g.name&&c.dom.isNodeType(g,"select"))return true},true);return new c.sbs.Ratings(e,f,b)};c.layout={};c.layout.LayoutItem=function(){};c.layout.FlowItem=function(){c.layout.LayoutItem.call(this)};c.layout.FlowItem.inherits(c.layout.LayoutItem);c.layout.FlowItem.prototype.ea=u.abstractMethod;c.layout.FlowItem.prototype.setPosition=function(a){this.Wp=a};c.layout.FlowItem.prototype.va=function(){return this.Uh(0)};c.layout.FlowItem.prototype.Ia=function(){return this.Uh(1)};c.layout.FlowItem.prototype.Tc=function(a){if(this.contains(a))return 0;return Math.min(Math.abs(this.va()-a),Math.abs(this.Ia()-a))};c.layout.FlowItem.prototype.contains=
function(a){return this.va()<=a&&this.Ia()>=a};c.layout.FlowItem.prototype.Uh=function(a){return Math.round(this.Wp+this.ea()*a)};c.layout.FlowPage=function(a,b){c.layout.FlowItem.call(this);this.qa=a;this.jb=b};c.layout.FlowPage.inherits(c.layout.FlowItem);c.layout.FlowPage.prototype.d=function(){return this.qa};c.layout.FlowPage.prototype.ea=function(){var a=c.util.evaluate(this.jb);return Math.floor(this.Mf()*a)};c.layout.FlowPage.prototype.Mf=u.abstractMethod;c.layout.VerticalFlowPage=function(a,b){c.layout.FlowPage.call(this,a,b)};c.layout.VerticalFlowPage.inherits(c.layout.FlowPage);c.layout.VerticalFlowPage.prototype.Mf=function(){return this.qa.vd()};u.iter={};if("StopIteration"in u.global)u.iter.StopIteration=u.global.StopIteration;else u.iter.StopIteration=Error("StopIteration");u.iter.Iterator=function(){};u.iter.Iterator.prototype.next=function(){throw u.iter.StopIteration;};u.iter.Iterator.prototype.__iterator__=function(){return this};u.iter.toIterator=function(a){if(a instanceof u.iter.Iterator)return a;if(typeof a.__iterator__=="function")return a.__iterator__(false);if(u.isArrayLike(a)){var b=0,e=new u.iter.Iterator;e.next=function(){while(true){if(b>=
a.length)throw u.iter.StopIteration;if(!(b in a)){b++;continue}return a[b++]}};return e}throw Error("Not implemented");};u.iter.forEach=function(a,b,e){if(u.isArrayLike(a))try{u.array.forEach(a,b,e)}catch(f){if(f!==u.iter.StopIteration)throw f;}else{a=u.iter.toIterator(a);try{while(true)b.call(e,a.next(),undefined,a)}catch(f){if(f!==u.iter.StopIteration)throw f;}}};u.iter.filter=function(a,b,e){a=u.iter.toIterator(a);var f=new u.iter.Iterator;f.next=function(){while(true){var g=a.next();if(b.call(e,
g,undefined,a))return g}};return f};u.iter.range=function(a,b,e){var f=0,g=a,h=e||1;if(arguments.length>1){f=a;g=b}if(h==0)throw Error("Range step argument must not be zero");var i=new u.iter.Iterator;i.next=function(){if(h>0&&f>=g||h<0&&f<=g)throw u.iter.StopIteration;var j=f;f+=h;return j};return i};u.iter.join=function(a,b){return u.iter.toArray(a).join(b)};u.iter.map=function(a,b,e){a=u.iter.toIterator(a);var f=new u.iter.Iterator;f.next=function(){while(true){var g=a.next();return b.call(e,g,
undefined,a)}};return f};u.iter.some=function(a,b,e){a=u.iter.toIterator(a);try{while(true)if(b.call(e,a.next(),undefined,a))return true}catch(f){if(f!==u.iter.StopIteration)throw f;}return false};u.iter.every=function(a,b,e){a=u.iter.toIterator(a);try{while(true)if(!b.call(e,a.next(),undefined,a))return false}catch(f){if(f!==u.iter.StopIteration)throw f;}return true};u.iter.chain=function(){var a=arguments,b=a.length,e=0,f=new u.iter.Iterator;f.next=function(){try{if(e>=b)throw u.iter.StopIteration;
var g=u.iter.toIterator(a[e]);return g.next()}catch(h){if(h!==u.iter.StopIteration||e>=b)throw h;else{e++;return this.next()}}};return f};u.iter.dropWhile=function(a,b,e){a=u.iter.toIterator(a);var f=new u.iter.Iterator,g=true;f.next=function(){while(true){var h=a.next();if(g&&b.call(e,h,undefined,a))continue;else g=false;return h}};return f};u.iter.takeWhile=function(a,b,e){a=u.iter.toIterator(a);var f=new u.iter.Iterator,g=true;f.next=function(){while(true)if(g){var h=a.next();if(b.call(e,h,undefined,
a))return h;else g=false}else throw u.iter.StopIteration;};return f};u.iter.toArray=function(a){if(u.isArrayLike(a))return u.array.toArray(a);a=u.iter.toIterator(a);var b=[];u.iter.forEach(a,function(e){b.push(e)});return b};u.iter.equals=function(a,b){a=u.iter.toIterator(a);b=u.iter.toIterator(b);var e,f;try{while(true){e=(f=false);var g=a.next();e=true;var h=b.next();f=true;if(g!=h)return false}}catch(i){if(i!==u.iter.StopIteration)throw i;else{if(e&&!f)return false;if(!f)try{h=b.next();return false}catch(i){if(i!==
u.iter.StopIteration)throw i;return true}}}return false};u.structs.l=function(a){if(typeof a.l=="function")return a.l();if(u.isArrayLike(a)||u.isString(a))return a.length;return u.object.l(a)};u.structs.v=function(a){if(typeof a.v=="function")return a.v();if(u.isString(a))return a.split("");if(u.isArrayLike(a)){var b=[],e=a.length;for(var f=0;f<e;f++)b.push(a[f]);return b}return u.object.v(a)};u.structs.ka=function(a){if(typeof a.ka=="function")return a.ka();if(typeof a.v=="function")return undefined;if(u.isArrayLike(a)||u.isString(a)){var b=[],e=a.length;
for(var f=0;f<e;f++)b.push(f);return b}return u.object.ka(a)};u.structs.contains=function(a,b){if(typeof a.contains=="function")return a.contains(b);if(typeof a.Lc=="function")return a.Lc(b);if(u.isArrayLike(a)||u.isString(a))return u.array.contains(a,b);return u.object.Lc(a,b)};u.structs.r=function(a){if(typeof a.r=="function")return a.r();if(u.isArrayLike(a)||u.isString(a))return u.array.r(a);return u.object.r(a)};u.structs.clear=function(a){if(typeof a.clear=="function")a.clear();else if(u.isArrayLike(a))u.array.clear(a);
else u.object.clear(a)};u.structs.forEach=function(a,b,e){if(typeof a.forEach=="function")a.forEach(b,e);else if(u.isArrayLike(a)||u.isString(a))u.array.forEach(a,b,e);else{var f=u.structs.ka(a),g=u.structs.v(a),h=g.length;for(var i=0;i<h;i++)b.call(e,g[i],f&&f[i],a)}};u.structs.filter=function(a,b,e,f){if(typeof a.filter=="function")return a.filter(b,e);if(u.isArrayLike(a)||u.isString(a))return u.array.filter(a,b,e);var g,h=u.structs.ka(a),i=u.structs.v(a),j=i.length;if(h&&u.structs.Map){g=new (f||
Object);for(var k=0;k<j;k++)if(b.call(e,i[k],h[k],a))u.structs.Map.set(g,h[k],i[k])}else if(u.structs.Set){g=new (f||Array);for(var k=0;k<j;k++)if(b.call(e,i[k],undefined,a))u.structs.Set.add(g,i[k])}return g};u.structs.map=function(a,b,e,f){if(typeof a.map=="function")return a.map(b,e);if(u.isArrayLike(a)||u.isString(a))return u.array.map(a,b,e);var g,h=u.structs.ka(a),i=u.structs.v(a),j=i.length;if(h&&u.structs.Map){g=new (f||Object);for(var k=0;k<j;k++)u.structs.Map.set(g,h[k],b.call(e,i[k],h[k],
a))}else if(u.structs.Set){g=new (f||Array);for(var k=0;k<j;k++)u.structs.Set.add(g,b.call(e,i[k],undefined,a))}return g};u.structs.some=function(a,b,e){if(typeof a.some=="function")return a.some(b,e);if(u.isArrayLike(a)||u.isString(a))return u.array.some(a,b,e);var f=u.structs.ka(a),g=u.structs.v(a),h=g.length;for(var i=0;i<h;i++)if(b.call(e,g[i],f&&f[i],a))return true;return false};u.structs.every=function(a,b,e){if(typeof a.every=="function")return a.every(b,e);if(u.isArrayLike(a)||u.isString(a))return u.array.every(a,
b,e);var f=u.structs.ka(a),g=u.structs.v(a),h=g.length;for(var i=0;i<h;i++)if(!b.call(e,g[i],f&&f[i],a))return false;return true};u.structs.Queue=function(){this.Qb=[]};u.structs.Queue.prototype.eb=0;u.structs.Queue.prototype.ic=0;u.structs.Queue.prototype.enqueue=function(a){this.Qb[this.ic++]=a};u.structs.Queue.prototype.dequeue=function(){if(this.eb==this.ic)return undefined;var a=this.Qb[this.eb];delete this.Qb[this.eb];this.eb++;return a};u.structs.Queue.prototype.peek=function(){if(this.eb==this.ic)return undefined;return this.Qb[this.eb]};u.structs.Queue.prototype.l=function(){return this.ic-this.eb};u.structs.Queue.prototype.r=
function(){return this.ic-this.eb==0};u.structs.Queue.prototype.clear=function(){this.Qb=[];this.eb=0;this.ic=0};u.structs.Queue.prototype.contains=function(){return u.structs.contains(this.Qb)};u.structs.Queue.prototype.remove=function(a){var b=u.array.indexOf(this.Qb,a);if(b<0)return false;if(b==this.eb)this.dequeue();else{u.array.removeAt(this.Qb,b);this.ic--}return true};u.structs.Queue.prototype.v=function(){var a=[];for(var b=this.eb;b<this.ic;b++)a.push(this.Qb[b]);return a};u.structs.Map=function(a){this.ba={};this.f=[];if(a)this.Pd(a)};u.structs.Map.prototype.ca=0;u.structs.Map.prototype.Ld=0;u.structs.Map.prototype.l=function(){return this.ca};u.structs.Map.prototype.v=function(){this.Vd();var a=[];for(var b=0;b<this.f.length;b++){var e=this.f[b];a.push(this.ba[e])}return a};u.structs.Map.prototype.ka=function(){this.Vd();return this.f.concat()};u.structs.Map.prototype.Nb=function(a){return u.structs.Map.zc(this.ba,a)};u.structs.Map.prototype.Lc=function(a){for(var b=
0;b<this.f.length;b++){var e=this.f[b];if(u.structs.Map.zc(this.ba,e)&&this.ba[e]==a)return true}return false};u.structs.Map.prototype.r=function(){return this.ca==0};u.structs.Map.prototype.clear=function(){this.ba={};this.f.length=0;this.ca=0;this.Ld=0};u.structs.Map.prototype.remove=function(a){if(u.structs.Map.zc(this.ba,a)){delete this.ba[a];this.ca--;this.Ld++;if(this.f.length>2*this.ca)this.Vd();return true}return false};u.structs.Map.prototype.Vd=function(){if(this.ca!=this.f.length){var a=
0,b=0;while(a<this.f.length){var e=this.f[a];if(u.structs.Map.zc(this.ba,e))this.f[b++]=e;a++}this.f.length=b}if(this.ca!=this.f.length){var f={},a=0,b=0;while(a<this.f.length){var e=this.f[a];if(!u.structs.Map.zc(f,e)){this.f[b++]=e;f[e]=1}a++}this.f.length=b}};u.structs.Map.prototype.get=function(a,b){if(u.structs.Map.zc(this.ba,a))return this.ba[a];return b};u.structs.Map.prototype.set=function(a,b){if(!u.structs.Map.zc(this.ba,a)){this.ca++;this.f.push(a);this.Ld++}this.ba[a]=b};u.structs.Map.prototype.Pd=
function(a){var b,e;if(a instanceof u.structs.Map){b=a.ka();e=a.v()}else{b=u.object.ka(a);e=u.object.v(a)}for(var f=0;f<b.length;f++)this.set(b[f],e[f])};u.structs.Map.prototype.clone=function(){return new u.structs.Map(this)};u.structs.Map.prototype.transpose=function(){var a=new u.structs.Map;for(var b=0;b<this.f.length;b++){var e=this.f[b],f=this.ba[e];a.set(f,e)}return a};u.structs.Map.prototype.__iterator__=function(a){this.Vd();var b=0,e=this.f,f=this.ba,g=this.Ld,h=this,i=new u.iter.Iterator;
i.next=function(){while(true){if(g!=h.Ld)throw Error("The map has changed since the iterator was created");if(b>=e.length)throw u.iter.StopIteration;var j=e[b++];return a?j:f[j]}};return i};if(Object.prototype.hasOwnProperty)u.structs.Map.zc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};else u.structs.Map.zc=function(a,b){return b in a&&a[b]!==Object.prototype[b]};u.structs.Map.l=function(a){return u.structs.l(a)};u.structs.Map.v=function(a){return u.structs.v(a)};u.structs.Map.ka=
function(a){if(typeof a.ka=="function")return a.ka();var b=[];if(u.isArrayLike(a))for(var e=0;e<a.length;e++)b.push(e);else return u.object.ka(a);return b};u.structs.Map.Nb=function(a,b){if(typeof a.Nb=="function")return a.Nb(b);if(u.isArrayLike(a))return b<a.length;return u.object.Nb(a,b)};u.structs.Map.Lc=function(a,b){return u.structs.contains(a,b)};u.structs.Map.r=function(a){return u.structs.r(a)};u.structs.Map.clear=function(a){u.structs.clear(a)};u.structs.Map.remove=function(a,b){if(typeof a.remove==
"function")return a.remove(b);if(u.isArrayLike(a))return u.array.removeAt(a,b);return u.object.remove(a,b)};u.structs.Map.add=function(a,b,e){if(typeof a.add=="function")a.add(b,e);else if(u.structs.Map.Nb(a,b))throw Error('The collection already contains the key "'+b+'"');else u.object.set(a,b,e)};u.structs.Map.get=function(a,b,e){if(typeof a.get=="function")return a.get(b,e);if(u.structs.Map.Nb(a,b))return a[b];return e};u.structs.Map.set=function(a,b,e){if(typeof a.set=="function")a.set(b,e);else a[b]=
e};u.structs.Set=function(a){this.ba=new u.structs.Map;if(a)this.Pd(a)};u.structs.Set.Kh=function(a){var b=typeof a;if(b=="object")return"o"+u.getHashCode(a);else return b.substr(0,1)+a};u.structs.Set.prototype.l=function(){return this.ba.l()};u.structs.Set.prototype.add=function(a){this.ba.set(u.structs.Set.Kh(a),a)};u.structs.Set.prototype.Pd=function(a){var b=u.structs.Set.v(a),e=b.length;for(var f=0;f<e;f++)this.add(b[f])};u.structs.Set.prototype.$c=function(a){var b=u.structs.Set.v(a),e=b.length;
for(var f=0;f<e;f++)this.remove(b[f])};u.structs.Set.prototype.remove=function(a){return this.ba.remove(u.structs.Set.Kh(a))};u.structs.Set.prototype.clear=function(){this.ba.clear()};u.structs.Set.prototype.r=function(){return this.ba.r()};u.structs.Set.prototype.contains=function(a){return this.ba.Nb(u.structs.Set.Kh(a))};u.structs.Set.prototype.intersection=function(a){var b=new u.structs.Set,e=u.structs.Set.v(a);for(var f=0;f<e.length;f++){var g=e[f];if(this.contains(g))b.add(g)}return b};u.structs.Set.prototype.v=
function(){return this.ba.v()};u.structs.Set.prototype.clone=function(){return new u.structs.Set(this)};u.structs.Set.prototype.equals=function(a){return this.l()!=u.structs.l(a)?false:this.Im(a)};u.structs.Set.prototype.Im=function(a){var b=u.structs.l(a);if(this.l()>b)return false;if(!(a instanceof u.structs.Set)&&b>5)a=new u.structs.Set(a);return u.structs.every(this,function(e){return u.structs.contains(a,e)})};u.structs.Set.prototype.__iterator__=function(){return this.ba.__iterator__(false)};
u.structs.Set.l=function(a){return u.structs.l(a)};u.structs.Set.v=function(a){return u.structs.v(a)};u.structs.Set.contains=function(a,b){return u.structs.contains(a,b)};u.structs.Set.r=function(a){return u.structs.r(a)};u.structs.Set.clear=function(a){u.structs.clear(a)};u.structs.Set.remove=function(a,b){if(typeof a.remove=="function")return a.remove(b);else if(u.isArrayLike(a))return u.array.remove(a,b);else{for(var e in a)if(a[e]==b){delete a[e];return true}return false}};u.structs.Set.add=function(a,
b){if(typeof a.add=="function")a.add(b);else if(u.isArrayLike(a))a[a.length]=b;else throw Error('The collection does not know how to add "'+b+'"');};u.structs.Pool=function(a,b){u.Disposable.call(this);this.Vm=a||0;this.cc=b||10;if(this.Vm>this.cc)throw Error(u.structs.Pool.zo);this.ua=new u.structs.Queue;this.Hb=new u.structs.Set;this.Lg()};u.inherits(u.structs.Pool,u.Disposable);u.structs.Pool.zo="[goog.structs.Pool] Min can not be greater than max";u.structs.Pool.yo="[goog.structs.Pool] Objects not released";u.structs.Pool.prototype.Ma=function(){var a=this.pn();if(a)this.Hb.add(a);return a};u.structs.Pool.prototype.vb=function(a){if(this.Hb.remove(a)){this.bk(a);
return true}return false};u.structs.Pool.prototype.pn=function(){var a;while(this.Dh()>0){a=this.ua.dequeue();if(!this.Ee(a))this.Lg();else break}if(!a&&this.l()<this.cc)a=this.Ob();return a};u.structs.Pool.prototype.bk=function(a){this.Hb.remove(a);if(this.Ee(a)&&this.l()<this.cc)this.ua.enqueue(a);else this.Pb(a)};u.structs.Pool.prototype.Lg=function(){var a=this.ua;while(this.l()<this.Vm)a.enqueue(this.Ob());while(this.l()>this.cc&&this.Dh()>0)this.Pb(a.dequeue())};u.structs.Pool.prototype.Ob=
function(){return{}};u.structs.Pool.prototype.Pb=function(a){if(typeof a.dispose=="function")a.dispose();else for(var b in a)a[b]=null};u.structs.Pool.prototype.Ee=function(a){if(typeof a.canBeReused=="function")return a.canBeReused();return true};u.structs.Pool.prototype.contains=function(a){return this.ua.contains(a)||this.Hb.contains(a)};u.structs.Pool.prototype.l=function(){return this.ua.l()+this.Hb.l()};u.structs.Pool.prototype.ql=function(){return this.Hb.l()};u.structs.Pool.prototype.Dh=function(){return this.ua.l()};
u.structs.Pool.prototype.r=function(){return this.ua.r()&&this.Hb.r()};u.structs.Pool.prototype.dispose=function(){if(!this.ob()){u.structs.Pool.p.dispose.call(this);if(this.ql()>0)throw Error(u.structs.Pool.yo);u.iter.forEach(this.Hb,this.Pb,this);this.Hb.clear();this.Hb=null;var a=this.ua;while(!a.r())this.Pb(a.dequeue());this.ua=null}};c.viewport={};c.viewport.DrawablePool=function(a){this.vf=a;u.structs.Pool.call(this,0,c.viewport.DrawablePool.cc)};c.viewport.DrawablePool.inherits(u.structs.Pool);c.viewport.DrawablePool.cc=Number.POSITIVE_INFINITY;c.viewport.DrawablePool.prototype.Ob=function(){var a=this.vf();u.events.listen(a,"cleanup",this.vb.bind(this,a));return a};c.viewport.DrawablePool.prototype.Ee=function(){return true};c.viewport.ImageCache=function(a){this.Dd={};this.a=a};c.viewport.ImageCache.prototype.nn=function(a,b,e){this.Dd[a]=this.Dd[a]||{};this.Dd[a][b]=e};c.viewport.ImageCache.prototype.cl=function(a){var b=[];if(this.Dd[a]){var e=[];for(var f in this.Dd[a])e.push(f);e.sort(c.util.compareIntegers);for(var g=0;g<e.length;g++)b.push(this.Dd[a][e[g]])}return b};c.viewport.Drawable=function(){};c.viewport.Drawable.inherits(u.events.EventTarget);c.viewport.Drawable.prototype.cleanup=function(){this.dispatchEvent("cleanup")};c.viewport.HighlightDisplay=function(a,b){this.o=a;this.vk=b;this.qc=this.o.Ka();this.sb();O(this.o,K,this.sb.bind(this));O(this.o,"cleanup",this.pb.bind(this))};c.viewport.HighlightDisplay.prototype.qd=function(a,b,e,f){var g=c.dom.createElement("div");this.qc.appendChild(g);var h=this.Xh(a,b,e,f);c.style.setStyles(g,{position:q,left:h[0],top:h[1],width:h[2],height:h[3]});if(this.vk)c.style.setStyles(g,{filter:c.viewport.HighlightDisplay.Co,opacity:c.viewport.HighlightDisplay.Bo,backgroundColor:this.vk});
return g};c.viewport.HighlightDisplay.Bo=0.3;c.viewport.HighlightDisplay.Co="alpha(opacity=30)";c.viewport.HighlightDisplay.prototype.Fl=function(){return this.o.i()/this.o.d().xd()};c.viewport.HighlightDisplay.prototype.Xh=function(a,b,e,f){var g=this.Fl();return u.array.map([a,b,e,f],function(h){return Math.round(h*g)})};c.viewport.HighlightDisplay.prototype.lh=function(a){u.array.forEach(a,function(b){this.qd.apply(this,b)},this)};c.viewport.HighlightDisplay.prototype.rk=function(){c.dom.emptyNode(this.qc)};
c.viewport.HighlightDisplay.prototype.pb=function(){this.rk()};c.viewport.ClipIndicatorDisplay=function(a){c.viewport.HighlightDisplay.call(this,a)};c.viewport.ClipIndicatorDisplay.inherits(c.viewport.HighlightDisplay);c.viewport.ClipIndicatorDisplay.prototype.sb=function(){if(this.ab)return;var a=this.o.d();if(a){var b=a.jl();if(b){this.lh(b);this.ab=true}}};c.viewport.ClipIndicatorDisplay.prototype.pb=function(){c.viewport.ClipIndicatorDisplay.p.pb.call(this);this.ab=false};c.viewport.ClipIndicatorDisplay.prototype.qd=function(a,b,e,f){this.kd=c.viewport.ClipIndicatorDisplay.p.qd.call(this,
a,b,e,f);c.style.setStyles(this.kd,{border:"2px #aaaaff dashed"});this.gf=c.dom.appendChild(this.kd,c.dom.createElement("img"));this.gf.src=aa;var g=this.Xh(a,b,e,f);c.style.setStyles(this.gf,{position:q,cursor:"pointer",left:g[2]-19,top:4,display:s});O(this.kd,E,this.rb.bind(this));O(this.kd,F,this.qi.bind(this,true));P(this.gf,z,this.cleanup.bind(this))};c.viewport.ClipIndicatorDisplay.prototype.cleanup=function(){c.dom.maybeRemoveNode(this.kd)};c.viewport.ClipIndicatorDisplay.prototype.rb=function(a){var a=
a||window.event;if(!c.dom.contains(this.kd,a.relatedTarget))this.qi(false)};c.viewport.ClipIndicatorDisplay.prototype.qi=function(a){c.style.setStyles(this.gf,{display:a?"":s})};c.viewport.LinkDisplay=function(a,b){c.viewport.HighlightDisplay.call(this,b);this.e=[];this.a=a};c.viewport.LinkDisplay.inherits(c.viewport.HighlightDisplay);c.viewport.LinkDisplay.prototype.sb=function(){if(this.ab)return;var a=this.o.d();if(a){var b=a.vl();if(b){u.array.forEach(b,function(e){var f=e.pop(),g=this.qd.apply(this,e);c.style.setStyles(g,{cursor:"pointer"});this.e.push(O(g,z,this.a.Qe.bind(this.a,f)))},this);this.ab=true}}};c.viewport.LinkDisplay.prototype.pb=function(){c.viewport.SearchDisplay.p.pb.call(this);
this.ab=false;var a;while(a=this.e.pop())Q(a)};c.util.Image={};c.util.Image.onLoad=function(a,b,e){if(c.Detect.IE()){var f=[];f[0]=O(a,"readystatechange",c.util.Image.np.partial(a,c.util.Image.Mg.partial(b),f))}else P(a,"load",c.util.Image.Mg.partial(b));if(e)P(a,"error",c.util.Image.Mg.partial(e))};c.util.Image.Mg=function(a){setTimeout(a,0)};c.util.Image.np=function(a,b,e){if(a.readyState!="complete")return true;Q(e[0]);b()};c.util.ImagePurgatory=function(){this.fb=c.dom.createElement("div");c.style.setStyles(this.fb,{display:s})};c.util.ImagePurgatory.getInstance=function(){if(!c.util.ImagePurgatory.Un)c.util.ImagePurgatory.Un=new c.util.ImagePurgatory;return c.util.ImagePurgatory.Un};c.util.ImagePurgatory.prototype.ck=function(a){c.dom.appendChild(this.fb,a);var b=c.dom.removeNode.partial(a);c.util.Image.onLoad(a,b,b);a.src=l};c.util.Url={};c.util.Url.getUrlForWidth=function(a,b){var e=c.util.Url.stripWidthParam(a),f;if(e.indexOf("?")<0)f="?";else f="&";return e+f+"w="+b};c.util.Url.stripWidthParam=function(a){return a.replace(c.util.Url.Ho,"")};c.util.Url.Ho=/&?(w|h)=[0-9]+/;c.util.Url.parseUrlParameter=function(a,b){var e=new RegExp("[?&]"+a+"=(\\w+)"),f=e.exec(b);if(f)return f[1]};c.util.Url.replaceUrlParameters=function(a,b){for(var e in b)a=c.util.Url.replaceUrlParameter(e,b[e],a);return a};c.util.Url.replaceUrlParameter=
function(a,b,e){var f=e.replace(/#.*/g,""),g=c.util.Url.removeUrlParameter(a,f),h=g.indexOf("?")<0?"?":"&";return g+h+a+"="+encodeURIComponent(b)};c.util.Url.removeUrlParameter=function(a,b){var e=new RegExp("(&"+a+"=[^&#]+)","g");b=b.replace(e,"");var f=new RegExp("(\\?"+a+"=[^&#]+[&#])","g");return b.replace(f,"?")};c.util.Url.getUrlOnDomain=function(a){if(c.util.Url.Kk){var b=c.util.Url.Kk;if(u.string.endsWith(b,"/"))b=b.substring(0,b.length-1);return b+a}return a};c.util.Url.setDomain=function(a){c.util.Url.Kk=
a};c.viewport.PageDisplay=function(a,b,e,f){u.events.EventTarget.call(this);this.a=a;this.yq=b;this.Gc=[];this.Bj=[];this.Vn=[];this.qc=e;this.Gc.push(e);this.Jc=this.Ka();c.style.setStyles(this.Jc,{backgroundColor:"#e6e6e6"});this.Gc.push(this.Jc);this.Aj=f||true;if(this.Aj){var g=this.Ka();this.Gc.push(g);this.Qm=new c.viewport.PageDisplay.$e(g)}};c.viewport.PageDisplay.inherits(u.events.EventTarget);c.viewport.PageDisplay.prototype.rd=function(){return this.qc};c.viewport.PageDisplay.prototype.Ja=
function(a,b){this.Ha=a;this.ac=b;u.array.forEach(this.Gc,function(e){c.style.setStyles(e,{width:a,height:b})});u.array.forEach(this.Bj,function(e){e.Ja(a,b)});u.array.forEach(this.Vn,function(e){e.width=a;e.height=b})};c.viewport.PageDisplay.prototype.i=function(){return this.Ha};c.viewport.PageDisplay.prototype.$=function(){return this.ac};c.viewport.PageDisplay.prototype.la=function(a){this.cleanup();this.qa=a;if(this.$i){Q(this.$i);this.$i=null}this.$i=O(a,K,this.Fb.bind(this,a));this.dispatchEvent("setpageinfo");
this.Fb(a)};c.viewport.PageDisplay.prototype.Fb=function(a){if(a==this.qa)this.dispatchEvent(K)};c.viewport.PageDisplay.prototype.d=function(){return this.qa};c.viewport.PageDisplay.prototype.Rf=function(a){if(a==this.qa){this.dispatchEvent("load");if(this.Aj)this.Qm.hide()}};c.viewport.PageDisplay.prototype.Ka=function(){var a=c.dom.createElement("div");c.dom.appendChild(this.qc,a);c.style.setStyles(a,{position:q,left:0,top:0});return a};c.viewport.PageDisplay.prototype.cleanup=function(){if(this.Aj)this.Qm.show();
this.dispatchEvent("cleanup")};c.viewport.PageDisplay.$e=function(a){this.ja=a;this.Ok()};c.viewport.PageDisplay.$e.prototype.show=function(a){c.style.setStyles(this.ja,{display:a?s:""})};c.viewport.PageDisplay.$e.prototype.hide=function(){this.show(true)};c.viewport.PageDisplay.$e.prototype.Ok=function(){var a={position:q,right:0,color:"#808080",backgroundColor:"white",fontSize:"83%"};for(var b=0;b<2;b++){var e=c.dom.createElement("div");c.dom.appendChild(this.ja,e);c.style.setStyles(e,a);e.innerHTML=
_OC_MSG[t];a.bottom=0}};c.viewport.PageImageDisplay=function(a,b,e){c.viewport.PageDisplay.call(this,a,b,e);var f=this.Ka();this.Gc.push(f);this.jd=new c.viewport.PageImageDisplay.yb(f);this.Bj.push(this.jd);var g=this.Ka();this.Gc.push(g);this.fb=new c.viewport.PageImageDisplay.yb(g);this.Bj.push(this.fb);this.eg=this.Ka();this.Gc.push(this.eg);var h=c.dom.createElement("img");h.src=l;this.Vn.push(h);this.eg.appendChild(h);O(this.eg,D,this.qb.bind(this));O(this.eg,"dragstart",c.util.Events.cancel)};c.viewport.PageImageDisplay.inherits(c.viewport.PageDisplay);
c.viewport.PageImageDisplay.prototype.qb=function(a){var a=a||window.event;a=new u.events.BrowserEvent(a);a.display=this;c.viewport.PageImageDisplay.eventTarget.dispatchEvent(a)};c.viewport.PageImageDisplay.prototype.la=function(a){c.viewport.PageImageDisplay.p.la.call(this,a);if(a.uc())this.Fb(a)};c.viewport.PageImageDisplay.prototype.Fb=function(a){if(a==this.qa){var b=a.uc();if(b&&!this.ab){b=c.util.Url.getUrlForWidth(b,this.Ha);P(this.fb,"load",this.Xl.bind(this,a,b,this.Ha));P(this.jd,"load",
this.Ol.bind(this,a));this.fb.ng(b);var e=this.a.Fh().cl(a.m());e.push(b);this.tp=b;this.jd.uj(e);this.ab=true}if(a.ni([16,8])&&!this.Fd){var f=u.string.subs('<table width=100% height=100%><tr><td><img src="%s"/><br/>%s</td></tr></table>',c.util.Url.getUrlOnDomain("/googlebooks/restricted_logo.gif"),_OC_MSG[la]);this.Fd=this.Ka();new c.viewport.PageImageDisplay.Fo(this.Fd,f,this.Ha,this.ac);this.ab=true;this.Rf(a)}c.viewport.PageImageDisplay.p.Fb.call(this,a)}};c.viewport.PageImageDisplay.prototype.If=
function(){return this.tp};c.viewport.PageImageDisplay.prototype.Xl=function(a,b,e){if(a==this.qa){this.jd.empty();this.a.Fh().nn(a.m(),e,b)}c.viewport.PageImageDisplay.p.Rf.call(this,a)};c.viewport.PageImageDisplay.prototype.Ol=function(a){c.viewport.PageImageDisplay.p.Rf.call(this,a)};c.viewport.PageImageDisplay.prototype.Ib=function(){return this.fb.Ib()||this.jd.Ib()||this.Fd};c.viewport.PageImageDisplay.prototype.cleanup=function(){this.fb.reset();this.jd.reset();this.ab=false;if(this.Fd){c.dom.removeNode(this.Fd);
this.Fd=null}c.viewport.PageImageDisplay.p.cleanup.call(this)};c.viewport.PageImageDisplay.eventTarget=new u.events.EventTarget;c.viewport.PageImageDisplay.yb=function(a,b){u.events.EventTarget.call(this);this.ja=a;this.Ha=b};c.viewport.PageImageDisplay.yb.inherits(u.events.EventTarget);c.viewport.PageImageDisplay.yb.prototype.reset=function(){if(this.pk)return;this.empty();this.pa=c.dom.createElement("img");c.dom.appendChild(this.ja,this.pa);if(this.Ha)c.style.setStyles(this.pa,{width:this.Ha});
this.Ji=false;this.pk=true};c.viewport.PageImageDisplay.yb.prototype.empty=function(){var a=c.Detect.IE(),b;while(b=this.ja.firstChild)if(a)c.util.ImagePurgatory.getInstance().ck(this.ja.firstChild);else{b.src=l;c.dom.removeNode(b)}};c.viewport.PageImageDisplay.yb.prototype.uj=function(a){this.reset();c.util.Image.onLoad(this.pa,this.$l.bind(this,this.pa));for(var b=0;b<a.length;b++)this.pa.src=a[b];this.pk=false};c.viewport.PageImageDisplay.yb.prototype.ng=function(a){this.uj([a])};c.viewport.PageImageDisplay.yb.prototype.Ja=
function(a){this.Ha=a};c.viewport.PageImageDisplay.yb.prototype.$l=function(a){if(this.pa==a){this.dispatchEvent("load");this.Ji=true}};c.viewport.PageImageDisplay.yb.prototype.Ib=function(){return this.Ji};c.viewport.PageImageDisplay.Fo=function(a,b,e,f){this.ja=a;c.style.setStyles(a,{width:e,height:f,backgroundColor:"#FFF"});a.innerHTML=b};c.viewport.PageInfo=function(a){u.events.EventTarget.call(this);this.da={};if(a)this.setData(a)};c.viewport.PageInfo.inherits(u.events.EventTarget);c.viewport.PageInfo.prototype.uc=function(){return this.da.src};c.viewport.PageInfo.prototype.xd=function(){return this.da.w||this.Oa().Sc()};c.viewport.PageInfo.prototype.vd=function(){return this.da.h||this.Oa().Df()};c.viewport.PageInfo.prototype.setData=function(a){for(var b in a)this.da[b]=a[b];this.dispatchEvent(K)};c.viewport.PageInfo.prototype.Re=
function(a){this.ib=a};c.viewport.PageInfo.prototype.Oa=function(){return this.ib};c.viewport.PageInfo.prototype.Db=function(){return this.da.title};c.viewport.ProtoPageInfo=function(a){c.viewport.PageInfo.call(this,a)};c.viewport.ProtoPageInfo.inherits(c.viewport.PageInfo);c.viewport.ProtoPageInfo.Aq=function(a){return{src:a.src,sig:a.purl,title:a.pt,pid:a.pid,orderId:a.pd,flags:a.pf,feedbackUrl:a.uf}};c.viewport.ProtoPageInfo.prototype.Gm=function(){if(this.po)return this.po.readyState<4;return false};c.viewport.ProtoPageInfo.prototype.rh=function(a){var b=c.util.Url.replaceUrlParameter("jscmd","click3",this.Vc());if(a)b=c.util.Url.replaceUrlParameters(b,
a);this.po=c.viewport.ProtoPageInfo.Uo(b,this.Wl.bind(this))};c.viewport.ProtoPageInfo.setCommChannel=function(a){c.viewport.ProtoPageInfo.Uo=a};c.viewport.ProtoPageInfo.prototype.Wl=function(a){this.ib.ve(a)};c.viewport.ProtoPageInfo.prototype.Vc=function(){if(this.da.url)return this.da.url;var a=["pg="+this.m()];if(this.Yh())a.push("sig="+this.Yh());return[this.ib.El(),"&",a.join("&")].join("")};c.viewport.ProtoPageInfo.prototype.xd=function(){return this.da.w||this.Oa().Sc()};c.viewport.ProtoPageInfo.prototype.vd=
function(){return this.Oa().Df()};c.viewport.ProtoPageInfo.prototype.mg=function(a){var b={src:"src",highlights:"highlights",links:"Links",content:"content",flags:"flags",feedbackUrl:"uf"},e={};for(var f in b){var g=b[f];if(a[g]!==undefined)e[f]=a[g]}this.setData(e);this.dispatchEvent(K)};c.viewport.ProtoPageInfo.prototype.ng=function(a){this.setData({src:a})};c.viewport.ProtoPageInfo.prototype.m=function(){return this.da.pid};c.viewport.ProtoPageInfo.prototype.Yh=function(){return this.da.sig};c.viewport.ProtoPageInfo.prototype.Ea=
function(){return this.da.order};c.viewport.ProtoPageInfo.prototype.de=function(){return this.da.content};c.viewport.ProtoPageInfo.prototype.uc=function(){return this.da.src};c.viewport.ProtoPageInfo.prototype.Kl=function(){return this.da.feedbackUrl};c.viewport.ProtoPageInfo.prototype.Jm=function(){return!this.ni([4,8,16])};c.viewport.ProtoPageInfo.prototype.sm=function(a){return!(!(this.da.flags&a))};c.viewport.ProtoPageInfo.prototype.ni=function(a){return u.array.some(a,this.sm.bind(this))};c.viewport.ProtoPageInfo.prototype.nl=
function(){if(this.da.highlights){var a=[];u.array.forEach(this.da.highlights,function(b){a.push([b.X,b.Y,b.W,b.H])});return a}};c.viewport.ProtoPageInfo.prototype.vl=function(){var a=[];if(this.da.links){u.array.forEach(this.da.links,function(b){var e=b.region,f=b.target_pid;a.push([e.X,e.Y,e.W,e.H,f])});return a}};c.viewport.ProtoPageInfo.prototype.jl=function(){if(this.da.clip_highlight){var a=[],b=this.da.clip_highlight;u.array.forEach(["X","Y","W","H"],function(e){a.push(b[e])});return[a]}};c.viewport.PageInfoSet=function(a){u.events.EventTarget.call(this);this.s=[];this.a=a};c.viewport.PageInfoSet.inherits(u.events.EventTarget);c.viewport.PageInfoSet.prototype.zn=function(a,b){this.Hk=a;this.Fk=b};c.viewport.PageInfoSet.prototype.Sc=function(){return this.Hk};c.viewport.PageInfoSet.prototype.Df=function(){return this.Fk};c.viewport.PageInfoSet.prototype.ml=function(){return this.Hk/this.Fk};c.viewport.PageInfoSet.prototype.ri=function(a){if(a instanceof Array){u.array.forEach(a,function(h){h.Re(this)},
this);a.sort(c.viewport.PageInfoSet.Pp);for(var b=0;b<this.s.length;b++){var e=this.s[b].Ea(),f=a[0].Ea();if(e==f)this.s[b]=a.shift();else if(e>f)this.s.splice(b,0,a.shift());if(a.length==0)return}var g;while(g=a.shift())this.s.push(g)}else this.ri([a])};c.viewport.PageInfoSet.Pp=function(a,b){return a.Ea()-b.Ea()};c.viewport.PageInfoSet.prototype.length=function(){return this.s.length};c.viewport.PageInfoSet.prototype.Cl=function(){return this.s};c.viewport.PageInfoSet.prototype.Rh=function(a){return this.s[a]};
c.viewport.PageInfoSet.prototype.he=function(a,b){var e=-1;for(var f=0;f<this.s.length;f++)if(this.s[f].m()==a){e=f;break}if(e>=0)return this.s[b+e]};c.viewport.PageInfoSet.prototype.Bb=function(a){for(var b=0;b<this.s.length;b++)if(this.s[b].m()==a)return this.s[b]};c.viewport.PageInfoSet.prototype.Dl=function(a){for(var b=0;b<this.s.length;b++)if(this.s[b].Db()==a)return this.s[b]};c.viewport.PageInfoSet.prototype.Sh=function(a){for(var b=this.s.length-1;b>=0;b--){var e=this.s[b];if(e.Ea()<=a)return e}};c.viewport.ProtoPageInfoSet=function(a){c.viewport.PageInfoSet.call(this,a)};c.viewport.ProtoPageInfoSet.inherits(c.viewport.PageInfoSet);c.viewport.PageInfoSet.prototype.ve=function(a){var b=a.page;for(var e=0;e<b.length;e++){var f=b[e],g=this.Bb(f.pid);if(g)g.mg(f)}};c.viewport.PageInfoSet.prototype.El=function(){return this.gj};c.viewport.PageInfoSet.prototype.Hn=function(a){this.gj=a};c.viewport.PageInfoSet.prototype.Jn=function(a){this.gj=c.util.Url.replaceUrlParameter("vq",a,this.gj)};c.books={};c.books.BooksPageInfo=function(a){c.viewport.ProtoPageInfo.call(this,a)};c.books.BooksPageInfo.inherits(c.viewport.ProtoPageInfo);c.books.BooksPageInfo.prototype.xd=function(){return this.da.w||this.Oa().Sc()};c.books.BooksPageInfo.prototype.vd=function(){return this.Oa().Df()};c.books.BooksPageInfoSet=function(a){c.viewport.ProtoPageInfoSet.call(this,a)};c.books.BooksPageInfoSet.inherits(c.viewport.ProtoPageInfoSet);c.books.BooksPageInfoSet.prototype.gn=function(a){var b=a.page,e={};u.array.forEach(b,function(g){var h=this.Bb(g.pid);if(h)h.mg(g);e[g.pid]=true},this);var f=this.s.length;this.s=u.array.filter(this.s,function(g){return!(!e[g.m()])});if(f!=this.s.length)this.dispatchEvent(K)};c.books.BooksPageInfoSet.prototype.ve=function(a){if(c.Flags.pseudocontinuous)this.gn(a);
else c.books.BooksPageInfoSet.p.ve.call(this,a)};c.viewport.PageTextDisplay=function(a,b,e){c.viewport.PageDisplay.call(this,a,b,e);this.ld=this.Ka();this.Gc.push(this.ld);this.$g=c.dom.createElement("div");c.dom.appendChild(this.ld,this.$g);c.style.setStyles(this.ld,{display:s,backgroundColor:"#FFFFFF",fontSize:"14px",textAlign:"left",cursor:"auto",overflow:"auto",position:q});c.style.setStyles(this.$g,{padding:10});O(this.ld,D,this.qb.bind(this))};c.viewport.PageTextDisplay.inherits(c.viewport.PageDisplay);c.viewport.PageTextDisplay.prototype.qb=
function(){this.a.zd().rl().ym()};c.viewport.PageTextDisplay.prototype.Fb=function(){if(u.isDef(this.qa.de())){this.$g.innerHTML=this.qa.de();c.style.setStyles(this.ld,{display:""})}};c.viewport.PageTextDisplay.prototype.la=function(a){c.viewport.PageTextDisplay.p.la.call(this,a);this.Fb()};c.viewport.PageTextDisplay.prototype.Ib=function(){return this.Ji};c.viewport.PageTextDisplay.prototype.cleanup=function(){c.viewport.PageTextDisplay.p.cleanup.call(this);c.style.setStyles(this.ld,{display:s})};c.viewport.SearchDisplay=function(a){c.viewport.HighlightDisplay.call(this,a,c.viewport.SearchDisplay.Go)};c.viewport.SearchDisplay.inherits(c.viewport.HighlightDisplay);c.viewport.SearchDisplay.Go="#ffff00";c.viewport.SearchDisplay.prototype.sb=function(){if(this.ab)return;var a=this.o.d();if(a){var b=a.nl();if(b){this.lh(b);this.ab=true}}};c.viewport.SearchDisplay.prototype.pb=function(){c.viewport.SearchDisplay.p.pb.call(this);this.ab=false};u.math={};u.math.Box=function(a,b,e,f){this.top=u.isDef(a)?Number(a):undefined;this.right=u.isDef(b)?Number(b):undefined;this.bottom=u.isDef(e)?Number(e):undefined;this.left=u.isDef(f)?Number(f):undefined};u.math.Box.boundingBox=function(){var a=new u.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x);for(var b=1;b<arguments.length;b++){var e=arguments[b];a.top=Math.min(a.top,e.y);a.right=Math.max(a.right,e.x);a.bottom=Math.max(a.bottom,e.y);a.left=Math.min(a.left,e.x)}return a};
u.math.Box.prototype.clone=function(){return new u.math.Box(this.top,this.right,this.bottom,this.left)};u.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};u.math.Box.prototype.contains=function(a){return u.math.Box.contains(this,a)};u.math.Box.prototype.expand=function(a,b,e,f){if(u.isObject(a)){this.top-=a.top;this.right+=a.right;this.bottom+=a.bottom;this.left-=a.left}else{this.top-=a;this.right+=b;this.bottom+=e;this.left-=f}return this};
u.math.Box.equals=function(a,b){if(a==b)return true;if(!a||!b)return false;return a.top==b.top&&a.right==b.right&&a.bottom==b.bottom&&a.left==b.left};u.math.Box.contains=function(a,b){if(!a||!b)return false;return b.x>=a.left&&b.x<=a.right&&b.y>=a.top&&b.y<=a.bottom};u.math.Box.distance=function(a,b){if(b.x>=a.left&&b.x<=a.right){if(b.y>=a.top&&b.y<=a.bottom)return 0;return b.y<a.top?a.top-b.y:b.y-a.bottom}if(b.y>=a.top&&b.y<=a.bottom)return b.x<a.left?a.left-b.x:b.x-a.right;return u.math.Coordinate.distance(b,
new u.math.Coordinate(b.x<a.left?a.left:a.right,b.y<a.top?a.top:a.bottom))};u.math.Coordinate=function(a,b){this.x=u.isDef(a)?Number(a):undefined;this.y=u.isDef(b)?Number(b):undefined};u.math.Coordinate.prototype.clone=function(){return new u.math.Coordinate(this.x,this.y)};u.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"};u.math.Coordinate.equals=function(a,b){if(a==b)return true;if(!a||!b)return false;return a.x==b.x&&a.y==b.y};u.math.Coordinate.distance=function(a,b){var e=a.x-b.x,f=a.y-b.y;return Math.sqrt(e*e+f*f)};u.math.Coordinate.squaredDistance=
function(a,b){var e=a.x-b.x,f=a.y-b.y;return e*e+f*f};u.math.Coordinate.difference=function(a,b){return new u.math.Coordinate(a.x-b.x,a.y-b.y)};u.math.Range=function(a,b){a=Number(a);b=Number(b);this.start=a<b?a:b;this.end=a<b?b:a};u.math.Range.prototype.clone=function(){return new u.math.Range(this.start,this.end)};u.math.Range.prototype.toString=function(){return"["+this.start+", "+this.end+"]"};u.math.Range.equals=function(a,b){if(a==b)return true;if(!a||!b)return false;return a.start==b.start&&a.end==b.end};u.math.Range.intersection=function(a,b){var e=Math.max(a.start,b.start),f=Math.min(a.end,b.end);return e<=f?new u.math.Range(e,f):
null};u.math.Range.boundingRange=function(a,b){return new u.math.Range(Math.min(a.start,b.start),Math.max(a.end,b.end))};u.math.Range.contains=function(a,b){return a.start<=b.start&&a.end>=b.end};u.math.Rect=function(a,b,e,f){this.left=u.isDef(a)?Number(a):undefined;this.top=u.isDef(b)?Number(b):undefined;this.width=u.isDef(e)?Number(e):undefined;this.height=u.isDef(f)?Number(f):undefined};u.math.Rect.prototype.clone=function(){return new u.math.Rect(this.left,this.top,this.width,this.height)};u.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};u.math.Rect.equals=function(a,b){if(a==b)return true;if(!a||!b)return false;return a.left==
b.left&&a.width==b.width&&a.top==b.top&&a.height==b.height};u.math.Rect.prototype.intersection=function(a){var b=Math.max(this.left,a.left),e=Math.min(this.left+this.width,a.left+a.width);if(b<=e){var f=Math.max(this.top,a.top),g=Math.min(this.top+this.height,a.top+a.height);if(f<=g){this.left=b;this.top=f;this.width=e-b;this.height=g-f;return true}}return false};u.math.Rect.intersection=function(a,b){var e=Math.max(a.left,b.left),f=Math.min(a.left+a.width,b.left+b.width);if(e<=f){var g=Math.max(a.top,
b.top),h=Math.min(a.top+a.height,b.top+b.height);if(g<=h)return new u.math.Rect(e,g,f-e,h-g)}return null};u.math.Rect.intersects=function(a,b){var e=Math.max(a.left,b.left),f=Math.min(a.left+a.width,b.left+b.width);if(e<=f){var g=Math.max(a.top,b.top),h=Math.min(a.top+a.height,b.top+b.height);if(g<=h)return true}return false};u.math.Rect.prototype.intersects=function(a){return u.math.Rect.intersects(this,a)};u.math.Rect.difference=function(a,b){if(!u.math.Rect.intersection(a,b))return[a.clone()];
var e=[],f=a.top,g=a.height,h=a.left+a.width,i=a.top+a.height,j=b.left+b.width,k=b.top+b.height;if(b.top>a.top){e.push(new u.math.Rect(a.left,a.top,a.width,b.top-a.top));f=b.top}if(k<i){e.push(new u.math.Rect(a.left,k,a.width,i-k));g=k-f}if(b.left>a.left)e.push(new u.math.Rect(a.left,f,b.left-a.left,g));if(j<h)e.push(new u.math.Rect(j,f,h-j,g));return e};u.math.Rect.prototype.difference=function(a){return u.math.Rect.difference(this,a)};u.math.Rect.prototype.Qg=function(a){var b=Math.max(this.left+
this.width,a.left+a.width),e=Math.max(this.top+this.height,a.top+a.height);this.left=Math.min(this.left,a.left);this.top=Math.min(this.top,a.top);this.width=b-this.left;this.height=e-this.top};u.math.Rect.Qg=function(a,b){if(!a||!b)return null;var e=a.clone();e.Qg(b);return e};u.math.Size=function(a,b){this.width=u.isDef(a)?Number(a):undefined;this.height=u.isDef(b)?Number(b):undefined};u.math.Size.equals=function(a,b){if(a==b)return true;if(!a||!b)return false;return a.width==b.width&&a.height==b.height};u.math.Size.prototype.clone=function(){return new u.math.Size(this.width,this.height)};u.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};u.math.Size.prototype.area=function(){return this.width*this.height};u.math.Size.prototype.r=function(){return!this.area()};
u.math.Size.prototype.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};u.math.Size.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};u.math.Size.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};u.math.Size.prototype.scale=function(a){this.width*=a;this.height*=a;return this};u.math.randomInt=function(a){return Math.floor(Math.random()*a)};u.math.uniformRandom=function(a,b){return a+Math.random()*(b-a)};u.math.clamp=function(a,b,e){return Math.min(Math.max(a,b),e)};u.math.modulo=function(a,b){var e=a%b;return e*b<0?e+b:e};u.math.lerp=function(a,b,e){return a+e*(b-a)};u.math.nearlyEquals=function(a,b,e){return Math.abs(a-b)<=(e||1.0E-6)};u.math.standardAngle=function(a){return u.math.modulo(a,360)};u.math.toRadians=function(a){return a*Math.PI/180};u.math.toDegrees=function(a){return a*
180/Math.PI};u.math.angleDx=function(a,b){return b*Math.cos(u.math.toRadians(a))};u.math.angleDy=function(a,b){return b*Math.sin(u.math.toRadians(a))};u.math.angle=function(a,b,e,f){return u.math.standardAngle(u.math.toDegrees(Math.atan2(f-b,e-a)))};u.math.angleDifference=function(a,b){var e=u.math.standardAngle(b)-u.math.standardAngle(a);if(e>180)e=e-360;else if(e<=-180)e=360+e;return e};u.math.sign=function(a){return a<0?-1:1};u.dom={};u.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};u.dom.Sb=function(){if(!u.dom.Ek)u.dom.Ek=new u.dom.DomHelper;return u.dom.Ek};u.dom.Ab=function(a){return a?new u.dom.DomHelper(u.dom.oa(a)):u.dom.Sb()};u.dom.bb=function(){return u.dom.Sb().bb()};u.dom.Tb=function(a){return u.dom.Sb().Tb(a)};u.dom.Qj=u.dom.Tb;u.dom.sd=function(a,b,e){return u.dom.Sb().sd(a,
b,e)};u.dom.We=u.dom.sd;u.dom.lg=function(a,b){u.object.forEach(b,function(e,f){if(f=="style")a.style.cssText=e;else if(f=="class")a.className=e;else if(f=="for")a.htmlFor=e;else if(f in u.dom.Tj)a.setAttribute(u.dom.Tj[f],e);else a[f]=e})};u.dom.Tj={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder"};u.dom.ne=function(a){var b=a||u.global||window,e=b.document;if(u.userAgent.SAFARI&&
!u.userAgent.isVersion("500")&&!u.userAgent.MOBILE){if(typeof b.innerHeight=="undefined")b=window;var f=b.innerHeight,g=b.document.documentElement.scrollHeight;if(b==b.top)if(g<f)f-=15;return new u.math.Size(b.innerWidth,f)}var h=u.dom.Ab(e),i=h.Bf()=="CSS1Compat"&&(!u.userAgent.OPERA||u.userAgent.OPERA&&u.userAgent.isVersion("9.50"))?e.documentElement:e.body;return new u.math.Size(i.clientWidth,i.clientHeight)};u.dom.getPageScroll=function(a){var b=a||u.global||window,e=b.document,f,g;if(!u.userAgent.SAFARI&&
e.compatMode=="CSS1Compat"){f=e.documentElement.scrollLeft;g=e.documentElement.scrollTop}else{f=e.body.scrollLeft;g=e.body.scrollTop}return new u.math.Coordinate(f,g)};u.dom.Wb=function(a){return u.dom.Ab(a).Wb()};u.dom.g=function(){var a=u.dom.Sb();return a.g.apply(a,arguments)};u.dom.Rj=u.dom.g;u.dom.createElement=function(a){return u.dom.Sb().createElement(a)};u.dom.createTextNode=function(a){return u.dom.Sb().createTextNode(a)};u.dom.pi=function(a){return u.dom.Sb().pi(a)};u.dom.Bf=function(){return u.dom.Sb().Bf()};
u.dom.appendChild=function(a,b){a.appendChild(b)};u.dom.Je=function(a){var b;while(b=a.firstChild)a.removeChild(b)};u.dom.ti=function(a,b){if(b.parentNode)b.parentNode.insertBefore(a,b)};u.dom.si=function(a,b){if(b.parentNode)b.parentNode.insertBefore(a,b.nextSibling)};u.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};u.dom.Ah=function(a){return u.dom.Lf(a.firstChild,true)};u.dom.Lh=function(a){return u.dom.Lf(a.lastChild,false)};u.dom.Nh=function(a){return u.dom.Lf(a.nextSibling,
true)};u.dom.Vh=function(a){return u.dom.Lf(a.previousSibling,false)};u.dom.Lf=function(a,b){while(a&&a.nodeType!=u.dom.NodeType.ELEMENT)a=b?a.nextSibling:a.previousSibling;return a};u.dom.Zf=function(a){return u.isObject(a)&&a.nodeType>0};u.dom.uo=u.userAgent.SAFARI&&u.userAgent.compare(u.userAgent.VERSION,"521")<=0;u.dom.contains=function(a,b){if(typeof a.contains!="undefined"&&!u.dom.uo&&b.nodeType==u.dom.NodeType.ELEMENT)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==
b||Boolean(a.compareDocumentPosition(b)&16);while(b&&a!=b)b=b.parentNode;return b==a};u.dom.compareNodeOrder=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var e=a.nodeType==u.dom.NodeType.ELEMENT,f=b.nodeType==u.dom.NodeType.ELEMENT,g=e?a.sourceIndex:a.parentNode.sourceIndex,h=f?b.sourceIndex:b.parentNode.sourceIndex;if(g!=h)return g-h;else{if(e)return-1;if(f)return 1;var i=b;
while(i=i.previousSibling)if(i==a)return-1;return 1}}var j=u.dom.oa(a),k,m;k=j.createRange();k.selectNode(a);k.collapse(true);m=j.createRange();m.selectNode(b);m.collapse(true);return k.compareBoundaryPoints(u.global.Range.START_TO_END,m)};u.dom.oa=function(a){return a.nodeType==u.dom.NodeType.DOCUMENT?a:a.ownerDocument||a.document};u.dom.Ff=function(a){return u.userAgent.SAFARI?a.document||a.contentWindow.document:a.contentDocument||a.contentWindow.document};u.dom.Ch=function(a){return a.contentWindow||
u.dom.Wb(u.dom.Ff(a))};u.dom.og=function(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==u.dom.NodeType.TEXT){while(a.lastChild!=a.firstChild)a.removeChild(a.lastChild);a.firstChild.data=b}else{while(a.hasChildNodes())a.removeChild(a.lastChild);var e=u.dom.oa(a);a.appendChild(e.createTextNode(b))}};u.dom.getOuterHtml=function(a){if("outerHTML"in a)return a.outerHTML;else{var b=u.dom.oa(a),e=b.createElement("div");e.appendChild(a.cloneNode(true));return e.innerHTML}};
u.dom.sc=function(a,b){var e=[];u.dom.th(a,b,e,true);return e.length?e[0]:undefined};u.dom.sh=function(a,b){var e=[];u.dom.th(a,b,e,false);return e};u.dom.th=function(a,b,e,f){if(a!=null)for(var g=0,h;h=a.childNodes[g];g++){if(b(h)){e.push(h);if(f)return}u.dom.th(h,b,e,f)}};u.dom.Xj={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1};u.dom.af={IMG:" ",BR:"\n"};u.dom.Wc=function(a){var b;if(u.userAgent.IE&&"innerText"in a)b=u.string.canonicalizeNewlines(a.innerText);else{var e=[];u.dom.ai(a,e,true);b=e.join("")}b=
b.replace(/\xAD/g,"");b=b.replace(/ +/g," ");if(b!=" ")b=b.replace(/^\s*/,"");return b};u.dom.getRawTextContent=function(a){var b=[];u.dom.ai(a,b,false);return b.join("")};u.dom.ai=function(a,b,e){if(a.nodeName in u.dom.Xj){}else if(a.nodeType==u.dom.NodeType.TEXT)if(e)b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,""));else b.push(a.nodeValue);else if(a.nodeName in u.dom.af)b.push(u.dom.af[a.nodeName]);else{var f=a.firstChild;while(f){u.dom.ai(f,b,e);f=f.nextSibling}}};u.dom.Oh=function(a){return u.dom.Wc(a).length};
u.dom.Ph=function(a,b){var e=b||u.dom.oa(a).body,f=[];while(a&&a!=e){var g=a;while(g=g.previousSibling)f.unshift(u.dom.Wc(g));a=a.parentNode}return u.string.trimLeft(f.join("")).replace(/ +/g," ").length};u.dom.getNodeAtOffset=function(a,b,e){var f=[a],g=0,h;while(f.length>0&&g<b){h=f.pop();if(h.nodeName in u.dom.Xj){}else if(h.nodeType==u.dom.NodeType.TEXT){var i=h.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");g+=i.length}else if(h.nodeName in u.dom.af)g+=u.dom.af[h.nodeName].length;else for(var j=
h.childNodes.length-1;j>=0;j--)f.push(h.childNodes[j])}if(u.isObject(e)){e.remainder=h?h.nodeValue.length+b-g-1:0;e.node=h}return h};u.dom.isNodeList=function(a){if(a&&typeof a.length=="number")if(u.isObject(a))return typeof a.item=="function"||typeof a.item=="string";else if(u.isFunction(a))return typeof a.item=="function";return false};u.dom.DomHelper=function(a){this.za=a||u.global.document||document};u.dom.DomHelper.prototype.Ab=u.dom.Ab;u.dom.DomHelper.prototype.bb=function(){return this.za};
u.dom.DomHelper.prototype.Tb=function(a){if(u.isString(a))return this.za.getElementById(a);else return a};u.dom.DomHelper.prototype.Qj=u.dom.DomHelper.prototype.Tb;u.dom.DomHelper.prototype.sd=function(a,b,e){var f=a||"*",g=e||this.za,h=g.getElementsByTagName(f);if(b){var i=[];for(var j=0,k;k=h[j];j++){var m=k.className;if(typeof m.split=="function"&&u.array.contains(m.split(" "),b))i.push(k)}return i}else return h};u.dom.DomHelper.prototype.We=u.dom.DomHelper.prototype.sd;u.dom.DomHelper.prototype.lg=
u.dom.lg;u.dom.DomHelper.prototype.ne=u.dom.ne;u.dom.DomHelper.prototype.g=function(a,b){if(u.userAgent.IE&&b&&b.name)a="<"+a+' name="'+u.string.htmlEscape(b.name)+'">';var e=this.createElement(a);if(b)u.dom.lg(e,b);if(arguments.length>2){function f(i){if(i)this.appendChild(e,u.isString(i)?this.createTextNode(i):i)}for(var g=2;g<arguments.length;g++){var h=arguments[g];if(u.isArrayLike(h)&&!u.dom.Zf(h))u.array.forEach(u.dom.isNodeList(h)?u.array.clone(h):h,f,this);else f.call(this,h)}}return e};u.dom.DomHelper.prototype.Rj=
u.dom.DomHelper.prototype.g;u.dom.DomHelper.prototype.createElement=function(a){return this.za.createElement(a)};u.dom.DomHelper.prototype.createTextNode=function(a){return this.za.createTextNode(a)};u.dom.DomHelper.prototype.pi=function(a){var b=this.za.createElement("div");b.innerHTML=a;if(b.childNodes.length==1)return b.firstChild;else{var e=this.za.createDocumentFragment();while(b.firstChild)e.appendChild(b.firstChild);return e}};u.dom.DomHelper.prototype.Bf=function(){if(this.za.compatMode)return this.za.compatMode;
if(u.userAgent.SAFARI){var a=this.g("div",{style:"position:absolute;width:0;height:0;width:1"}),b=a.style.width=="1px"?"BackCompat":"CSS1Compat";return this.za.compatMode=b}return"BackCompat"};u.dom.DomHelper.prototype.Wb=function(){var a=this.za;if(a.parentWindow)return a.parentWindow;if(u.userAgent.SAFARI&&!u.userAgent.isVersion("500")&&!u.userAgent.MOBILE){var b=a.createElement("script");b.innerHTML="document.parentWindow=window";var e=a.documentElement;e.appendChild(b);e.removeChild(b);return a.parentWindow}return a.defaultView};
u.dom.DomHelper.prototype.appendChild=u.dom.appendChild;u.dom.DomHelper.prototype.Je=u.dom.Je;u.dom.DomHelper.prototype.ti=u.dom.ti;u.dom.DomHelper.prototype.si=u.dom.si;u.dom.DomHelper.prototype.removeNode=u.dom.removeNode;u.dom.DomHelper.prototype.Ah=u.dom.Ah;u.dom.DomHelper.prototype.Lh=u.dom.Lh;u.dom.DomHelper.prototype.Nh=u.dom.Nh;u.dom.DomHelper.prototype.Vh=u.dom.Vh;u.dom.DomHelper.prototype.Zf=u.dom.Zf;u.dom.DomHelper.prototype.contains=u.dom.contains;u.dom.DomHelper.prototype.oa=u.dom.oa;
u.dom.DomHelper.prototype.Ff=u.dom.Ff;u.dom.DomHelper.prototype.Ch=u.dom.Ch;u.dom.DomHelper.prototype.og=u.dom.og;u.dom.DomHelper.prototype.sc=u.dom.sc;u.dom.DomHelper.prototype.sh=u.dom.sh;u.dom.DomHelper.prototype.Wc=u.dom.Wc;u.dom.DomHelper.prototype.Oh=u.dom.Oh;u.dom.DomHelper.prototype.Ph=u.dom.Ph;u.style={};u.style.setStyle=function(a,b,e){if(u.isString(b))u.style.Kn(a,e,b);else u.object.forEach(b,u.partial(u.style.Kn,a))};u.style.Kn=function(a,b,e){a.style[u.style.toCamelCase(e)]=b};u.style.getStyle=function(a,b){return a.style[u.style.toCamelCase(b)]};u.style.getComputedStyle=function(a,b){var e=u.dom.oa(a);if(e.defaultView&&e.defaultView.getComputedStyle){var f=e.defaultView.getComputedStyle(a,"");if(f)return f[b]}return null};u.style.getCascadedStyle=function(a,b){return a.currentStyle?
a.currentStyle[b]:null};u.style.vc=function(a,b){return u.style.getComputedStyle(a,b)||u.style.getCascadedStyle(a,b)||a.style[b]};u.style.getBackgroundColor=function(a){return u.style.vc(a,"backgroundColor")};u.style.setPosition=function(a,b,e){var f,g;if(b instanceof u.math.Coordinate){f=b.x;g=b.y}else{f=b;g=e}a.style.left=typeof f=="number"?Math.round(f)+"px":f;a.style.top=typeof g=="number"?Math.round(g)+"px":g};u.style.getPosition=function(a){return new u.math.Coordinate(a.offsetLeft,a.offsetTop)};
u.style.getClientViewportElement=function(a){var b;if(a)if(a.nodeType==u.dom.NodeType.DOCUMENT)b=a;else b=u.dom.oa(a);else b=u.dom.bb();if(u.userAgent.IE&&b.compatMode!="CSS1Compat")return b.body;return b.documentElement};u.style.getPageOffset=function(a){var b=u.dom.oa(a),e=u.userAgent.GECKO&&b.getBoxObjectFor&&u.style.vc(a,"position")=="absolute"&&(a.style.top==""||a.style.left=="");if(typeof u.style.Sj=="undefined")u.style.Sj=u.userAgent.CAMINO&&!u.userAgent.isVersion("1.8.0.11");var f=new u.math.Coordinate(0,
0),g=u.style.getClientViewportElement(b);if(a==g)return f;var h=null,i;if(a.getBoundingClientRect){i=a.getBoundingClientRect();var j=u.dom.getPageScroll(u.dom.Wb(b));f.x=i.left+j.x;f.y=i.top+j.y}else if(b.getBoxObjectFor&&!e&&!u.style.Sj){i=b.getBoxObjectFor(a);var k=b.getBoxObjectFor(g);f.x=i.screenX-k.screenX;f.y=i.screenY-k.screenY}else{h=a;do{f.x+=h.offsetLeft;f.y+=h.offsetTop;if(u.userAgent.SAFARI&&u.style.vc(h,"position")=="fixed"){f.x+=b.body.scrollLeft;f.y+=b.body.scrollTop;break}h=h.offsetParent}while(h&&
h!=a);if(u.userAgent.OPERA||u.userAgent.SAFARI&&u.style.vc(a,"position")=="absolute")f.y-=b.body.offsetTop;h=a.offsetParent;while(h&&h!=b.body){f.x-=h.scrollLeft;if(!u.userAgent.OPERA||h.tagName!="TR")f.y-=h.scrollTop;h=h.offsetParent}}return f};u.style.getPageOffsetLeft=function(a){return u.style.getPageOffset(a).x};u.style.getPageOffsetTop=function(a){return u.style.getPageOffset(a).y};u.style.getRelativePosition=function(a,b){var e=u.style.getClientPosition(a),f=u.style.getClientPosition(b);return new u.math.Coordinate(e.x-
f.x,e.y-f.y)};u.style.getClientPosition=function(a){var b=new u.math.Coordinate;if(a.nodeType==u.dom.NodeType.ELEMENT)if(a.getBoundingClientRect){var e=a.getBoundingClientRect();b.x=e.left;b.y=e.top}else{var f=u.dom.getPageScroll(u.dom.Wb(u.dom.oa(a))),g=u.style.getPageOffset(a);b.x=g.x-f.x;b.y=g.y-f.y}else{b.x=a.clientX;b.y=a.clientY}return b};u.style.setPageOffset=function(a,b,e){var f=u.style.getPageOffset(a);if(b instanceof u.math.Coordinate){e=b.y;b=b.x}var g=b-f.x,h=e-f.y;u.style.setPosition(a,
a.offsetLeft+g,a.offsetTop+h)};u.style.Ja=function(a,b,e){var f;if(b instanceof u.math.Size){f=b.height;b=b.width}else f=e;a.style.width=typeof b=="number"?Math.round(b)+"px":b;a.style.height=typeof f=="number"?Math.round(f)+"px":f};u.style.ea=function(a){if(u.style.vc(a,"display")!="none")return new u.math.Size(a.offsetWidth,a.offsetHeight);var b=a.style,e=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="";var g=a.offsetWidth,h=a.offsetHeight;b.display="none";b.position=
f;b.visibility=e;return new u.math.Size(g,h)};u.style.getBounds=function(a){var b=u.style.getPageOffset(a),e=u.style.ea(a);return new u.math.Rect(b.x,b.y,e.width,e.height)};u.style.toCamelCase=function(a){return String(a).replace(/\-([a-z])/g,function(b,e){return e.toUpperCase()})};u.style.toSelectorCase=function(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()};u.style.setOpacity=function(a,b){var e=a.style;if("opacity"in e)e.opacity=b;else if("MozOpacity"in e)e.MozOpacity=b;else if("KhtmlOpacity"in
e)e.KhtmlOpacity=b;else if("filter"in e)e.filter="alpha(opacity="+b*100+")"};u.style.setTransparentBackgroundImage=function(a,b){var e=a.style;if(u.userAgent.IE)e.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+b+'", sizingMethod="crop")';else{e.backgroundImage="url("+b+")";e.backgroundPosition="top left";e.backgroundRepeat="no-repeat"}};u.style.clearTransparentBackgroundImage=function(a){var b=a.style;if("filter"in b)b.filter="";else b.backgroundImage="none"};u.style.showElement=
function(a,b){a.style.display=b?"":"none"};u.style.installStyles=function(a,b){var e=u.dom.Ab(b),f=null;if(u.userAgent.IE)f=e.bb().createStyleSheet();else{var g=e.We("head")[0];if(!g){var h=e.We("body")[0];g=e.g("head");h.parentNode.insertBefore(g,h)}f=e.g("style");e.appendChild(g,f)}u.style.setStyles(f,a);return f};u.style.setStyles=function(a,b){if(u.userAgent.IE)a.cssText=b;else{var e=u.userAgent.SAFARI?"innerText":"innerHTML";a[e]=b}};u.style.setPreWrap=function(a){var b=a.style;if(u.userAgent.IE){b.whiteSpace=
"pre";b.wordWrap="break-word"}else if(u.userAgent.GECKO)b.whiteSpace="-moz-pre-wrap";else if(u.userAgent.OPERA)b.whiteSpace="-o-pre-wrap";else b.whiteSpace="pre-wrap"};u.style.setInlineBlock=function(a){var b=a.style;b.position="relative";if(u.userAgent.IE){b.zoom="1";b.display="inline"}else if(u.userAgent.GECKO)b.display=u.userAgent.isVersion("1.9a")?"inline-block":"-moz-inline-box";else b.display="inline-block"};u.style.Ci=function(a){return"rtl"==u.style.vc(a,"direction")};u.style.Kj=u.userAgent.GECKO?
"MozUserSelect":(u.userAgent.SAFARI?"WebkitUserSelect":null);u.style.isUnselectable=function(a){if(u.style.Kj)return a.style[u.style.Kj].toLowerCase()=="none";else if(u.userAgent.IE||u.userAgent.OPERA)return a.getAttribute("unselectable")=="on";return false};u.style.setUnselectable=function(a,b,e){var f=!e?a.getElementsByTagName("*"):null,g=u.style.Kj;if(g){var h=b?"none":"";a.style[g]=h;if(f)for(var i=0,j;j=f[i];i++)j.style[g]=h}else if(u.userAgent.IE||u.userAgent.OPERA){var h=b?"on":"";a.setAttribute("unselectable",
h);if(f)for(var i=0,j;j=f[i];i++)j.setAttribute("unselectable",h)}};u.style.getBorderBoxSize=function(a){return new u.math.Size(a.offsetWidth,a.offsetHeight)};u.style.setBorderBoxSize=function(a,b){if(u.userAgent.IE){var e=u.dom.oa(a),f=a.style;if(e.compatMode=="CSS1Compat"){var g=u.style.getPaddingBox(a),h=u.style.getBorderBox(a);f.pixelWidth=b.width-h.left-g.left-g.right-h.right;f.pixelHeight=b.height-h.top-g.top-g.bottom-h.bottom}else{f.pixelWidth=b.width;f.pixelHeight=b.height}}else u.style.xn(a,
b,"border-box")};u.style.getContentBoxSize=function(a){var b=u.dom.oa(a),e=u.userAgent.IE&&a.currentStyle;if(e&&b.compatMode=="CSS1Compat"&&e.width!="auto"&&e.height!="auto"){var f=u.style.td(a,e.width,"width","pixelWidth"),g=u.style.td(a,e.height,"height","pixelHeight");return new u.math.Size(f,g)}else{var h=u.style.getBorderBoxSize(a),i=u.style.getPaddingBox(a),j=u.style.getBorderBox(a);return new u.math.Size(h.width-j.left-i.left-i.right-j.right,h.height-j.top-i.top-i.bottom-j.bottom)}};u.style.setContentBoxSize=
function(a,b){if(u.userAgent.IE){var e=u.dom.oa(a),f=a.style;if(e.compatMode=="CSS1Compat"){f.pixelWidth=b.width;f.pixelHeight=b.height}else{var g=u.style.getPaddingBox(a),h=u.style.getBorderBox(a);f.pixelWidth=b.width+h.left+g.left+g.right+h.right;f.pixelHeight=b.height+h.top+g.top+g.bottom+h.bottom}}else u.style.xn(a,b,"content-box")};u.style.xn=function(a,b,e){var f=a.style;if(u.userAgent.GECKO)f.MozBoxSizing=e;else if(u.userAgent.SAFARI)f.WebkitBoxSizing=e;else if(u.userAgent.OPERA){var g=a.getAttribute("style")||
"";g=g.replace(/box-sizing:[^;]+/g,"")+";box-sizing:"+e;a.setAttribute("style",g)}else f.boxSizing=e;f.width=b.width+"px";f.height=b.height+"px"};u.style.td=function(a,b,e,f){if(/^\d+px?$/.test(b))return parseInt(b,10);else{var g=a.style[e],h=a.runtimeStyle[e];a.runtimeStyle[e]=a.currentStyle[e];a.style[e]=b;var i=a.style[f];a.style[e]=g;a.runtimeStyle[e]=h;return i}};u.style.Hf=function(a,b){return u.style.td(a,u.style.getCascadedStyle(a,b),"left","pixelLeft")};u.style.getPaddingBox=function(a){if(u.userAgent.IE){var b=
u.style.Hf(a,"paddingLeft"),e=u.style.Hf(a,"paddingRight"),f=u.style.Hf(a,"paddingTop"),g=u.style.Hf(a,"paddingBottom");return new u.math.Box(f,e,g,b)}else{var b=u.style.getComputedStyle(a,"paddingLeft"),e=u.style.getComputedStyle(a,"paddingRight"),f=u.style.getComputedStyle(a,"paddingTop"),g=u.style.getComputedStyle(a,"paddingBottom");return new u.math.Box(parseFloat(f),parseFloat(e),parseFloat(g),parseFloat(b))}};u.style.wm={thin:2,medium:4,thick:6};u.style.Gf=function(a,b){if(u.style.getCascadedStyle(a,
b+"Style")=="none")return 0;var e=u.style.getCascadedStyle(a,b+"Width");if(e in u.style.wm)return u.style.wm[e];return u.style.td(a,e,"left","pixelLeft")};u.style.getBorderBox=function(a){if(u.userAgent.IE){var b=u.style.Gf(a,"borderLeft"),e=u.style.Gf(a,"borderRight"),f=u.style.Gf(a,"borderTop"),g=u.style.Gf(a,"borderBottom");return new u.math.Box(f,e,g,b)}else{var b=u.style.getComputedStyle(a,"borderLeftWidth"),e=u.style.getComputedStyle(a,"borderRightWidth"),f=u.style.getComputedStyle(a,"borderTopWidth"),
g=u.style.getComputedStyle(a,"borderBottomWidth");return new u.math.Box(parseFloat(f),parseFloat(e),parseFloat(g),parseFloat(b))}};u.style.getFontFamily=function(a){var b=u.dom.oa(a),e="";if(b.createTextRange){var f=b.body.createTextRange();f.moveToElementText(a);e=f.queryCommandValue("FontName")}if(!e){e=u.style.vc(a,"fontFamily");if(u.userAgent.OPERA&&u.userAgent.LINUX)e=e.replace(/ \[[^\]]*\]/,"")}var g=e.split(",");if(g.length>1)e=g[0];return u.string.stripQuotes(e,"\"'")};u.style.getLengthUnits=
function(a){var b=a.match(/[^\d]+$/);return b&&b[0]||null};u.style.to={cm:1,"in":1,mm:1,pc:1,pt:1};u.style.xo={em:1,ex:1};u.style.getFontSize=function(a){var b=u.style.vc(a,"fontSize"),e=u.style.getLengthUnits(b);if(b&&"px"==e)return parseInt(b,10);if(u.userAgent.IE)if(e in u.style.to)return u.style.td(a,b,"left","pixelLeft");else if(a.parentNode&&e in u.style.xo)return u.style.td(a.parentNode,b,"left","pixelLeft");var f=u.dom.g("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});
u.dom.appendChild(a,f);b=f.offsetHeight;u.dom.removeNode(f);return b};u.style.parseStyleAttribute=function(a){var b={};u.array.forEach(a.split(/\s*;\s*/),function(e){var f=e.split(/\s*:\s*/);if(f.length==2)b[u.style.toCamelCase(f[0].toLowerCase())]=f[1]});return b};u.style.toStyleAttribute=function(a){var b=[];u.object.forEach(a,function(e,f){b.push(u.style.toSelectorCase(f),":",e,";")});return b.join("")};u.dom.a11y={};u.dom.a11y.Uj=u.userAgent.GECKO&&!u.userAgent.isVersion("1.9a");u.dom.a11y.NS_STATE="http://www.w3.org/2005/07/aaa";u.dom.a11y.setRole=function(a,b){if(u.userAgent.GECKO){a.setAttribute("role",b);a.roleName=b}};u.dom.a11y.getRole=function(a){return a.roleName||""};u.dom.a11y.setState=function(a,b,e){if(u.userAgent.GECKO)if(u.dom.a11y.Uj)a.setAttributeNS(u.dom.a11y.NS_STATE,b,e);else a.setAttribute("aria-"+b,e)};u.dom.a11y.getState=function(a,b){if(u.userAgent.GECKO)if(u.dom.a11y.Uj)return a.getAttributeNS(u.dom.a11y.NS_STATE,
b);else return a.getAttribute("aria-"+b);else return""};u.dom.classes={};u.dom.classes.set=function(a,b){a.className=b};u.dom.classes.get=function(a){var b=a.className;return b&&typeof b.split=="function"?b.split(" "):[]};u.dom.classes.add=function(a){var b=u.dom.classes.get(a),e=u.array.slice(arguments,1),f=1;for(var g=0;g<e.length;g++)if(!u.array.contains(b,e[g])){b.push(e[g]);f&=1}else f&=0;a.className=b.join(" ");return Boolean(f)};u.dom.classes.remove=function(a){var b=u.dom.classes.get(a),e=u.array.slice(arguments,1),f=0;for(var g=0;g<b.length;g++)if(u.array.contains(e,
b[g])){u.array.splice(b,g--,1);f++}a.className=b.join(" ");return f==e.length};u.dom.classes.swap=function(a,b,e){var f=u.dom.classes.get(a),g=false;for(var h=0;h<f.length;h++)if(f[h]==b){u.array.splice(f,h--,1);g=true}if(g){f.push(e);a.className=f.join(" ")}return g};u.dom.classes.has=function(a,b){return u.array.contains(u.dom.classes.get(a),b)};u.dom.classes.enable=function(a,b,e){if(e)u.dom.classes.add(a,b);else u.dom.classes.remove(a,b)};u.dom.classes.toggle=function(a,b){var e=!u.dom.classes.has(a,
b);u.dom.classes.enable(a,b,e);return e};u.events.EventHandler=function(a){this.Tf=a};u.inherits(u.events.EventHandler,u.Disposable);u.events.EventHandler.KEY_POOL_INITIAL_COUNT=0;u.events.EventHandler.KEY_POOL_MAX_COUNT=100;u.events.EventHandler.Mm=new u.structs.SimplePool(u.events.EventHandler.KEY_POOL_INITIAL_COUNT,u.events.EventHandler.KEY_POOL_MAX_COUNT);u.events.EventHandler.f=null;u.events.EventHandler.bc=null;u.events.EventHandler.prototype.listen=function(a,b,e,f,g){if(u.isArray(b)){for(var h=0;h<b.length;h++)this.listen(a,b[h],
e,f,g);return}var i=u.events.listen(a,b,e||this,f||false,g||this.Tf||this);if(this.f)this.f[i]=true;else if(this.bc){this.f=u.events.EventHandler.Mm.Ma();this.f[this.bc]=true;this.bc=null;this.f[i]=true}else this.bc=i};u.events.EventHandler.prototype.unlisten=function(a,b,e,f,g){if(!this.bc&&!this.f)return;if(u.isArray(b)){for(var h=0;h<b.length;h++)this.unlisten(a,b[h],e,f,g);return}var i=u.events.getListener(a,b,e||this,f||false,g||this.Tf||this);if(i){var j=i.key;u.events.unlistenByKey(j);if(this.f)u.object.remove(this.f,
j);else if(this.bc==j)this.bc=null}};u.events.EventHandler.prototype.$c=function(){if(this.f){for(var a in this.f){u.events.unlistenByKey(a);delete this.f[a]}u.events.EventHandler.Mm.vb(this.f);this.f=null}else if(this.bc)u.events.unlistenByKey(this.bc)};u.events.EventHandler.prototype.dispose=function(){if(!this.ob()){u.Disposable.prototype.dispose.call(this);this.$c()}};u.events.EventHandler.prototype.Xb=function(){throw Error("EventHandler.handleEvent not implemented");};u.events.KeyCodes={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,
NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,WIN_IME:229};u.events.KeyCodes.isTextModifyingKeyEvent=
function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=u.events.KeyCodes.F1&&a.keyCode<=u.events.KeyCodes.F12)return false;switch(a.keyCode){case u.events.KeyCodes.ALT:case u.events.KeyCodes.SHIFT:case u.events.KeyCodes.CTRL:case u.events.KeyCodes.PAUSE:case u.events.KeyCodes.CAPS_LOCK:case u.events.KeyCodes.ESC:case u.events.KeyCodes.PAGE_UP:case u.events.KeyCodes.PAGE_DOWN:case u.events.KeyCodes.HOME:case u.events.KeyCodes.END:case u.events.KeyCodes.LEFT:case u.events.KeyCodes.RIGHT:case u.events.KeyCodes.UP:case u.events.KeyCodes.DOWN:case u.events.KeyCodes.INSERT:case u.events.KeyCodes.NUMLOCK:case u.events.KeyCodes.CONTEXT_MENU:case u.events.KeyCodes.PRINT_SCREEN:return false;
default:return true}};u.events.KeyCodes.firesIeKeyPressEvent=function(a){if(a>=u.events.KeyCodes.ZERO&&a<=u.events.KeyCodes.NINE)return true;if(a>=u.events.KeyCodes.NUM_ZERO&&a<=u.events.KeyCodes.NUM_MULTIPLY)return true;if(a>=u.events.KeyCodes.A&&a<=u.events.KeyCodes.Z)return true;switch(a){case u.events.KeyCodes.ENTER:case u.events.KeyCodes.ESC:case u.events.KeyCodes.SPACE:case u.events.KeyCodes.QUESTION_MARK:case u.events.KeyCodes.NUM_PLUS:case u.events.KeyCodes.NUM_MINUS:case u.events.KeyCodes.NUM_PERIOD:case u.events.KeyCodes.NUM_DIVISION:case u.events.KeyCodes.SEMICOLON:case u.events.KeyCodes.DASH:case u.events.KeyCodes.EQUALS:case u.events.KeyCodes.COMMA:case u.events.KeyCodes.PERIOD:case u.events.KeyCodes.SLASH:case u.events.KeyCodes.APOSTROPHE:case u.events.KeyCodes.SINGLE_QUOTE:case u.events.KeyCodes.OPEN_SQUARE_BRACKET:case u.events.KeyCodes.BACKSLASH:case u.events.KeyCodes.CLOSE_SQUARE_BRACKET:return true;
default:return false}};u.events.KeyCodes.isCharacterKey=function(a){if(a>=u.events.KeyCodes.ZERO&&a<=u.events.KeyCodes.NINE)return true;if(a>=u.events.KeyCodes.NUM_ZERO&&a<=u.events.KeyCodes.NUM_MULTIPLY)return true;if(a>=u.events.KeyCodes.A&&a<=u.events.KeyCodes.Z)return true;switch(a){case u.events.KeyCodes.SPACE:case u.events.KeyCodes.QUESTION_MARK:case u.events.KeyCodes.NUM_PLUS:case u.events.KeyCodes.NUM_MINUS:case u.events.KeyCodes.NUM_PERIOD:case u.events.KeyCodes.NUM_DIVISION:case u.events.KeyCodes.SEMICOLON:case u.events.KeyCodes.DASH:case u.events.KeyCodes.EQUALS:case u.events.KeyCodes.COMMA:case u.events.KeyCodes.PERIOD:case u.events.KeyCodes.SLASH:case u.events.KeyCodes.APOSTROPHE:case u.events.KeyCodes.SINGLE_QUOTE:case u.events.KeyCodes.OPEN_SQUARE_BRACKET:case u.events.KeyCodes.BACKSLASH:case u.events.KeyCodes.CLOSE_SQUARE_BRACKET:return true;
default:return false}};u.Timer=function(a,b){u.events.EventTarget.call(this);this.we=a||1;this.Ve=b||u.Timer.defaultTimerObject;this.Pg=u.bind(this.co,this);this.Ei=u.now()};u.inherits(u.Timer,u.events.EventTarget);u.Timer.prototype.enabled=false;u.Timer.defaultTimerObject=u.global.window;u.Timer.intervalScale=0.8;u.Timer.prototype.jc=null;u.Timer.prototype.setInterval=function(a){this.we=a;if(this.jc&&this.enabled){this.stop();this.start()}else if(this.jc)this.stop()};u.Timer.prototype.co=function(){if(this.enabled){var a=
u.now()-this.Ei;if(a>0&&a<this.we*u.Timer.intervalScale){this.jc=this.Ve.setTimeout(this.Pg,this.we-a);return}this.Ik();if(this.enabled){this.jc=this.Ve.setTimeout(this.Pg,this.we);this.Ei=u.now()}}};u.Timer.prototype.Ik=function(){this.dispatchEvent(u.Timer.TICK)};u.Timer.prototype.start=function(){this.enabled=true;if(!this.jc){this.jc=this.Ve.setTimeout(this.Pg,this.we);this.Ei=u.now()}};u.Timer.prototype.stop=function(){this.enabled=false;this.Ve.clearTimeout(this.jc);this.jc=null};u.Timer.prototype.dispose=
function(){if(!this.ob()){u.events.EventTarget.prototype.dispose.call(this);this.stop();this.Ve=null}};u.Timer.TICK="tick";u.Timer.Td=function(a,b,e){if(u.isFunction(a)){if(e)a=u.bind(a,e)}else if(a&&typeof a.Xb=="function")a=u.bind(a.Xb,a);else throw Error("Invalid listener argument");return u.Timer.defaultTimerObject.setTimeout(a,b||0)};u.Timer.clear=function(a){u.Timer.defaultTimerObject.clearTimeout(a)};u.fx={};u.fx.TIMEOUT=20;u.fx.easing={};u.fx.easing.easeIn=function(a){return a*a*a};u.fx.easing.easeOut=function(a){return 1-Math.pow(1-a,3)};u.fx.easing.inAndOut=function(a){return 3*a*a-2*a*a*a};u.fx.Animation=function(a,b,e,f){u.events.EventTarget.call(this);if(!u.isArray(a)||!u.isArray(b)){throw Error("Start and end parameters must be arrays");return}if(a.length!=b.length){throw Error("Start and end points must be the same length");return}this.Ue=a;this.gp=b;this.ae=e;this.Yj=f;this.Mc=[]};u.inherits(u.fx.Animation,
u.events.EventTarget);u.fx.Animation.EventType={PLAY:"play",BEGIN:"begin",RESUME:"resume",END:"end",STOP:"stop",FINISH:"finish",PAUSE:"pause",ANIMATE:"animate",DESTROY:"destroy"};u.fx.Animation.State={STOPPED:0,PAUSED:-1,PLAYING:1};u.fx.Animation.fd=[];u.fx.Animation.Xc=null;u.fx.Animation.Ck=function(){u.Timer.defaultTimerObject.clearTimeout(u.fx.Animation.Xc);var a=u.now();u.array.forEach(u.fx.Animation.fd,function(b){if(b)b.cycle(a)});u.fx.Animation.Xc=u.fx.Animation.fd.length==0?null:u.Timer.defaultTimerObject.setTimeout(u.fx.Animation.Ck,
u.fx.TIMEOUT)};u.fx.Animation.registerAnimation=function(a){if(!u.array.contains(u.fx.Animation.fd,a))u.fx.Animation.fd.push(a);if(u.fx.Animation.Xc==null)u.fx.Animation.Xc=u.Timer.defaultTimerObject.setInterval(u.fx.Animation.Ck,u.fx.TIMEOUT)};u.fx.Animation.unregisterAnimation=function(a){u.array.remove(u.fx.Animation.fd,a);if(u.array.r(u.fx.Animation.fd.length)&&u.fx.Animation.Xc!=null){u.Timer.defaultTimerObject.clearInterval(u.fx.Animation.Xc);u.fx.Animation.Xc=null}};u.fx.Animation.prototype.xa=
u.fx.Animation.State.STOPPED;u.fx.Animation.prototype.vh=0;u.fx.Animation.prototype.Wa=0;u.fx.Animation.prototype.wb=null;u.fx.Animation.prototype.oh=null;u.fx.Animation.prototype.$f=null;u.fx.Animation.prototype.play=function(a){if(a||this.xa==u.fx.Animation.State.STOPPED){this.Wa=0;this.Mc=this.Ue}else if(this.xa==u.fx.Animation.State.PLAYING)return false;u.fx.Animation.unregisterAnimation(this);this.wb=u.now();if(this.xa==u.fx.Animation.State.PAUSED)this.wb-=this.ae*this.Wa;this.oh=this.wb+this.ae;
this.$f=this.wb;if(this.Wa==0)this.nb(u.fx.Animation.EventType.BEGIN);this.nb(u.fx.Animation.EventType.PLAY);if(this.xa==u.fx.Animation.State.PAUSED)this.nb(u.fx.Animation.EventType.RESUME);this.xa=u.fx.Animation.State.PLAYING;u.fx.Animation.registerAnimation(this);this.cycle(this.wb);return true};u.fx.Animation.prototype.stop=function(a){u.fx.Animation.unregisterAnimation(this);this.xa=u.fx.Animation.State.STOPPED;if(a)this.Wa=1;this.wg(this.Wa);this.nb(u.fx.Animation.EventType.STOP);this.nb(u.fx.Animation.EventType.END)};
u.fx.Animation.prototype.pause=function(){if(this.xa==u.fx.Animation.State.PLAYING){u.fx.Animation.unregisterAnimation(this);this.xa=u.fx.Animation.State.PAUSED;this.nb(u.fx.Animation.EventType.PAUSE)}};u.fx.Animation.prototype.dispose=function(){if(!this.ob()){if(this.xa!=u.fx.Animation.State.STOPPED)this.stop();this.nb(u.fx.Animation.EventType.DESTROY);u.fx.Animation.p.dispose.call(this)}};u.fx.Animation.prototype.cycle=function(a){this.Wa=(a-this.wb)/(this.oh-this.wb);if(this.Wa>=1)this.Wa=1;this.vh=
1000/(a-this.$f);this.$f=a;if(u.isFunction(this.Yj))this.wg(this.Yj(this.Wa));else this.wg(this.Wa);if(this.Wa==1){this.xa=u.fx.Animation.State.STOPPED;u.fx.Animation.unregisterAnimation(this);this.nb(u.fx.Animation.EventType.FINISH);this.nb(u.fx.Animation.EventType.END)}else if(this.xa==u.fx.Animation.State.PLAYING)this.nb(u.fx.Animation.EventType.ANIMATE)};u.fx.Animation.prototype.wg=function(a){this.Mc=new Array(this.Ue.length);for(var b=0;b<this.Ue.length;b++)this.Mc[b]=(this.gp[b]-this.Ue[b])*
a+this.Ue[b]};u.fx.Animation.prototype.nb=function(a){this.dispatchEvent(new u.fx.AnimationEvent(a,this))};u.fx.AnimationEvent=function(a,b){u.events.Event.call(this,a);this.coords=b.Mc;this.x=b.Mc[0];this.y=b.Mc[1];this.z=b.Mc[2];this.duration=b.ae;this.progress=b.Wa;this.fps=b.vh;this.state=b.xa;this.anim=b};u.inherits(u.fx.AnimationEvent,u.events.Event);u.fx.Dragger=function(a,b,e){this.target=a;this.handle=b||a;this.Sk=true;this.Zd=false;this.limits=e||new u.math.Rect;this.za=this.target.ownerDocument||this.target.document;this.screenX=0;this.screenY=0;this.deltaX=0;this.deltaY=0;u.events.listen(this.handle,u.events.EventType.MOUSEDOWN,this.Fj,false,this);u.events.listen(this.za,u.events.EventType.MOUSEMOVE,this.Pi,false,this);u.events.listen(this.za,u.events.EventType.MOUSEUP,this.Oc,false,this)};u.inherits(u.fx.Dragger,u.events.EventTarget);u.fx.Dragger.EventType=
{START:"start",BEFOREDRAG:"beforedrag",DRAG:"drag",END:"end"};u.fx.Dragger.prototype.dispose=function(){if(this.ob())return;u.events.EventTarget.prototype.dispose.call(this);u.events.unlisten(this.handle,u.events.EventType.MOUSEDOWN,this.Fj,false,this);u.events.unlisten(this.za,u.events.EventType.MOUSEMOVE,this.Pi,false,this);u.events.unlisten(this.za,u.events.EventType.MOUSEUP,this.Oc,false,this);delete this.target;delete this.handle};u.fx.Dragger.prototype.Fj=function(a){if(this.Sk&&!this.Zd){var b=
this.dispatchEvent(new u.fx.DragEvent(u.fx.Dragger.EventType.START,this,a.clientX,a.clientY,a));if(b!==false){this.screenX=a.screenX;this.screenY=a.screenY;this.deltaX=this.target.offsetLeft;this.deltaY=this.target.offsetTop;this.Zd=true;a.preventDefault()}}};u.fx.Dragger.prototype.Oc=function(a){if(this.Zd){this.Zd=false;var b=this.Fi(this.deltaX),e=this.Gi(this.deltaY);this.dispatchEvent(new u.fx.DragEvent(u.fx.Dragger.EventType.END,this,a.clientX,a.clientY,a,b,e))}};u.fx.Dragger.prototype.Pi=function(a){if(this.Zd&&
this.Sk){var b=a.screenX-this.screenX,e=a.screenY-this.screenY;this.deltaX+=b;this.deltaY+=e;var f=this.Fi(this.deltaX),g=this.Gi(this.deltaY);this.screenX=a.screenX;this.screenY=a.screenY;var h=this.dispatchEvent(new u.fx.DragEvent(u.fx.Dragger.EventType.BEFOREDRAG,this,a.clientX,a.clientY,a,f,g));if(h!==false){this.Dk(f,g);this.dispatchEvent(new u.fx.DragEvent(u.fx.Dragger.EventType.DRAG,this,a.clientX,a.clientY,a,f,g));a.preventDefault()}}};u.fx.Dragger.prototype.Fi=function(a){var b=this.limits,
e=typeof b.left!="undefined"?b.left:null,f=typeof b.width!="undefined"?b.width:0,g=e!=null?e+f:Infinity,h=e!=null?e:-Infinity;return Math.min(g,Math.max(h,a))};u.fx.Dragger.prototype.Gi=function(a){var b=this.limits,e=typeof b.top!="undefined"?b.top:null,f=typeof b.height!="undefined"?b.height:0,g=e!=null?e+f:Infinity,h=e!=null?e:-Infinity;return Math.min(g,Math.max(h,a))};u.fx.Dragger.prototype.Dk=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};u.fx.DragEvent=function(a,
b,e,f,g,h,i){u.events.Event.call(this,a);this.type=a;this.clientX=e;this.clientY=f;this.browserEvent=g;this.left=u.isDef(h)?h:b.deltaX;this.top=u.isDef(i)?i:b.deltaY;this.dragger=b};u.inherits(u.fx.DragEvent,u.events.Event);u.ui={};u.ui.Component=function(a){u.events.EventTarget.call(this);this.q=a||u.dom.Ab();this.Le=u.ui.Component.Gk};u.inherits(u.ui.Component,u.events.EventTarget);u.ui.Component.Jp=0;u.ui.Component.Gk=null;u.ui.Component.EventType={SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",
ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"};u.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"};
u.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64};u.ui.Component.getStateTransitionEvent=function(a,b){switch(a){case u.ui.Component.State.DISABLED:return b?u.ui.Component.EventType.DISABLE:u.ui.Component.EventType.ENABLE;case u.ui.Component.State.HOVER:return b?u.ui.Component.EventType.HIGHLIGHT:u.ui.Component.EventType.UNHIGHLIGHT;case u.ui.Component.State.ACTIVE:return b?u.ui.Component.EventType.ACTIVATE:u.ui.Component.EventType.DEACTIVATE;case u.ui.Component.State.SELECTED:return b?
u.ui.Component.EventType.SELECT:u.ui.Component.EventType.UNSELECT;case u.ui.Component.State.CHECKED:return b?u.ui.Component.EventType.CHECK:u.ui.Component.EventType.UNCHECK;case u.ui.Component.State.FOCUSED:return b?u.ui.Component.EventType.FOCUS:u.ui.Component.EventType.BLUR;case u.ui.Component.State.OPENED:return b?u.ui.Component.EventType.OPEN:u.ui.Component.EventType.CLOSE;default:}throw Error(u.ui.Component.Error.STATE_INVALID);};u.ui.Component.setDefaultRightToLeft=function(a){u.ui.Component.Gk=
a};u.ui.Component.prototype.Gb=null;u.ui.Component.prototype.q=null;u.ui.Component.prototype.Ac=false;u.ui.Component.prototype.c=null;u.ui.Component.prototype.Le=null;u.ui.Component.prototype.Wm=null;u.ui.Component.prototype.Va=null;u.ui.Component.prototype.Mb=null;u.ui.Component.prototype.oc=null;u.ui.Component.prototype.Oj=null;u.ui.Component.prototype.Eh=function(){return this.Gb||(this.Gb=this.xl())};u.ui.Component.prototype.kg=function(a){if(this.Va&&this.Va.oc){u.object.remove(this.Va.oc,this.Gb);
u.object.add(this.Va.oc,a,this)}this.Gb=a};u.ui.Component.prototype.Tb=function(){return this.c};u.ui.Component.prototype.Re=function(a){if(this==a)throw Error(u.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(a&&this.Va&&this.Va.wh(this.Gb))throw Error(u.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.Va=a};u.ui.Component.prototype.Oa=function(){return this.Va};u.ui.Component.prototype.je=function(){return this.Va};u.ui.Component.prototype.Yc=function(){return this.Ac};u.ui.Component.prototype.g=
function(){this.c=this.q.createElement("div")};u.ui.Component.prototype.render=function(a){this.sn(a)};u.ui.Component.prototype.sn=function(a,b){if(this.Ac)throw Error(u.ui.Component.Error.ALREADY_RENDERED);if(!this.c)this.g();if(a)a.insertBefore(this.c,b||null);else this.q.bb().body.appendChild(this.c);if(!this.Va||this.Va.Yc())this.Pc()};u.ui.Component.prototype.decorate=function(a){if(this.Ac)throw Error(u.ui.Component.Error.ALREADY_RENDERED);else if(a&&this.Ud(a)){this.Oj=true;if(!this.q||this.q.bb()!=
u.dom.oa(a))this.q=u.dom.Ab(a);this.nf(a);this.Pc()}else throw Error(u.ui.Component.Error.DECORATE_INVALID);};u.ui.Component.prototype.Ud=function(){return true};u.ui.Component.prototype.nf=function(a){this.c=a};u.ui.Component.prototype.Pc=function(){this.Ac=true;this.xf(function(a){if(a.Tb())a.Pc()})};u.ui.Component.prototype.Qc=function(){this.xf(function(a){if(a.Yc())a.Qc()});this.Ac=false};u.ui.Component.prototype.dispose=function(){if(!this.ob()){u.ui.Component.p.dispose.call(this);if(this.Ac)this.Qc();
this.xf(function(a){a.dispose()});if(!this.Oj&&this.c)u.dom.removeNode(this.c);this.Mb=null;this.oc=null;this.c=null;this.Wm=null;this.Va=null}};u.ui.Component.prototype.xl=function(){return":"+u.ui.Component.Jp++};u.ui.Component.prototype.Cf=function(){return this.c};u.ui.Component.prototype.Ci=function(){if(this.Le==null)this.Le=u.style.Ci(this.Ac?this.c:this.q.bb().body);return this.Le};u.ui.Component.prototype.rm=function(){return!(!this.Mb)&&this.Mb.length!=0};u.ui.Component.prototype.wh=function(a){return this.oc&&
a?u.object.get(this.oc,a)||null:null};u.ui.Component.prototype.hl=function(a){return this.Mb?this.Mb[a]||null:null};u.ui.Component.prototype.xf=function(a,b){if(this.Mb)u.array.forEach(this.Mb,a,b)};u.ui.Component.prototype.removeChild=function(a,b){if(a){var e=u.isString(a)?a:a.Eh();a=this.wh(e);if(e&&a){u.object.remove(this.oc,e);u.array.remove(this.Mb,a);if(b){a.Qc();if(a.c)u.dom.removeNode(a.c)}a.Re(null)}}if(!a)throw Error(u.ui.Component.Error.NOT_OUR_CHILD);return a};u.ui.Component.prototype.on=
function(a,b){return this.removeChild(this.hl(a),b)};u.ui.Component.prototype.Je=function(a){while(this.rm())this.on(0,a)};u.ui.Dialog=function(a,b,e){u.ui.Component.call(this,e);this.ta=a||"modal-dialog";this.yg=!(!b);this.kb=u.ui.Dialog.ButtonSet.OK_CANCEL;this.La=new u.events.EventHandler(this)};u.inherits(u.ui.Dialog,u.ui.Component);u.ui.Dialog.prototype.ta=null;u.ui.Dialog.prototype.yg=false;u.ui.Dialog.prototype.Ce=true;u.ui.Dialog.prototype.kh=true;u.ui.Dialog.prototype.lk=0.3;u.ui.Dialog.prototype.Da="";u.ui.Dialog.prototype.k="";u.ui.Dialog.prototype.kb=null;u.ui.Dialog.prototype.Nc=null;u.ui.Dialog.prototype.Bg=
false;u.ui.Dialog.prototype.Jk=false;u.ui.Dialog.prototype.ha=null;u.ui.Dialog.prototype.ia=null;u.ui.Dialog.prototype.Xa=null;u.ui.Dialog.prototype.xb=null;u.ui.Dialog.prototype.ug=null;u.ui.Dialog.prototype.kc=null;u.ui.Dialog.prototype.lb=null;u.ui.Dialog.prototype.sa=null;u.ui.Dialog.prototype.La=null;u.ui.Dialog.prototype.Se=function(a){this.Da=a;if(this.xb)u.dom.og(this.xb,a)};u.ui.Dialog.prototype.Db=function(){return this.Da};u.ui.Dialog.prototype.de=function(){return this.k};u.ui.Dialog.prototype.Cf=
function(){if(!this.Yc())this.render();return this.lb};u.ui.Dialog.prototype.gl=function(){if(!this.Yc())this.render();return this.sa};u.ui.Dialog.prototype.xk=function(){var a=new u.fx.Dragger(this.c,this.Xa);u.dom.classes.add(this.Xa,this.ta+"-title-draggable");return a};u.ui.Dialog.prototype.g=function(){this.Mi();this.c=this.q.g("div",{className:this.ta,tabIndex:0},this.Xa=this.q.g("div",{className:this.ta+"-title",id:this.Eh()},this.xb=this.q.g("span",{className:this.ta+"-title-text"},this.Da),
this.kc=this.q.g("span",{className:this.ta+"-title-close"})),this.lb=this.q.g("div",{className:this.ta+"-content"}),this.sa=this.q.g("div",{className:this.ta+"-buttons"}));this.ug=this.Xa.id;u.dom.a11y.setRole(this.c,"dialog");u.dom.a11y.setState(this.c,"labelledby",this.ug);if(this.k)this.lb.innerHTML=this.k;u.style.showElement(this.c,false);if(this.kb)this.kb.df(this.sa)};u.ui.Dialog.prototype.Mi=function(){if(this.yg&&!this.ia){this.ia=this.q.g("iframe",{frameborder:0,style:"border: 0",className:this.ta+
"-bg"});u.style.showElement(this.ia,false);u.style.setOpacity(this.ia,0)}else if(!this.yg&&this.ia){u.dom.removeNode(this.ia);this.ia=null}if(this.Ce&&!this.ha){this.ha=this.q.g("div",{className:this.ta+"-bg"});u.style.setOpacity(this.ha,this.lk);u.style.showElement(this.ha,false)}else if(!this.Ce&&this.ha){u.dom.removeNode(this.ha);this.ha=null}};u.ui.Dialog.prototype.render=function(a){if(this.Yc())throw Error(u.ui.Component.Error.ALREADY_RENDERED);if(!this.c)this.g();var b=a||this.q.bb().body;
this.ij(b);u.ui.Dialog.p.render.call(this,b)};u.ui.Dialog.prototype.ij=function(a){if(this.ia)a.appendChild(this.ia);if(this.ha)a.appendChild(this.ha)};u.ui.Dialog.prototype.Ud=function(a){return a&&a.tagName&&a.tagName=="DIV"&&u.ui.Dialog.p.Ud.call(this,a)};u.ui.Dialog.prototype.nf=function(a){this.c=a;u.dom.classes.add(this.c,this.ta);var b=this.ta+"-content";this.lb=u.dom.sc(this.c,function(i){return i.nodeType==u.dom.NodeType.ELEMENT&&u.dom.classes.has(i,b)});if(this.lb)this.k=this.lb.innerHTML;
else{this.lb=this.q.g("div",{className:b});if(this.k)this.lb.innerHTML=this.k;this.c.appendChild(this.lb)}var e=this.ta+"-title",f=this.ta+"-title-text",g=this.ta+"-title-close";this.Xa=u.dom.sc(this.c,function(i){return i.nodeType==u.dom.NodeType.ELEMENT&&u.dom.classes.has(i,e)});if(this.Xa){this.xb=u.dom.sc(this.Xa,function(i){return i.nodeType==u.dom.NodeType.ELEMENT&&u.dom.classes.has(i,f)});this.kc=u.dom.sc(this.Xa,function(i){return i.nodeType==u.dom.NodeType.ELEMENT&&u.dom.classes.has(i,g)})}else{this.Xa=
this.q.g("div",{className:e});this.c.insertBefore(this.Xa,this.lb)}if(this.xb)this.Da=u.dom.Wc(this.xb);else{this.xb=this.q.g("span",{className:f},this.Da);this.Xa.appendChild(this.xb)}u.dom.a11y.setState(this.c,"labelledby",this.ug);if(!this.kc){this.kc=this.q.g("span",{className:g},this.Da);this.Xa.appendChild(this.kc)}var h=this.ta+"-buttons";this.sa=u.dom.sc(this.c,function(i){return i.nodeType==u.dom.NodeType.ELEMENT&&u.dom.classes.has(i,h)});if(this.sa){this.kb=new u.ui.Dialog.ButtonSet(this.q);
this.kb.decorate(this.sa)}else{this.sa=this.q.g("div",{className:h});this.c.appendChild(this.sa);if(this.kb)this.kb.df(this.sa)}this.Mi();this.ij(u.dom.oa(this.c).body)};u.ui.Dialog.prototype.Pc=function(){u.ui.Dialog.p.Pc.call(this);if(this.kh&&!this.Nc)this.Nc=this.xk();this.La.listen(this.kc,u.events.EventType.CLICK,this.Zi);this.La.listen(this.sa,u.events.EventType.CLICK,this.Vi);u.dom.a11y.setRole(this.c,"dialog");if(this.xb.id!=="")u.dom.a11y.setState(this.c,"labelledby",this.xb.id)};u.ui.Dialog.prototype.Qc=
function(){this.La.unlisten(this.kc,u.events.EventType.CLICK,this.Zi);this.La.unlisten(this.sa,u.events.EventType.CLICK,this.Vi);if(this.Km())this.Fa(false);if(this.Nc){this.Nc.dispose();this.Nc=null}u.ui.Dialog.p.Qc.call(this)};u.ui.Dialog.prototype.Fa=function(a){if(a==this.Bg)return;var b=this.q.bb(),e=u.dom.Wb(b)||window;if(!this.Yc())this.render(b.body);if(a){this.kj();this.reposition();this.La.listen(b,u.events.EventType.KEYDOWN,this.Wi,true);this.La.listen(e,u.events.EventType.RESIZE,this.Xi,
true)}else{this.La.unlisten(b,u.events.EventType.KEYDOWN,this.Wi,true);this.La.unlisten(e,u.events.EventType.RESIZE,this.Xi,true)}if(this.ia)u.style.showElement(this.ia,a);if(this.ha)u.style.showElement(this.ha,a);u.style.showElement(this.c,a);if(a&&this.Rc()){var f=this.Rc().yh();if(f){var g=this.sa.getElementsByTagName("button");for(var h=0,i;i=g[h];h++)if(i.name==f){i.focus();break}}}this.Bg=a;if(!a){this.dispatchEvent(u.ui.Dialog.EventType.AFTER_HIDE);if(this.Jk)this.dispose()}};u.ui.Dialog.prototype.Km=
function(){return this.Bg};u.ui.Dialog.prototype.kj=function(){if(this.ia)u.style.showElement(this.ia,false);if(this.ha)u.style.showElement(this.ha,false);var a=this.q.bb(),b=u.dom.Wb(a)||window,e=u.dom.ne(b),f=a.body.scrollWidth,g=Math.max(a.body.scrollHeight,e.height);if(this.ia){u.style.showElement(this.ia,true);u.style.Ja(this.ia,f,g)}if(this.ha){u.style.showElement(this.ha,true);u.style.Ja(this.ha,f,g)}if(this.kh){var h=u.style.ea(this.c);this.Nc.limits=new u.math.Rect(0,0,f-h.width,g-h.height)}};
u.ui.Dialog.prototype.reposition=function(){var a=this.q.bb(),b=u.dom.Wb(a)||window,e=u.dom.getPageScroll(b),f=e.x,g=e.y,h=u.style.ea(this.c),i=u.dom.ne(b),j=Math.max(f+i.width/2-h.width/2,0),k=Math.max(g+i.height/2-h.height/2,0);u.style.setPosition(this.c,j,k)};u.ui.Dialog.prototype.Zi=function(){var a=this.Rc(),b=a&&a.be();if(b){var e=a.get(b);if(this.dispatchEvent(new u.ui.Dialog.Event(b,e)))this.Fa(false)}else this.Fa(false)};u.ui.Dialog.prototype.dispose=function(){if(!this.ob()){u.ui.Dialog.p.dispose.call(this);
if(this.La){this.La.dispose();this.La=null}if(this.ha){u.dom.removeNode(this.ha);this.ha=null}if(this.ia){u.dom.removeNode(this.ia);this.ia=null}this.kc=null;this.sa=null}};u.ui.Dialog.prototype.nj=function(a){this.kb=a;if(this.sa)this.kb.df(this.sa)};u.ui.Dialog.prototype.Rc=function(){return this.kb};u.ui.Dialog.prototype.Vi=function(a){var b=this.Wk(a.target);if(b){var e=b.name,f=this.Rc().get(e);if(this.dispatchEvent(new u.ui.Dialog.Event(e,f)))this.Fa(false)}};u.ui.Dialog.prototype.Wk=function(a){var b=
a;while(b!=null&&b!=this.sa){if(b.tagName=="BUTTON")return b;b=b.parentNode}return null};u.ui.Dialog.prototype.Wi=function(a){if(a.keyCode==u.events.KeyCodes.ESC){var b=this.Rc();if(b.be()){var e=b.get(b.be());if(this.dispatchEvent(new u.ui.Dialog.Event(b.be(),e)))this.Fa(false)}else this.Fa(false)}else if(a.keyCode==u.events.KeyCodes.ENTER){var b=this.Rc(),f=a.target&&a.target.tagName=="BUTTON"?a.target.name:b.yh();if(f&&this.dispatchEvent(new u.ui.Dialog.Event(f,b.get(f))))this.Fa(false)}};u.ui.Dialog.prototype.Xi=
function(){this.kj()};u.ui.Dialog.Event=function(a,b){this.type=u.ui.Dialog.EventType.SELECT;this.key=a;this.caption=b};u.inherits(u.ui.Dialog.Event,u.events.Event);u.ui.Dialog.SELECT_EVENT="dialogselect";u.ui.Dialog.EventType={SELECT:"dialogselect",AFTER_HIDE:"afterhide"};u.ui.Dialog.ButtonSet=function(a){this.q=a||u.dom.Ab();u.structs.Map.call(this)};u.inherits(u.ui.Dialog.ButtonSet,u.structs.Map);u.ui.Dialog.ButtonSet.prototype.fh=null;u.ui.Dialog.ButtonSet.prototype.c=null;u.ui.Dialog.ButtonSet.prototype.Rg=
null;u.ui.Dialog.ButtonSet.prototype.set=function(a,b,e,f){u.structs.Map.prototype.set.call(this,a,b);if(e)this.fh=a;if(f)this.Rg=a};u.ui.Dialog.ButtonSet.prototype.df=function(a){this.c=a;this.render()};u.ui.Dialog.ButtonSet.prototype.render=function(){if(this.c){this.c.innerHTML="";var a=u.dom.Ab(this.c);u.structs.forEach(this,function(b,e){this.c.appendChild(a.g("button",{name:e},b))},this)}};u.ui.Dialog.ButtonSet.prototype.decorate=function(a){if(!a||a.nodeType!=u.dom.NodeType.ELEMENT)return;
this.c=a;var b=this.c.getElementsByTagName("button");for(var e=0,f,g,h;f=b[e];e++){g=f.name||f.id;h=u.dom.Wc(f)||f.value;if(g)this.set(g,h,e==0,f.name==u.ui.Dialog.DefaultButtonKeys.CANCEL)}};u.ui.Dialog.ButtonSet.prototype.yh=function(){return this.fh};u.ui.Dialog.ButtonSet.prototype.be=function(){return this.Rg};u.ui.Dialog.DefaultButtonKeys={OK:"ok",CANCEL:"cancel",YES:"yes",NO:"no",SAVE:"save",CONTINUE:"continue"};(function(){var a=u.getMsg("OK"),b=u.getMsg("Cancel"),e=u.getMsg("Yes"),f=u.getMsg("No"),
g=u.getMsg("Save"),h=u.getMsg("Continue"),i=new u.ui.Dialog.ButtonSet;i.set(u.ui.Dialog.DefaultButtonKeys.OK,a,true);u.ui.Dialog.ButtonSet.OK=i;var j=new u.ui.Dialog.ButtonSet;j.set(u.ui.Dialog.DefaultButtonKeys.OK,a,true);j.set(u.ui.Dialog.DefaultButtonKeys.CANCEL,b,false,true);u.ui.Dialog.ButtonSet.OK_CANCEL=j;var k=new u.ui.Dialog.ButtonSet;k.set(u.ui.Dialog.DefaultButtonKeys.YES,e,true);k.set(u.ui.Dialog.DefaultButtonKeys.NO,f,false,true);u.ui.Dialog.ButtonSet.YES_NO=k;var m=new u.ui.Dialog.ButtonSet;
m.set(u.ui.Dialog.DefaultButtonKeys.YES,e);m.set(u.ui.Dialog.DefaultButtonKeys.NO,f,true);m.set(u.ui.Dialog.DefaultButtonKeys.CANCEL,b,false,true);u.ui.Dialog.ButtonSet.YES_NO_CANCEL=m;var n=new u.ui.Dialog.ButtonSet;n.set(u.ui.Dialog.DefaultButtonKeys.CONTINUE,h);n.set(u.ui.Dialog.DefaultButtonKeys.SAVE,g);n.set(u.ui.Dialog.DefaultButtonKeys.CANCEL,b,true,true);u.ui.Dialog.ButtonSet.CONTINUE_SAVE_CANCEL=n})();c.chrome={};c.chrome.SniffDialog=function(){u.ui.Dialog.call(this,null,true,null);this.Se("Scratch and sniff");u.events.listen(this,u.ui.Dialog.SELECT_EVENT,this.ci.bind(this));var a=this.Cf(),b=u.dom.createElement("table");u.dom.appendChild(a,b);var e=b.insertRow(-1),f=u.dom.g("img",{src:"/googlebooks/images/sniff.png",width:80,height:80});u.style.setStyle(f,{padding:"10px"});u.dom.appendChild(e.insertCell(-1),f);this.Ra=u.dom.createElement("span");u.dom.appendChild(e.insertCell(-1),this.Ra)};c.chrome.SniffDialog.inherits(u.ui.Dialog);
c.chrome.SniffDialog.prototype.Ce=false;c.chrome.SniffDialog.getInstance=function(){if(!c.chrome.SniffDialog.vi)c.chrome.SniffDialog.vi=new c.chrome.SniffDialog;return c.chrome.SniffDialog.vi};c.chrome.SniffDialog.vi=null;c.chrome.SniffDialog.prototype.start=function(){this.Fa(true);this.xa=0;this.rc(this.xa)};c.chrome.SniffDialog.prototype.ci=function(a){this.xa++;if(this.rc(this.xa)&&a&&a.preventDefault)a.preventDefault()};c.chrome.SniffDialog.prototype.rc=function(a){switch(a){case 0:this.Ra.innerHTML=
"To use scratch and sniff, please place your nose near the monitor and click 'Go'";this.nj(c.chrome.SniffDialog.GO_BUTTON);break;case 1:this.Ra.innerHTML="";this.Ra.appendChild(u.dom.g("img",{src:"/googlebooks/images/spin_16.gif",width:16,height:16}));this.Ra.appendChild(u.dom.createTextNode(" Loading odors... "));u.array.forEach(this.gl().getElementsByTagName("button"),function(b){b.disabled=true});setTimeout(this.ci.bind(this),3000);break;case 2:this.Ra.innerHTML='You should now be able to smell this volume.<br/><br/>Having trouble?  See our <a href="/books?id=Ci9JAAAAMAAJ&dq=april+fools+day&pg=PA358">help page</a>.';
this.nj(u.ui.Dialog.ButtonSet.OK);break;default:return false}return true};(function(){var a=new u.ui.Dialog.ButtonSet;a.set("go","Go",true);c.chrome.SniffDialog.GO_BUTTON=a})();c.viewport.SniffDisplay=function(a){this.o=a;this.qc=a.Ka();P(a,"setpageinfo",this.ji.bind(this));this.ji()};c.viewport.SniffDisplay.prototype.ji=function(){var a=false,b=this.o.d();if(b){var e=b.m();if(e==c.Flags.scratchAndSniff)a=true}this.qc.innerHTML="";if(this.sk)Q(this.sk);if(a)this.Nk()};c.viewport.SniffDisplay.prototype.Nk=function(){var a=u.dom.createElement("div");u.dom.appendChild(this.qc,a);u.style.setStyle(a,{cssFloat:"right",styleFloat:"right",backgroundColor:"#FFF",borderLeft:"1px solid #CCC",
borderBottom:"1px solid #CCC",padding:"3px 3px 7px 5px",fontSize:"83%"});var b=u.dom.createElement("table");u.dom.appendChild(a,b);var e=b.insertRow(-1),f=u.dom.g("img",{src:"/googlebooks/images/sniff_sm.png",width:40,height:40,align:"middle"});u.style.setStyle(f,{paddingRight:"5px"});u.dom.appendChild(e.insertCell(-1),f);var g=e.insertCell(-1);g.align="center";var h=u.dom.g("span");h.innerHTML=" New! ";u.style.setStyle(h,{color:"red"});u.dom.appendChild(g,h);u.dom.appendChild(g,u.dom.createElement("br"));
var i=u.dom.createElement("span");i.innerHTML="Scratch and sniff this page";u.dom.appendChild(g,i);c.style.setStyles(i,x);this.sk=O(i,"click",this.Tn.bind(this))};c.viewport.SniffDisplay.prototype.Tn=function(){c.chrome.SniffDialog.getInstance().start()};c.viewport.Page={};c.viewport.Page.getDecoratedPageDisplay=function(a,b,e){var f;if(a.wd()==R){f=new c.viewport.PageImageDisplay(a,b,e);new c.viewport.SearchDisplay(f);new c.viewport.ClipIndicatorDisplay(f);new c.viewport.LinkDisplay(a,f);new c.viewport.SniffDisplay(f)}else f=new c.viewport.PageTextDisplay(a,b,e);return f};c.viewport.OnePage=function(a,b,e,f){c.viewport.Drawable.call(this);this.a=a;this.j=b;this.Sp=f||c.viewport.Page.getDecoratedPageDisplay;this.na=c.dom.createElement("div");c.style.setStyles(this.na,{position:q});c.dom.appendChild(e,this.na);this.yj=c.dom.createElement("div");c.style.setStyles(this.yj,{position:q});c.dom.appendChild(this.na,this.yj);this.Og=c.dom.createElement("div");c.dom.appendChild(this.na,this.Og);this.fb=c.dom.createElement("div");c.dom.appendChild(this.Og,this.fb);this.hide()};
c.viewport.OnePage.inherits(c.viewport.Drawable);c.viewport.OnePage.prototype.pj=function(a,b){this.Ha=a;this.ac=b};c.viewport.OnePage.prototype.Ze={BORDER_COLOR:"#a4a7aa",IMAGE_BGCOLOR:"#e6e6e6",SHADOW_COLOR:"#adb0b2",BORDER:1,SHADOW_CORNER:3,SHADOW_OFFSET:4};c.viewport.OnePage.VerticalShadow={TOP:-1,NONE:0,BOTTOM:1};c.viewport.OnePage.HorizontalShadow={LEFT:-1,NONE:0,RIGHT:1};c.viewport.OnePage.prototype.draw=function(a,b){var e=b||c.viewport.OnePage.VerticalShadow.NONE,f=a||c.viewport.OnePage.HorizontalShadow.NONE,
g=this.Ze,h=e!=c.viewport.OnePage.VerticalShadow.NONE?g.SHADOW_CORNER:0,i=f!=c.viewport.OnePage.HorizontalShadow.NONE?g.SHADOW_CORNER:0,j=this.Ha-i-g.BORDER*2,k=this.ac-h-g.BORDER*2;c.style.setStyles(this.Og,{backgroundColor:g.BORDER_COLOR,top:e==c.viewport.OnePage.VerticalShadow.TOP?g.SHADOW_CORNER:0,left:f==c.viewport.OnePage.HorizontalShadow.LEFT?g.SHADOW_CORNER:0,position:q,width:this.Ha-i,height:this.ac-h});c.style.setStyles(this.fb,{overflow:r,backgroundColor:g.IMAGE_BGCOLOR,position:q,top:g.BORDER,
left:g.BORDER+(c.Detect.IE()?-1:0),width:j,height:k,position:"relative"});c.style.setStyles(this.yj,{top:e==c.viewport.OnePage.VerticalShadow.TOP?0:g.SHADOW_OFFSET,left:f==c.viewport.OnePage.HorizontalShadow.LEFT?0:g.SHADOW_OFFSET,backgroundColor:g.SHADOW_COLOR,width:this.Ha-g.SHADOW_OFFSET,height:this.ac-g.SHADOW_OFFSET});this.Kq=e;this.Cq=f;this.show();this.o=this.Sp(this.a,this,this.fb);this.o.Ja(j,k)};c.viewport.OnePage.prototype.hide=function(){c.style.setStyles(this.na,{display:s})};c.viewport.OnePage.prototype.show=
function(){c.style.setStyles(this.na,{display:""})};c.viewport.OnePage.prototype.Uc=function(){return this.o};c.viewport.OnePage.prototype.Ib=function(){return this.o.Ib()};c.viewport.OnePage.prototype.cleanup=function(){this.hide();if(this.o)this.o.cleanup();c.viewport.OnePage.p.cleanup.call(this)};c.viewport.OnePage.prototype.dispose=function(){this.cleanup();if(this.na.parentNode)c.dom.removeNode(this.na)};c.viewport.OnePage.prototype.Fc=function(a){this.Jj=a;c.style.setStyles(this.na,{top:a})};
c.viewport.OnePage.prototype.Dn=function(a){this.zp=a;c.style.setStyles(this.na,{left:a})};c.viewport.OnePage.prototype.setPosition=function(a,b){this.Dn(a);this.Fc(b)};c.viewport.OnePage.prototype.Aa=function(){return this.Jj};c.viewport.OnePage.prototype.cb=function(){return this.zp};c.viewport.OnePage.prototype.la=function(a){this.o.la(a)};c.viewport.OnePage.prototype.d=function(){return this.o.d()};c.viewport.OnePage.prototype.$=function(){return this.ac};c.viewport.OnePage.prototype.i=function(){return this.Ha};
c.viewport.OnePage.getSizeForImageSize=function(a,b){var e=c.viewport.OnePage.prototype.Ze;return b+e.BORDER*2+(a?e.SHADOW_CORNER:0)};c.viewport.SpoolImplementation=function(){this.nc={};this.Gb=0};c.viewport.SpoolImplementation.prototype.pg=function(a){if(a!=this.mf)return;for(var b in this.nc)this.nc[b].go();setTimeout(this.pg.bind(this,a),100)};c.viewport.SpoolImplementation.prototype.gd=function(a,b){var e=this.Gb++,f=b||1,g=!c.util.getNumKeys(this.nc);this.nc[e]=new c.viewport.SpoolCallback(a,f);if(g){this.mf={};setTimeout(this.pg.bind(this,this.mf),0)}return e};c.viewport.SpoolImplementation.prototype.Ie=function(a){var b=
this.nc[a];if(!b)return;b.cleanup();delete this.nc[a];if(!c.util.getNumKeys(this.nc)){this.mf={};this.pg(this.mf)}};c.viewport.SpoolImplementation.prototype.cleanup=function(){for(var a in this.nc)this.Ie(a)};c.viewport.SpoolCallback=function(a,b){this.mk=a;this.Ip=b||1;this.ca=0};c.viewport.SpoolCallback.prototype.go=function(){if(!this.ca)this.mk();this.ca++;if(this.ca==this.Ip)this.ca=0};c.viewport.SpoolCallback.prototype.cleanup=function(){delete this.mk};c.viewport.Spool=new c.viewport.SpoolImplementation;c.viewport.Zoom=function(a){this.ro=a};c.viewport.Zoom.prototype.fe=function(a,b,e){var f=this.wl(e);if(b>0){for(var g=0;g<f.length;g++)if(f[g]>a)return f[g]}else for(var g=f.length-1;g>=0;g--)if(f[g]<a)return f[g]};c.viewport.Zoom.prototype.wl=function(a){var b=a||[],e=u.array.filter(this.ro,function(f){return!u.array.some(b,function(g){return Math.abs(g-f)<50})});e.push.apply(e,b);e.sort(c.util.compareIntegers);return e};c.viewport.Zoom.prototype.Ia=function(){return u.array.peek(this.ro)};c.viewport.Viewport=function(a){u.events.EventTarget.call(this);this.b=a.Eb();c.dom.focusElement(this.b);this.a=a;this.t=525;this.e=[];this.b.innerHTML="";c.style.setStyles(this.b,Ga);this.ma=c.dom.createElement("div");c.dom.appendChild(this.b,this.ma);this.Cc=this.zk();c.style.setStyles(this.Cc,Ha);this.Gd();this.e.push(O(this.a,J,this.Gd.bind(this)))};c.viewport.Viewport.inherits(u.events.EventTarget);var Ia=[350,410,495,575,685,800,910,1025];c.viewport.Viewport.prototype.Gd=function(){this.Ga=
c.dom.getNodeHeight(this.b);this.aa=c.dom.getNodeWidth(this.b)};var Ga={overflow:"auto",position:"relative"},Ha={position:q,left:0,top:0};c.viewport.Viewport.prototype.drag=function(a,b){this.b.scrollTop-=b;this.b.scrollLeft-=a};c.viewport.Viewport.prototype.Eb=function(){return this.b};c.viewport.Viewport.prototype.Ub=function(){return this.ma};c.viewport.Viewport.prototype.ge=function(){return this.ie(1)};c.viewport.Viewport.prototype.le=function(){return this.ie(-1)};c.viewport.Viewport.prototype.ie=
function(a){return this.a.Na().he(this.a.m(),a)};c.viewport.Viewport.prototype.ke=function(){return this.Cc};c.viewport.Viewport.prototype.$=function(){return this.Ga};c.viewport.Viewport.prototype.i=function(){return this.aa};c.viewport.Viewport.prototype.zk=function(){var a=c.dom.createElement("div");c.dom.appendChild(this.ma,a);return a};c.viewport.Viewport.prototype.Nf=function(){return this.t};c.viewport.Viewport.prototype.wa=function(){if(this.qp){this.qp=false;return}if(this.Zo){this.b.scrollTop=
0;this.Zo.la(this.a.getCurrentPageInfo())}};c.viewport.Viewport.prototype.Qa=function(a){var b=this.jb.fe(this.t,a);if(b)this.Ca(b)};c.viewport.Viewport.prototype.cleanup=function(){u.array.forEach(this.e,function(a){Q(a)})};c.viewport.Viewport.prototype.Ti=function(a){var b=this.a.zd(),e=a.m(),f={output:this.a.wd()==S?"text":""};if(b.Dm(e))b.qk(e);else if(!a.Gm())a.rh(f)};c.viewport.Viewport.prototype.Ca=u.abstractMethod;c.viewport.DrawableManager=function(){this.$d=new u.structs.Map};c.viewport.DrawableManager.prototype.add=function(a,b){this.$d.set(u.getHashCode(a),b)};c.viewport.DrawableManager.prototype.Vg=function(a){var b={};if(a)b=c.util.arrayToHash(u.array.map(a,u.getHashCode));var e=this.$d.ka();u.array.forEach(e,function(f){if(!b[f]){this.$d.get(f).cleanup();this.$d.remove(f)}},this)};c.viewport.DrawableManager.prototype.Fm=function(a){return!(!this.$d.get(u.getHashCode(a)))};c.viewport.LayoutItemDispatcher=function(){this.jj={};this.rf=new c.viewport.DrawableManager};c.viewport.LayoutItemDispatcher.prototype.Jg=function(a,b){this.jj[u.getHashCode(a)]=b};c.viewport.LayoutItemDispatcher.prototype.cleanup=function(){this.rf.Vg()};c.viewport.LayoutItemDispatcher.prototype.rn=function(a){a=u.array.filter(a,function(b){return!(!this.jj[u.getHashCode(b.constructor)])},this);this.rf.Vg(a);u.array.forEach(a,function(b){if(!this.rf.Fm(b))this.rf.add(b,this.jj[u.getHashCode(b.constructor)].render(b))},
this)};c.viewport.BaseContinuousViewport=function(a,b,e){c.viewport.Viewport.call(this,a);this.nd=this.jf();this.Ca(e);this.jb=new c.viewport.Zoom(b);u.array.forEach([[J,this.Pa.bind(this)],[G,this.wa.bind(this)],[M,this.Qa.bind(this,1)],[N,this.Qa.bind(this,-1)],[H,this.qe.bind(this)]],function(f){this.e.push(O(this.a,f[0],f[1]))},this);this.fc();setTimeout(this.Ge.bind(this),0)};c.viewport.BaseContinuousViewport.inherits(c.viewport.Viewport);c.viewport.BaseContinuousViewport.prototype.jf=u.abstractMethod;
c.viewport.BaseContinuousViewport.prototype.Xd=u.abstractMethod;c.viewport.BaseContinuousViewport.prototype.cleanup=function(){c.viewport.BaseContinuousViewport.p.cleanup.call(this);c.viewport.Spool.Ie(this.Dj);this.nd.cleanup()};c.viewport.BaseContinuousViewport.prototype.Cb=function(){var a=this.Te()[0],b=[];u.array.forEach(a,function(e){if(e instanceof c.layout.FlowPage)b.push(e.d())});return b};c.viewport.BaseContinuousViewport.prototype.Gl=function(){return this.Jb||this.b.scrollTop};c.viewport.BaseContinuousViewport.prototype.xc=
u.abstractMethod;c.viewport.BaseContinuousViewport.prototype.Ca=function(a){this.nd.cleanup();this.t=a};c.viewport.BaseContinuousViewport.prototype.In=function(a,b){this.b.scrollTop=a;this.b.scrollLeft=b;this.Rb()};c.viewport.BaseContinuousViewport.prototype.wa=function(){if(this.te){this.te=false;return}this.fc()};c.viewport.BaseContinuousViewport.prototype.fc=u.abstractMethod;c.viewport.BaseContinuousViewport.prototype.Ge=function(){this.wa();this.Dj=c.viewport.Spool.gd(this.lc.bind(this))};c.viewport.BaseContinuousViewport.prototype.Vb=
u.abstractMethod;c.viewport.BaseContinuousViewport.prototype.tm=function(){if(this.Jb!=this.b.scrollTop||this.Nm!=this.b.scrollLeft){this.Jb=this.b.scrollTop;this.Nm=this.b.scrollLeft;this.Ae=0}if(this.Ga<20||this.aa<20)return false;if(this.Ae>3)return false;this.Ae++;return true};c.viewport.BaseContinuousViewport.prototype.lc=function(){if(this.tb)return;if(!this.tm())return;var a=this.Te(),b=a[0]||[],e=a[1]||[],f=this.Vb();e.sort(function(i,j){return i.Tc(f)-j.Tc(f)});b.push.apply(b,e);this.nd.rn(b);
var g=this.ee();if(g){var h=g.d();if(this.a.d()!=h){this.te=true;this.a.ra(T,h.m())}}};c.viewport.BaseContinuousViewport.OC_CONTINUOUS_PREDRAW_DISTANCE=800;c.viewport.BaseContinuousViewport.prototype.Te=u.abstractMethod;c.viewport.BaseContinuousViewport.prototype.ee=function(){var a=this.ga.Ih(this.Vb());if(a instanceof c.layout.FlowPage)return a};c.viewport.BaseContinuousViewport.prototype.Rb=function(){this.Jb=null;this.Nm=null;setTimeout(this.lc.bind(this),0)};c.viewport.BaseContinuousViewport.prototype.Pa=
function(){this.Gd();this.Ke();this.nd.cleanup();this.Rb()};c.viewport.BaseContinuousViewport.prototype.qe=function(){this.nd.cleanup();this.Rb()};c.viewport.BaseContinuousViewport.prototype.Ke=u.abstractMethod;c.viewport.VerticalContinuousViewport=function(a,b,e){c.viewport.BaseContinuousViewport.call(this,a,b,e)};c.viewport.VerticalContinuousViewport.inherits(c.viewport.BaseContinuousViewport);c.viewport.VerticalContinuousViewport.prototype.Vb=function(){return Math.round((this.Jb||this.b.scrollTop)+this.Ga/2)};c.viewport.VerticalContinuousViewport.prototype.xc=function(){return this.t/this.a.Na().Sc()};c.viewport.VerticalContinuousViewport.prototype.Qa=function(a){var b=this.aa<this.jb.Ia()?[this.aa]:
[],e=this.jb.fe(this.t,a,b);if(e)this.Ca(e)};c.viewport.VerticalContinuousViewport.prototype.Ke=function(){var a=this.i()>this.t?"":this.t;c.style.setStyles(this.ma,{width:a,height:this.ga.ea()})};c.viewport.VerticalContinuousViewport.prototype.Ca=function(a){c.viewport.VerticalContinuousViewport.p.Ca.call(this,a);this.tb=true;var b;if(this.ga)b=this.b.scrollTop/this.ga.ea();else b=0;var e;if(this.t>this.aa)e=this.b.scrollLeft/(this.t-this.aa);else e=0.5;this.ga=this.Xd();this.Pa();var f=Math.floor(this.ga.ea()*
b),g=this.t-this.aa,h=Math.max(Math.round(g*e),0);setTimeout(this.On.bind(this,f,h),0)};c.viewport.VerticalContinuousViewport.prototype.On=function(a,b){this.tb=false;this.In(a,b)};c.viewport.VerticalContinuousViewport.prototype.fc=function(a){var b=a||this.a.d();this.b.scrollTop=this.ga.tc(b).va()};c.viewport.VerticalContinuousViewport.prototype.Te=function(){var a=this.Gl(),b=a+this.Ga,e=c.viewport.BaseContinuousViewport.OC_CONTINUOUS_PREDRAW_DISTANCE+this.Ga/2,f=this.Vb();return u.array.bucket(this.ga.Jh(),
function(g){var h=g.va(),i=g.Ia();if(h>=a&&h<=b||i>=a&&i<=b||h<a&&i>b)return 0;else if(g.Tc(f)<e)return 1})};c.viewport.LayoutItemRenderer=function(a,b){this.a=a;this.vf=b};c.viewport.LayoutItemRenderer.prototype.render=u.abstractMethod;c.viewport.PageRenderer=function(a,b){c.viewport.LayoutItemRenderer.call(this,a,b)};c.viewport.PageRenderer.inherits(c.viewport.LayoutItemRenderer);c.viewport.PageRenderer.prototype.render=u.abstractMethod;c.viewport.PageRenderer.prototype.qn=function(a,b,e,f,g,h,i){var j=this.vf();j.pj(e,f);j.setPosition(a,b);j.draw(h,i);j.la(g);this.a.wc().Ti(g);return j};c.viewport.VerticalFlowPageRenderer=function(a,b){c.viewport.PageRenderer.call(this,a,b)};c.viewport.VerticalFlowPageRenderer.inherits(c.viewport.PageRenderer);c.viewport.VerticalFlowPageRenderer.prototype.render=function(a){var b=this.a.wc(),e,f;if(b.i()>b.Nf()){e=c.viewport.OnePage.HorizontalShadow.RIGHT;f=Math.floor((b.i()-b.Nf())/2)}else{e=c.viewport.OnePage.HorizontalShadow.NONE;f=0}return this.qn(f,a.va(),b.Nf(),a.ea(),a.d(),e,c.viewport.OnePage.VerticalShadow.BOTTOM)};c.layout.FlowSpacer=function(){c.layout.FlowItem.call(this)};c.layout.FlowSpacer.inherits(c.layout.FlowItem);c.layout.FlowSpacer.prototype.ea=function(){return this.Xn};c.layout.FlowSpacer.prototype.Xn=10;c.layout.Layout=function(a){this.Bc=a};c.layout.Layout.prototype.Jh=function(a){return u.array.filter(this.Bc,a||function(){return true})};c.layout.Layout.prototype.tl=function(a){for(var b=0;b<this.Bc.length;b++){var e=this.Bc[b];if(a(e))return e}};c.layout.FlowLayout=function(a){c.layout.Layout.call(this,a);this.calculate()};c.layout.FlowLayout.inherits(c.layout.Layout);c.layout.FlowLayout.prototype.Ih=function(a){return this.tl(function(b){return b.va()<=a&&b.Ia()>=a})};c.layout.FlowLayout.prototype.ea=function(){return u.array.peek(this.Bc).Ia()};c.layout.FlowLayout.prototype.calculate=function(){this.Bc[0].setPosition(0);for(var a=1;a<this.Bc.length;a++)this.Bc[a].setPosition(this.Bc[a-1].Ia())};c.layout.ViewportFlowLayout=function(a){this.cn=new u.structs.Map;u.array.forEach(a,function(b){if(b instanceof c.layout.FlowPage)this.cn.set(u.getHashCode(b.d()),b)},this);c.layout.FlowLayout.call(this,a)};c.layout.ViewportFlowLayout.inherits(c.layout.FlowLayout);c.layout.ViewportFlowLayout.prototype.tc=function(a){return this.cn.get(u.getHashCode(a))};c.books.BooksFlowSeparator=function(a,b){c.layout.FlowItem.call(this);this.Xp=a;this.dg=b};c.books.BooksFlowSeparator.inherits(c.layout.FlowItem);c.books.BooksFlowSeparator.SEPARATOR_SIZE=34;c.books.BooksFlowSeparator.prototype.ea=function(){return c.books.BooksFlowSeparator.SEPARATOR_SIZE};c.books.BooksFlowSeparator.prototype.ge=function(){return this.dg};c.books.BooksFlowSeparator.prototype.le=function(){return this.Xp};c.books.BooksFlowLayout=function(a,b,e){var f=e||false,g,h=[],i=a.Cl();for(var j=0;j<i.length;j++){var k=i[j];if(f&&g&&j+1<i.length&&k.Ea()-g.Ea()>1){h.push(new c.books.BooksFlowSeparator(g,k));h.push(new c.layout.FlowSpacer)}h.push(new c.layout.VerticalFlowPage(k,b));h.push(new c.layout.FlowSpacer);g=k}c.layout.ViewportFlowLayout.call(this,h)};c.books.BooksFlowLayout.inherits(c.layout.ViewportFlowLayout);c.books.BooksSeparatorRenderer=function(a,b){c.viewport.LayoutItemRenderer.call(this,a,b)};c.books.BooksSeparatorRenderer.inherits(c.viewport.LayoutItemRenderer);c.books.BooksSeparatorRenderer.prototype.render=function(a){var b=this.vf(a);b.Kd(this.a.wc().i());b.Fc(a.va());b.show();return b};c.books.Separator=function(a,b){c.viewport.Drawable.call(this);this.ma=a;this.jp=b;this.hg=b.le();this.dg=b.ge();this.Ec=c.dom.createElement("div");c.style.setStyles(this.Ec,{position:q,display:s});c.dom.appendChild(this.ma,this.Ec);this.Ec.innerHTML=this.Hl()};c.books.Separator.inherits(c.viewport.Drawable);c.books.Separator.prototype.show=function(){c.style.setStyles(this.Ec,{display:""})};c.books.Separator.prototype.Fc=function(a){this.Jj=a;c.style.setStyles(this.Ec,{top:a,left:0})};c.books.Separator.prototype.Aa=
function(){return this.Jj};c.books.Separator.prototype.Kd=function(a){c.style.setStyles(this.Ec,{width:a})};c.books.Separator.prototype.cleanup=function(){if(this.Ec.parentNode)c.dom.removeNode(this.Ec);c.viewport.OnePage.p.cleanup.call(this)};c.books.Separator.prototype.ef=function(){if(this.hg.Ea()==0)return"#ffff99";return"#e6e6e6"};var Ja="/support/bin/answer.py?answer=91570";c.books.Separator.prototype.Tm=function(){if(this.hg.Ea()==0){var a=c.util.Url.parseUrlParameter("hl",document.location.href),
b=a?c.util.Url.replaceUrlParameter("hl",a,Ja):Ja;return _OC_MSG[Da]+' <a href="'+b+'">'+_OC_MSG[Ea]+"</a>"}var e=this.dg.Ea()-this.hg.Ea(),f=c.util.parseInt(this.hg.Db())+1,g=c.util.parseInt(this.dg.Db())-1;if(e>2){if(!isNaN(f)&&!isNaN(g))return c.util.format(_OC_MSG[ca],f,g)}else if(!isNaN(f))return c.util.format(_OC_MSG[da],f);return _OC_MSG[ba]};c.books.Separator.prototype.Hl=function(){return'<center><table align=center  style="empty-cells: show; background-color: '+this.ef()+';" cellpadding=0 cellspacing=0> <tr><td background="'+
c.util.Url.getUrlOnDomain("/googlebooks/images/stl.gif")+'" width=5 height=5></td><td colspan=2 style="border-top: 1px solid #a3a3a3;"><div style="height:1px; overflow:hidden;">&nbsp;</div></td><td width=5 height=5 background="'+c.util.Url.getUrlOnDomain("/googlebooks/images/str.gif")+'"></td></tr><tr><td style="border-left: 1px solid #a3a3a3;"><div style="height:1px; overflow:hidden;">&nbsp;</div></td><td align=center width=30><img src="'+c.util.Url.getUrlOnDomain("/googlebooks/images/pages.gif")+
'" width=19 height=24></td><td style="font-size:83%; padding-right:.3em;">'+this.Tm()+'.</td><td style="border-right: 1px solid #a3a3a3;"><div style="height:1px; overflow:hidden;">&nbsp;</div></td></tr><tr><td background="'+c.util.Url.getUrlOnDomain("/googlebooks/images/sbl.gif")+'" width=5 height=5></td><td colspan=2 style="border-bottom: 1px solid #a3a3a3;"><div style="height:1px; overflow:hidden;">&nbsp;</div></td><td background="'+c.util.Url.getUrlOnDomain("/googlebooks/images/sbr.gif")+'" width=5 height=5></td></tr></table></center>'};
c.books.Separator.prototype.Bh=function(){return this.jp};c.books.VerticalViewport=function(a,b){var e=c.viewport.OnePage.getSizeForImageSize(true,b||c.books.VerticalViewport.Do),f=u.array.map(Ia,c.viewport.OnePage.getSizeForImageSize.partial(true));c.viewport.VerticalContinuousViewport.call(this,a,f,e);this.e.push(O(this.a,I,this.re.bind(this)))};c.books.VerticalViewport.inherits(c.viewport.VerticalContinuousViewport);c.books.VerticalViewport.Do=575;c.books.VerticalViewport.prototype.Xd=function(){return new c.books.BooksFlowLayout(this.a.Na(),this.xc(),
this.a.showSeparators())};c.books.VerticalViewport.prototype.jf=function(){var a=new c.viewport.DrawablePool(c.util.factory.partial(c.viewport.OnePage,this.a,this,this.ma)),b=new c.viewport.VerticalFlowPageRenderer(this.a,a.Ma.bind(a)),e=new c.viewport.LayoutItemDispatcher;e.Jg(c.layout.VerticalFlowPage,b);e.Jg(c.books.BooksFlowSeparator,new c.books.BooksSeparatorRenderer(this.a,c.util.factory.partial(c.books.Separator,this.ma)));return e};c.books.VerticalViewport.prototype.re=function(){var a=this.a.d(),
b=this.a.Na(),e=b.Bb(a.m());if(!e)e=b.Sh(a.Ea());var f=this.b.scrollTop-this.ga.tc(e).va();this.ga=this.Xd();this.Ke();this.nd.cleanup();delete this.Jb;this.lc();this.b.scrollTop=f+this.ga.tc(e).va()};c.viewport.PagePool=function(a,b,e){this.a=a;this.j=b;this.Kc=[];this.$a=[];var f=20;while(f--)this.Kc.push(new c.viewport.OnePage(a,b,e))};c.viewport.PagePool.prototype.zl=function(){if(!this.Kc.length)this.kn();var a=this.Kc.pop();this.$a.push(a);return a};c.viewport.PagePool.prototype.Al=function(a){for(var b=0;b<this.$a.length;b++)if(this.$a[b].d()==a)return this.$a[b]};c.viewport.PagePool.prototype.hj=function(a){for(var b=0;b<this.$a.length;b++)if(this.$a[b]==a){this.$a.splice(b,1);a.cleanup();
this.Kc.push(a);return}};c.viewport.PagePool.prototype.kn=function(){this.$a.sort(c.viewport.PagePool.bp.partial(this.j.Vb()));for(var a=0;a<5;a++){var b=this.$a.pop();b.cleanup();this.Kc.push(b)}};c.viewport.PagePool.prototype.ig=function(){var a;while(a=this.$a.pop()){a.cleanup();this.Kc.push(a)}};c.viewport.PagePool.bp=function(a,b,e){return c.viewport.PagePool.Bl(a,b)-c.viewport.PagePool.Bl(a,e)};c.viewport.PagePool.Bl=function(a,b){return Math.min(Math.abs(a-b.Aa()),Math.abs(a-(b.Aa()-b.$())))};
c.viewport.PagePool.prototype.Hm=function(a){return u.array.some(this.$a,function(b){return a==b.d()})};c.viewport.PagePool.prototype.zh=function(){return this.$a};c.viewport.PagePool.prototype.cleanup=function(){this.ig();u.array.forEach(this.Kc,function(a){a.cleanup()});this.cleanPages=[]};c.viewport.ContinuousViewport=function(a){c.viewport.Viewport.call(this,a);this.ub=new c.viewport.PagePool(a,this,this.Cc);this.Me=[];this.Ca(c.viewport.OnePage.getSizeForImageSize(true,c.viewport.ContinuousViewport.Am));this.jb=new c.viewport.Zoom(u.array.map(Ia,c.viewport.OnePage.getSizeForImageSize.partial(true)));u.array.forEach([[J,this.Pa.bind(this)],[G,this.wa.bind(this)],[M,this.Qa.bind(this,1)],[N,this.Qa.bind(this,-1)],[I,this.re.bind(this)],[H,this.qe.bind(this)]],function(b){this.e.push(O(this.a,
b[0],b[1]))},this);this.fc();this.Nj=[];setTimeout(this.Ge.bind(this),0)};c.viewport.ContinuousViewport.inherits(c.viewport.Viewport);c.viewport.ContinuousViewport.Am=575;c.viewport.ContinuousViewport.prototype.cleanup=function(){c.viewport.ContinuousViewport.p.cleanup.call(this);c.viewport.Spool.Ie(this.Dj)};c.viewport.ContinuousViewport.prototype.Cb=function(){var a=this.Cj()[0],b=[];u.array.forEach(a,function(e){if(e instanceof c.layout.FlowPage)b.push(e.d())});return b};c.viewport.ContinuousViewport.prototype.Ca=
function(a){this.ub.ig();var b;if(this.ga)b=this.b.scrollTop/this.ga.ea();else b=0;var e;if(this.t>this.aa)e=this.b.scrollLeft/(this.t-this.aa);else e=0.5;this.t=a;this.qo=a/this.a.Na().Sc();this.ah();this.Pa();var f=Math.floor(this.ga.ea()*b),g=this.t-this.aa,h=Math.max(Math.round(g*e),0);this.tb=true;setTimeout(this.Qn.bind(this,f,h),0)};c.viewport.ContinuousViewport.prototype.ah=function(){this.ga=new c.books.BooksFlowLayout(this.a.Na(),this.qo,c.viewport.ContinuousViewport.Sn)};c.viewport.ContinuousViewport.setShowSeparators=
function(a){c.viewport.ContinuousViewport.Sn=a};c.viewport.ContinuousViewport.Sn=true;c.viewport.ContinuousViewport.prototype.xc=function(){return this.qo};c.viewport.ContinuousViewport.prototype.Qn=function(a,b){this.tb=false;this.b.scrollTop=a;this.b.scrollLeft=b;this.Rb()};c.viewport.ContinuousViewport.prototype.wa=function(){if(this.te){this.te=false;return}this.fc()};c.viewport.ContinuousViewport.prototype.Qa=function(a){var b=this.aa<this.jb.Ia()?[this.aa]:[],e=this.jb.fe(this.t,a,b);if(e)this.Ca(e)};
c.viewport.ContinuousViewport.prototype.fc=function(a){var b=a||this.a.d();this.b.scrollTop=this.ga.tc(b).va()};c.viewport.ContinuousViewport.prototype.Ge=function(){this.wa();this.Dj=c.viewport.Spool.gd(this.lc.bind(this))};c.viewport.ContinuousViewport.prototype.Vb=function(){return Math.round((this.Jb||this.b.scrollTop)+this.Ga/2)};c.viewport.ContinuousViewport.prototype.lc=function(){if(this.tb)return;if(this.Jb!=this.b.scrollTop){this.Jb=this.b.scrollTop;this.Ae=0}if(this.Ga<20)return;if(this.Ae>
3)return;this.Ae++;var a=this.b.scrollTop,b=a+this.Ga/2,e=this.Cj(),f=e[0],g=e[1],h=800+this.Ga/2,i=u.array.filter(g,function(A){return A.Tc(b)<h}),j=[];j.push.apply(j,f);j.push.apply(j,i);i.sort(function(A,Sa){return A.Tc(b)-Sa.Tc(b)});var k=this.ub.zh(),m=[];for(var n=0;n<k.length;n++){var o=k[n],p=o.d();if(!u.array.some(j,function(A){return A instanceof c.layout.FlowPage&&A.d()==p}))m.push(o)}u.array.forEach(m,function(A){this.ub.hj(A)},this);for(var n=0;n<f.length;n++){var v=f[n];this.mh(v);if(v instanceof
c.layout.FlowPage&&!u.array.contains(this.Nj,v))this.Ti(v.d())}this.Nj=f;u.array.forEach(i,this.mh,this);this.ko(j);var w=this.ee();if(w){var p=w.d();if(this.a.d()!=p){this.te=true;this.a.ra(T,p.m())}}};c.viewport.ContinuousViewport.prototype.ko=function(a){var b=[],e;while(e=this.Me.pop())if(u.array.contains(a,e.Bh()))b.push(e);else e.cleanup();this.Me=b};c.viewport.ContinuousViewport.prototype.mh=function(a){if(a instanceof c.layout.FlowPage)this.Pk(a);if(a instanceof c.books.BooksFlowSeparator)this.Qk(a)};
c.viewport.ContinuousViewport.prototype.Pk=function(a){if(!this.ub.Hm(a.d())){var b=this.ub.zl();b.pj(this.t,a.ea());b.draw(this.aa<=this.t?c.viewport.OnePage.HorizontalShadow.NONE:c.viewport.OnePage.HorizontalShadow.RIGHT,c.viewport.OnePage.VerticalShadow.BOTTOM);b.Fc(a.va());b.la(a.d())}};c.viewport.ContinuousViewport.prototype.Qk=function(a){if(u.array.some(this.Me,function(e){return a==e.Bh()}))return;var b=new c.books.Separator(this.ma,a);b.Kd(this.aa);b.Fc(a.va());b.show();this.Me.push(b)};
c.viewport.ContinuousViewport.prototype.Cj=function(){var a=this.b.scrollTop,b=this.b.scrollTop+this.Ga;return u.array.bucket(this.ga.Jh(),function(e){var f=e.va(),g=e.Ia();return f>=a&&f<=b||g>=a&&g<=b||f<a&&g>b?0:1})};c.viewport.ContinuousViewport.prototype.ee=function(){var a=Math.round(this.b.scrollTop+this.Ga/2),b=this.ga.Ih(a);if(b instanceof c.layout.FlowPage)return this.ub.Al(b.d())};c.viewport.ContinuousViewport.prototype.Rb=function(){this.Jb=null;setTimeout(this.lc.bind(this),0)};c.viewport.ContinuousViewport.prototype.Pa=
function(){var a=this.aa==this.t;this.Gd();this.Id();if(a)this.t=Math.min(this.aa,this.jb.Ia());this.ub.ig();this.Wn(this.aa);this.Rb()};c.viewport.ContinuousViewport.prototype.qe=function(){this.ub.cleanup();this.ub=new c.viewport.PagePool(this.a,this,this.Cc);this.Nj=[];this.Rb()};c.viewport.ContinuousViewport.prototype.Id=function(){var a=c.dom.getNodeWidth(this.b);if(a>this.t){c.style.setStyles(this.Cc,{left:Math.floor((a-this.t)/2)});c.style.setStyles(this.ma,{width:""})}else{var b=this.t;c.style.setStyles(this.Cc,
{left:0});c.style.setStyles(this.ma,{width:b})}c.style.setStyles(this.ma,{height:this.ga.ea()})};c.viewport.ContinuousViewport.prototype.Wn=function(a){u.array.forEach(this.Me,function(b){b.Kd(a)})};c.viewport.ContinuousViewport.prototype.re=function(){var a=this.a.d(),b=this.a.Na(),e=b.Bb(a.m());if(!e)e=b.Sh(a.Ea());var f=this.b.scrollTop-this.ga.tc(e).va(),g=this.ub.zh().slice(0);this.ah();this.Id();var h;while(h=g.pop()){var i=this.ga.tc(h.d());if(i)h.Fc(i.va());else this.ub.hj(h)}delete this.Jb;
this.lc();this.b.scrollTop=f+this.ga.tc(e).va()};c.viewport.CurrentContinuousViewport={};c.viewport.CurrentContinuousViewport.db=function(){c.viewport.CurrentContinuousViewport.Ak=c.viewport.CurrentContinuousViewport.Ak||c.viewport.CurrentContinuousViewport.kp();return c.viewport.CurrentContinuousViewport.Ak};c.viewport.CurrentContinuousViewport.kp=function(){return c.viewport.ContinuousViewport};c.viewport.TwoPage=function(a,b){this.a=a;this.na=c.dom.createElement("div");c.style.setStyles(this.na,{position:q,backgroundColor:"white",top:0,left:0});this.e=[];this.bl();var e={overflow:r,backgroundColor:"#FAA",position:q};c.dom.appendChild(b,this.na);this.Bd=c.dom.createElement("div");this.ue=c.dom.createElement("div");this.e.push(O(this.Bd,"dblclick",this.hi.bind(this)));c.style.setStyles(this.Bd,e);c.style.setStyles(this.ue,e);c.dom.appendChild(this.na,this.Bd);c.dom.appendChild(this.na,this.ue);
this.aj=c.viewport.Page.getDecoratedPageDisplay(this.a,this,this.Bd);this.cj=c.viewport.Page.getDecoratedPageDisplay(this.a,this,this.ue)};c.viewport.TwoPage.inherits(c.viewport.Drawable);c.viewport.TwoPage.prototype.hi=function(a){c.util.Events.cancel(a);if(!this.a.ze())this.a.ra(U)};c.viewport.TwoPage.prototype.Pn=function(a){this.so=a;this.Cd=Math.floor((this.so-19-23-38)/2);this.Vf=Math.floor(this.Cd/this.a.Na().ml());this.uq=this.Vf+11+15};c.viewport.TwoPage.prototype.Fa=function(a){c.style.setStyles(this.na,
{display:a?"":s})};c.viewport.TwoPage.prototype.draw=function(){c.style.setStyles(this.Bd,{left:19,top:11});c.style.setStyles(this.ue,{left:19+this.Cd+38,top:11});this.aj.Ja(this.Cd,this.Vf);this.cj.Ja(this.Cd,this.Vf);var a=this.Cd,b=this.Vf,e=19+2*a+38,f=[[0,0,19,11],[19,0,a,11],[19+a,0,38,11],[19+a+38,0,a,11],[e,0,23,11],[0,11,19,6],[0,17,19,b-6],[19+a,11,38,b],[e,11,23,6],[e,17,23,b-6],[0,11+b,19,15],[19,11+b,a,15],[19+a,11+b,38,15],[19+a+38,11+b,a,15],[e,11+b,23,15]];for(var g=0;g<f.length;g++){var h=
f[g];c.style.setStyles(this.gh[g],{left:h[0],top:h[1],width:h[2],height:h[3]})}};c.viewport.TwoPage.prototype.Hh=function(){return this.Cd};c.viewport.TwoPage.prototype.Cb=function(){return u.array.filter([this.yp,this.$p],function(a){return!(!a)})};c.viewport.TwoPage.prototype.$=function(){return this.uq};c.viewport.TwoPage.prototype.i=function(){return this.so};var V="repeat-x",W="repeat-y",Ka=[d+"binding-top-left.gif",d+"binding-top.gif",d+"binding-top-center.gif",d+"binding-top.gif",d+"binding-top-right.gif",
d+"book-binding-left.gif",d+"book-binding-left.gif",d+"binding-center.gif",d+"binding-right.gif",d+"binding-right.gif",d+"binding-bottom-left.gif",d+"binding-bottom.gif",d+"binding-bottom-center.gif",d+"binding-bottom.gif",d+"binding-bottom-right.gif"],La=["","","","","","","","","googlebooks/frontcover_topright_gray.gif","googlebooks/frontcover_right.gif","","","","googlebooks/frontcover_bottom.gif","googlebooks/frontcover_bottomright.gif"],Ma=["","","","","","googlebooks/backcover_topleft_gray.gif",
"googlebooks/backcover_left.gif","","","","googlebooks/backcover_bottomleft.gif","googlebooks/backcover_bottom.gif","","",""],Na=["",V,"",V,"",W,W,W,W,W,"",V,"",V,""];c.viewport.TwoPage.prototype.bl=function(){var a=c.util.arrayToHash([0,1,5,6,10,11]);this.gh=[];for(var b=0;b<15;b++){var e=c.dom.createElement("div");c.style.setStyles(e,{position:q});if(Na[b])c.style.setStyles(e,{backgroundRepeat:Na[b]});else c.style.setStyles(e,{backgroundRepeat:"no-repeat"});c.dom.appendChild(this.na,e);this.gh.push(e);
if(a[b])this.e.push(O(e,"dblclick",this.hi.bind(this)))}};c.viewport.TwoPage.prototype.jo=function(a){if(this.Mo==a)return;this.Mo=a;for(var b=0;b<15;b++)c.style.setStyles(this.gh[b],{backgroundImage:"url("+a[b]+")"});c.style.setStyles(this.Bd,{visibility:a==La?r:""});c.style.setStyles(this.ue,{visibility:a==Ma?r:""})};c.viewport.TwoPage.prototype.cleanup=function(){this.aj.cleanup();this.cj.cleanup();var a;while(a=this.e.pop())Q(a);if(this.na.parentNode)c.dom.removeNode(this.na)};c.viewport.TwoPage.prototype.Gn=
function(a,b){var e=Ka;this.yp=a;if(a)this.aj.la(a);else e=La;this.$p=b;if(b)this.cj.la(b);else e=Ma;this.jo(e)};c.viewport.TwoPage.getWidthForImageWidth=function(a){return a*2+c.viewport.TwoPage.getNonImageWidth()};c.viewport.TwoPage.getHeightForImageHeight=function(a){return a+c.viewport.TwoPage.getNonImageHeight()};c.viewport.TwoPage.getNonImageHeight=function(){return 26};c.viewport.TwoPage.getNonImageWidth=function(){return 80};c.viewport.TwoPageViewport=function(a){c.viewport.Viewport.call(this,a);this.t=c.viewport.TwoPage.getWidthForImageWidth(280);this.jb=new c.viewport.Zoom(u.array.map([180,220,280,350,410,495,575,685,800,910,1025],c.viewport.TwoPage.getWidthForImageWidth));this.e.push(O(this.a,J,this.Pa.bind(this)));this.e.push(O(this.a,G,this.wa.bind(this)));this.e.push(O(this.a,M,this.Qa.bind(this,1)));this.e.push(O(this.a,N,this.Qa.bind(this,-1)));this.e.push(O(this.a,H,this.km.bind(this)));this.lf();this.ff=new c.viewport.TwoPageViewport.Xe;
this.wa();this.Pa()};c.viewport.TwoPageViewport.inherits(c.viewport.Viewport);c.viewport.TwoPageViewport.prototype.lf=function(){this.fa=new c.viewport.TwoPage(this.a,this.Cc);this.fa.Pn(this.t);this.fa.draw();this.fa.Fa(false);setTimeout(this.fa.Fa.bind(this.fa,true),0)};c.viewport.TwoPageViewport.prototype.ie=function(a){var b=this.a.Na().he(this.a.m(),2*a);if(!b)b=this.a.Na().he(this.a.m(),a);return b};c.viewport.TwoPageViewport.prototype.Pa=function(){this.Gd();this.Id()};c.viewport.TwoPageViewport.prototype.Id=
function(){var a=Math.max(this.Ga,this.fa.$());c.style.setStyles(this.ma,{height:a});var b,e;if(this.aa>this.fa.i()){b=Math.floor((this.aa-this.fa.i())/2);e=""}else{b=0;e=this.t}c.style.setStyles(this.Cc,{left:b});c.style.setStyles(this.ma,{width:e})};c.viewport.TwoPageViewport.prototype.wa=function(){this.la(this.a.d())};c.viewport.TwoPageViewport.prototype.Qa=function(a){var b=this.aa<this.jb.Ia()?[this.aa]:[],e=this.jb.fe(this.t,a,b);if(e)this.Ca(e)};c.viewport.TwoPageViewport.prototype.la=function(a){this.qa=
a;var b=a.Ea()%2;a.m();var e=b?[-2,-1,0,1,2,3]:[-3,-2,-1,0,1,2],f=[];for(var g=0;g<e.length;g++){var h=e[g];if(h)f.push(this.a.Na().he(a.m(),h));else f.push(a)}this.fa.Gn(f[2],f[3]);var i={output:this.a.wd()==S?"text":""};u.array.forEach([2,3],function(j){var k=f[j];if(k)k.rh(i)});this.ff.clear();u.array.forEach([4,5,0,1],function(j){var k=f[j];if(k)this.ff.dk(k,this.fa.Hh())},this)};c.viewport.TwoPageViewport.prototype.Cb=function(){return this.fa.Cb()};c.viewport.TwoPageViewport.prototype.xc=function(){return this.fa.Hh()/
this.a.Na().Sc()};c.viewport.TwoPageViewport.prototype.Ca=function(a){var b=this.fa.i()-this.aa,e=this.fa.$()-this.Ga,f=e>0?this.b.scrollTop/e:0.5,g=b>0?this.b.scrollLeft/b:0.5;this.t=a;this.fa.cleanup();this.ff.clear();this.lf();this.Pa();this.la(this.qa);b=this.fa.i()-this.aa;e=this.fa.$()-this.Ga;this.b.scrollLeft=b>0?Math.round(b*g):0;this.b.scrollTop=e>0?Math.round(e*f):0;setTimeout(this.fa.Fa.bind(this.fa,true),0)};c.viewport.TwoPageViewport.prototype.km=function(){this.fa.cleanup();this.ff.clear();
this.lf();this.Pa();this.la(this.qa);setTimeout(this.fa.Fa.bind(this.fa,true),0)};c.viewport.TwoPageViewport.Xe=function(){this.zm=[];this.s=[]};c.viewport.TwoPageViewport.Xe.prototype.dk=function(a,b){this.s.push(a);if(a.uc())this.sb(a,b);else P(a,K,this.sb.bind(this,a,b))};c.viewport.TwoPageViewport.Xe.prototype.sb=function(a,b){if(u.array.contains(this.s,a)){var e=a.uc();if(e){var f=c.dom.createElement("img");this.zm.push(f);f.src=c.util.Url.getUrlForWidth(e,b)}}};c.viewport.TwoPageViewport.Xe.prototype.clear=
function(){var a;while(a=this.zm.pop())a.src=l;this.s=[]};c.chrome.AddressBar=function(a){if(!(c.Detect.OPERA()&&!c.Detect.OPERA_9())){this.a=a;O(a,L,this.Lj.bind(this));O(a,G,this.Lj.bind(this))}};c.chrome.AddressBar.Bm=function(){if(c.chrome.AddressBar.Nd)return;c.chrome.AddressBar.Nd={};c.chrome.AddressBar.Nd[1]=c.viewport.CurrentContinuousViewport.db();c.chrome.AddressBar.Nd[2]=c.viewport.TwoPageViewport};c.chrome.AddressBar.Vk=function(a){var b=document.location.href,e={},f=b.indexOf("#")+1;if(f){var g=b.substring(f).split(",");u.array.forEach(g,function(h){e[h.charAt(0)]=
h.substring(1)})}return e[a]};c.chrome.AddressBar.m=function(){c.chrome.AddressBar.Bm();return c.chrome.AddressBar.Vk("P")};c.chrome.AddressBar.db=function(){c.chrome.AddressBar.Bm();return c.chrome.AddressBar.Nd[c.chrome.AddressBar.Vk("M")]};c.chrome.AddressBar.prototype.Lj=function(){var a,b=this.a.db();for(var e in c.chrome.AddressBar.Nd)if(c.chrome.AddressBar.Nd[e]==b)a=e;var f=document.location.href.replace(/#.*/,""),g=[f,"#","P",this.a.d().m()].join("");if(a)g=[g,",","M",a].join("");document.location.replace(g)};c.chrome.Ads=function(a,b){this.k=a;this.Om=(new Date).getTime();this.a=b;O(b,G,this.cd.bind(this));O(b,M,this.cd.bind(this));O(b,N,this.cd.bind(this));O(b,L,this.wi.bind(this));O(b,"searchupdate",this.wi.bind(this));if(c.dom.getWindowHeight()<=480){a.className+=" adsmall";b.instrument(3,0)}else b.instrument(3,1)};c.chrome.Ads.prototype.ph=function(){var a=c.util.Url.replaceUrlParameter("jscmd","ads",this.a.d().Vc());this.wf=true;c.XmlHttp.get(a,this.Zb.bind(this),this.Yb.bind(this))};c.chrome.Ads.prototype.Zb=
function(a){this.wf=false;this.k.innerHTML=a;this.Om=(new Date).getTime()};c.chrome.Ads.prototype.Yb=function(){this.wf=false};c.chrome.Ads.prototype.wi=function(){if(this.wf)return;this.ph()};c.chrome.Ads.prototype.cd=function(){if(this.wf)return;if(10000+this.Om>(new Date).getTime())return;this.ph()};c.chrome.Fullscreen=function(a,b){u.events.EventTarget.call(this);this.yf=false;this.Kp=b;this.a=a;a.Lb(85,this.toggle.bind(this))};c.chrome.Fullscreen.inherits(u.events.EventTarget);c.chrome.Fullscreen.prototype.ye=function(){return this.yf};c.chrome.Fullscreen.prototype.fullscreen=function(){this.oi(true,s,0)};c.chrome.Fullscreen.prototype.regular=function(){this.oi(false,"",1)};c.chrome.Fullscreen.prototype.toggle=function(){if(this.ye())this.regular();else this.fullscreen()};c.chrome.Fullscreen.prototype.oi=
function(a,b,e){this.yf=a;this.dispatchEvent(y);c.style.setStyles(this.Kp,{display:b});this.a.instrument(2,e);this.a.ra(X)};c.chrome.Gaia=function(a,b){this.k=a;this.a=b;O(b,"loginchange",this.cd.bind(this))};c.chrome.Gaia.prototype.cd=function(a){if(a&&a.html)this.k.innerHTML=a.html};c.chrome.ImageLink=function(a,b,e){u.events.EventTarget.call(this);var f=c.dom.createElement("a");c.style.setStyles(f,{whiteSpace:"nowrap",textDecoration:s,cursor:"pointer"});c.dom.appendChild(a,f);this.kk=f;var g=c.dom.createElement("img");g.src=b;g.border=0;c.style.setStyles(g,{verticalAlign:"bottom"});c.dom.appendChild(f,g);c.dom.appendChild(f,c.dom.createTextNode(" "));var h=c.dom.createElement("span");h.innerHTML=e;c.style.setStyles(h,{textDecoration:"underline"});c.dom.appendChild(f,h);this.Gq=
h;O(f,z,this.yc.bind(this))};c.chrome.ImageLink.inherits(u.events.EventTarget);c.chrome.ImageLink.prototype.An=function(a){this.kk.href=a};c.chrome.ImageLink.prototype.oj=function(a){this.So=a};c.chrome.ImageLink.prototype.yc=function(a){if(this.So)c.util.Events.cancel(a);this.dispatchEvent(z)};c.chrome.ImageLink.VisibilityDecorator=function(a,b){this.Hi=a;this.xp=b;O(a,z,this.update.bind(this));this.update()};c.chrome.ImageLink.VisibilityDecorator.prototype.update=function(){c.style.setStyles(this.Hi.kk,
{display:this.xp()?"":s})};c.common={};c.common.Mover=function(a){this.Ym=[];this.sf=[];if(a)this.sf.push(a)};c.common.Mover.toPixels=function(a){return Math.round(a)+"px"};c.common.Mover.linearBlendColor=function(a,b,e){var f=[];for(var g=0;g<3;g++)f.push(Math.round(a[g]+(b[g]-a[g])*e));return"rgb("+f.join(",")+")"};c.common.Mover.prototype.gd=function(a){this.sf.push(a)};c.common.Mover.prototype.Rd=function(a,b,e,f,g){var h=new c.common.Mover.Cg(a,b,e,f,g);this.Ym.push(h)};c.common.Mover.prototype.move=function(a){this.ae=
a;setTimeout(this.Qi.bind(this),0)};c.common.Mover.reverseCube=function(a){var b=1-a,e=b*b*b;return 1-e};c.common.Mover.linear=function(a){return a};c.common.Mover.sineIntegral=function(a){return(-Math.cos(a*Math.PI)+1)/2};c.common.Mover.prototype.Qi=function(){this.wb=this.wb||(new Date).getTime();var a=(new Date).getTime(),b=Math.min(1,(a-this.wb)/this.ae),e=c.util.getArrayIterator(this.Ym);while(e.hasNext())e.next().update(b);if(b>=1)for(var f=0;f<this.sf.length;f++)this.sf[f]();else setTimeout(this.Qi.bind(this),
0)};c.common.Mover.getAnimationDuration=function(a){if(a<=100)return 250;else if(a>=500)return 500;else return(a-100)/400*250+250};c.common.Mover.Cg=function(a,b,e,f,g){this.Mp=a;this.Ko=b;this.cq=e;this.ap=f-e;if(g){this.al=g.format;if(g.zip)this.Pj=g.zip}};c.common.Mover.Cg.prototype.update=function(a){a=this.Pj(a);var b=a*this.ap+this.cq;this.Mp[this.Ko]=this.al?this.al(b):b};c.common.Mover.Cg.prototype.Pj=c.common.Mover.reverseCube;c.chrome.Menu=function(a,b){this.dc=a;this.Gp=b;this.Hp=[];c.style.setStyles(this.dc,{overflowX:r,overflowY:"auto"})};c.chrome.Menu.prototype.i=function(){return c.dom.getNodeWidth(this.dc.parentNode)};c.chrome.Menu.prototype.Hg=function(a,b){var e=new c.chrome.Menu.ed(a,b);this.Hp.push(e);return e};c.chrome.Menu.ed=function(a,b){this.Ra=a;this.k=b;this.md=c.dom.wrapNodeInDiv(this.k);var e=c.dom.createElement("img");e.src=Oa;e.width=12;e.height=12;c.style.setStyles(this.Ra,{cursor:c.util.getHandCursorStyle()});
this.Ra.onclick=this.toggle.bind(this);this.pa=e;c.dom.insertFirst(this.Ra,e);c.dom.makeUnselectable(this.Ra);this.Fe=true};var Pa=d+"plus_sm.gif",Oa=d+"minus_sm.gif";c.chrome.Menu.ed.prototype.toggle=function(){if(this.tb)return;if(this.Fe)this.hide();else this.show()};c.chrome.Menu.ed.prototype.hide=function(){if(!this.Fe)return;this.tb=true;this.Zc=c.Detect.IE()?c.dom.getOffsetHeight(this.k):c.dom.getNodeHeight(this.k);this.Fe=false;c.style.setStyles(this.md,{overflow:r});this.pa.src=Pa;var a=
new c.common.Mover(this.um.bind(this));a.Rd(this.md.style,"height",this.Zc,0,{format:c.common.Mover.toPixels});a.move(c.common.Mover.getAnimationDuration(this.Zc))};c.chrome.Menu.ed.prototype.um=function(){c.style.setStyles(this.md,{display:s});this.tb=false};c.chrome.Menu.ed.prototype.show=function(){if(this.Fe)return;this.tb=true;this.Fe=true;c.style.setStyles(this.md,{display:""});this.pa.src=Oa;var a=new c.common.Mover(this.Rn.bind(this));this.Zc=this.Zc==0?50:this.Zc;a.Rd(this.md.style,"height",
0,this.Zc,{format:c.common.Mover.toPixels});a.move(c.common.Mover.getAnimationDuration(this.Zc))};c.chrome.Menu.ed.prototype.Rn=function(){c.style.setStyles(this.md,{height:""});c.style.setStyles(this.k,{overflow:""});this.tb=false};c.chrome.PageControl=function(a,b,e,f,g){var h={cursor:c.util.getHandCursorStyle()};c.style.setStyles(e,h);O(e,z,this.lm.bind(this));c.style.setStyles(f,h);O(f,z,this.gm.bind(this));if(g.innerHTML)this.Ra=g;else{g.form.action="javascript:";g.form.onSubmit=this.Yl.bind(this);c.style.setStyles(g.go,{display:s});this.Ed=g.input}this.a=a;this.ib=b;O(a,G,this.update.bind(this))};c.chrome.PageControl.prototype.Yl=function(){var a=u.string.trim(this.Ed.value);if(a.length==0)return false;var b=this.ib.Dl(a);
if(b){this.a.ra(T,b.m());this.a.instrument(1,2)}else this.update();return false};c.chrome.PageControl.prototype.lm=function(){this.a.instrument(1,0);this.a.ra(U)};c.chrome.PageControl.prototype.gm=function(){this.a.instrument(1,1);this.a.ra(Y)};c.chrome.PageControl.prototype.update=function(){var a=this.a.d();if(a){var b=a.Db();if(this.Ed)this.Ed.value=b;else{if(!b)b="&nbsp;";this.Ra.innerHTML=c.util.format(_OC_MSG[va],b)}}};c.chrome.Permalink=function(a,b){this.a=a;this.Hi=b;O(a,G,this.wa.bind(this));this.wa()};c.chrome.Permalink.prototype.wa=function(){var a=this.a.d();if(a)this.Hi.An(a.Vc()||"")};c.chrome.Print=function(a){var b=a.d();if(!b)return;window.open(c.util.Url.replaceUrlParameter("output","pw",b.Vc()),"_blank")};c.chrome.ResizeManager=function(a,b,e,f,g,h){this.a=a;this.yf=b;this.Fp=e;this.Fp.width=1;this.dc=f;this.Lq=g;this.Fg=h;c.style.setStyles(this.dc,{overflow:"auto"});O(window,J,this.ii.bind(this));O(this.a,J,this.mj.bind(this))};c.chrome.ResizeManager.prototype.ii=function(){this.a.ra(X)};c.chrome.ResizeManager.prototype.mj=function(){var a=c.dom.getWindowHeight(),b=c.dom.getYPosition(this.a.Eb()),e=a-b,f=0;if(this.Fg)f=(c.Detect.IE()?c.dom.getOffsetHeight(this.Fg):c.dom.getNodeHeight(this.Fg))||0;
c.style.setStyles(this.dc,{height:Math.max(0,e-1)});var g=this.yf.ye()?0:260,h=c.dom.getWindowWidth()-g,i=Math.max(0,e-f-2);this.a.Ja(h,i)};c.chrome.TextPaginator=function(a){this.Qp=a;this.k=a;c.style.setStyles(this.Qp,{backgroundPosition:"center center",backgroundRepeat:"no-repeat"})};c.chrome.TextPaginator.prototype.ud=function(a,b,e){var f=b||this.Zb.bind(this),g=e||this.Yb.bind(this);c.XmlHttp.get(a,f,g);this.Ui=this.k.innerHTML;var h=c.dom.createElement("div");h.innerHTML=_OC_MSG[t];c.style.setStyles(h,{color:"#808080",visibility:"visible"});var i=c.dom.getNodeHeight(this.k);if(i>0)c.style.setStyles(h,{height:i});this.k.innerHTML=
"";c.dom.appendChild(this.k,h)};c.chrome.TextPaginator.prototype.Tg=function(a){this.k.innerHTML=a;c.style.setStyles(this.k,{height:""})};c.chrome.TextPaginator.prototype.Zb=function(a){this.Tg(a)};c.chrome.TextPaginator.prototype.Yb=function(){this.Tg(this.Ui)};c.chrome.SearchResults=function(a,b,e,f,g,h,i,j){c.chrome.TextPaginator.call(this,e);this.a=a;this.pp=b;this.ib=f;this.Yk=g;this.bo();this.Zn=j;this.dc=h;this.Gp=i};c.chrome.SearchResults.inherits(c.chrome.TextPaginator);c.chrome.SearchResults.prototype.bo=
function(){this.Yk.onsubmit=this.pm.bind(this);var a=c.util.getArrayIterator(this.Yk.getElementsByTagName("input"));while(a.hasNext()){var b=a.next();if(b.type=="text")this.tg=b;if(b.type=="submit")this.Jq=b}};c.chrome.SearchResults.prototype.pm=function(a){c.util.Events.cancel(a);if(u.string.trim(this.tg.value).length>0){var b=this.tg.value,e=c.util.Url.replaceUrlParameter("q",b,window.location.href);this.ud(e,b)}};c.chrome.SearchResults.prototype.Xk=function(){this.tg.focus();var a=new c.common.Mover;
a.Rd(this.tg.style,"backgroundColor",0,1,{format:c.common.Mover.linearBlendColor.partial([255,255,136],[255,255,255]),zip:c.common.Mover.linear});a.move(1000)};c.chrome.SearchResults.prototype.ud=function(a,b){var e=c.util.Url.replaceUrlParameter("jscmd","searchvolume",a);c.chrome.SearchResults.p.ud.call(this,e,this.Zb.bind(this,b),this.Yb.bind(this,b));if(this.Zn)this.Zn()};c.chrome.SearchResults.prototype.Zb=function(a,b){c.chrome.SearchResults.p.Zb.call(this,b);this.Si=a;setTimeout(this.vn.bind(this),
0)};c.chrome.SearchResults.prototype.vn=function(){var a=this.pp.offsetTop,b=this.k.offsetTop+c.dom.getNodeHeight(this.k),e=this.dc.scrollTop,f=c.dom.getNodeHeight(this.dc);if(b>f+e){var g=b-f;if(g>a)g=a-5;else g+=5;var h=new c.common.Mover;h.Rd(this.dc,"scrollTop",e,g);h.move(c.common.Mover.getAnimationDuration(Math.abs(e-g)))}};c.chrome.SearchResults.prototype.Yb=function(a,b){c.chrome.SearchResults.p.Yb.call(this,b)};c.chrome.SearchResults.prototype.im=function(a){if(this.Si){this.ib.Jn(this.Si);
delete this.Si}this.a.Qe(a)};c.chrome.StaticInput=function(a,b){this.Ed=a;O(a,z,this.select.bind(this));O(a,"focus",this.select.bind(this));O(a,y,this.rc.bind(this));this.wj(b);this.rc()};c.chrome.StaticInput.prototype.wj=function(a){this.mq=a;this.rc()};c.chrome.StaticInput.prototype.select=function(){this.Ed.select()};c.chrome.StaticInput.prototype.rc=function(){this.Ed.value=this.mq};c.common.Drag=function(a,b){u.events.EventTarget.call(this);c.util.getBody();this.Gj=a;this.Hj=b;this.Oi();this.e=[O(window,J,this.Oi.bind(this)),O(c.util.getBody(),"mousemove",this.dm.bind(this)),O(c.util.getBody(),"mouseup",this.Oc.bind(this))];if(c.Detect.MOZILLA())this.e.push(O(c.util.getBody(),E,this.fm.bind(this)))};c.common.Drag.inherits(u.events.EventTarget);c.common.Drag.prototype.dm=function(a){this.dispatchEvent({type:B,x:a.clientX,y:a.clientY,deltaX:a.clientX-this.Gj,deltaY:a.clientY-
this.Hj})};c.common.Drag.prototype.fm=function(a){var b=a.clientX,e=a.clientY;if(b<0||e<0||b>=this.rq||e>=this.qq)this.Oc()};c.common.Drag.prototype.Oc=function(){u.array.forEach(this.e,Q);this.dispatchEvent("dragend")};c.common.Drag.prototype.Oi=function(){this.qq=c.dom.getWindowHeight();this.rq=c.dom.getWindowWidth()};c.common.Drag.listenForDrag=function(a,b,e){var f=e?P:O;return[f(a,D,c.common.Drag.Bp.partial(b)),f(a,"dragstart",c.util.Events.cancel)]};c.common.Drag.Bp=function(a,b){c.util.Events.cancel(b);
a(new c.common.Drag(b.clientX,b.clientY))};c.clipping={};c.clipping.ClipHandles=function(a,b){this.Uf=[];this.ya=a;this.zg=b;for(var e=0;e<8;e++)this.Uf.push(new c.clipping.ClipHandles.Ye(a.lj.bind(a,Z[e][0],Z[e][1],Z[e][2],Z[e][3]),b))};var Z=[[1,1,0,0],[0,1,0,0],[0,1,1,0],[1,0,0,0],[0,0,1,0],[1,0,0,1],[0,0,0,1],[0,0,1,1]];c.clipping.ClipHandles.prototype.yn=function(){var a=["nw","n","ne","w","e","sw","s","se"];for(var b=0;b<8;b++)this.Uf[b].Ne(a[b]+"-resize")};c.clipping.ClipHandles.prototype.gc=function(a){var b=this.ya.Qh(),e=[0,0,0.5,
0,1,0,0,0.5,1,0.5,0,1,0.5,1,1,1],f=a.i()-1,g=a.$()-1,h=this.ya.bi();u.array.forEach(this.Uf,function(i){i.moveTo(b.x-h.cb()+a.cb()+Math.round(f*e.shift()),b.y-h.Aa()+a.Aa()+Math.round(g*e.shift()))})};c.clipping.ClipHandles.prototype.cleanup=function(){u.array.forEach(this.Uf,function(a){a.cleanup()})};c.clipping.ClipHandles.Ye=function(a,b){this.bd=c.dom.createElement("div");c.style.setStyles(this.bd,{position:q});c.dom.appendChild(b,this.bd);this.Of=c.dom.createElement("div");this.rg=c.dom.createElement("div");
c.dom.appendChild(this.bd,this.rg);c.dom.appendChild(this.bd,this.Of);this.Of.innerHTML="&nbsp;";this.rg.innerHTML="&nbsp;";c.style.setStyles([this.Of,this.rg],{overflow:r,position:q});c.style.setStyles(this.Of,{width:5,height:5,backgroundColor:"#FFF",left:-3,top:-3,border:"1px solid",borderColor:"#000"});c.style.setStyles(this.rg,{width:17,height:17,left:-3,top:-3});this.e=c.common.Drag.listenForDrag(this.bd,a)};c.clipping.ClipHandles.Ye.prototype.Ne=function(a){c.style.setStyles(this.bd,{cursor:a})};
c.clipping.ClipHandles.Ye.prototype.moveTo=function(a,b){c.style.setStyles(this.bd,{left:a,top:b})};c.clipping.ClipHandles.Ye.prototype.cleanup=function(){u.array.forEach(this.e,Q)};c.clipping.ClipRubberBand=function(a,b){this.ya=a;this.zg=b;this.Sg=c.dom.createElement("div");c.dom.appendChild(this.zg,this.Sg);this.Ad=c.dom.createElement("div");this.Wd=c.dom.createElement("img");this.Wd.src=a.Uc().If();this.jg=c.dom.createElement("div");c.dom.appendChild(this.Sg,this.Ad);c.dom.appendChild(this.Sg,this.jg);c.dom.appendChild(this.Ad,this.Wd);c.style.setStyles([this.Ad,this.jg,this.Wd],{position:q});c.style.setStyles(this.Ad,{overflow:r});c.style.setStyles(this.jg,{border:"2px #aaaaff dashed"});
c.style.setStyles(this.Wd,{position:q});this.e=c.common.Drag.listenForDrag(this.zg,a.lj.bind(a,1,1,1,1))};c.clipping.ClipRubberBand.prototype.pl=function(){return this.Ad};c.clipping.ClipRubberBand.prototype.Ne=function(){c.style.setStyles(this.zg,{cursor:c.viewport.Dragger.getGrabCursor()})};c.clipping.ClipRubberBand.prototype.gc=function(a){var b=this.ya.bi(),e=this.ya.Qh(),f=4,g=a.cb()+e.x-b.cb(),h=a.Aa()+e.y-b.Aa(),i=a.i(),j=a.$();c.style.setStyles(this.jg,{left:g,top:h,width:i-f,height:j-f});
c.style.setStyles(this.Ad,{left:g,top:h,width:i,height:j});c.style.setStyles(this.Wd,{left:-a.cb(),top:-a.Aa()})};c.clipping.ClipRubberBand.prototype.cleanup=function(){u.array.forEach(this.e,Q)};c.clipping.ClipViewportMask=function(a){this.Ni=a.bh();c.style.setStyles(this.Ni,{backgroundColor:"#000",filter:"alpha(opacity=50)",opacity:"0.5"});this.Tf=P(this.Ni,D,a.cleanup.bind(a))};c.clipping.ClipViewportMask.prototype.cleanup=function(){c.dom.maybeRemoveNode(this.Ni);Q(this.Tf)};c.common.Dialog=function(){var a=c.util.getBody();this.Dc=c.dom.createElement("div");c.dom.appendChild(a,this.Dc);c.style.setStyles(this.Dc,{position:q});this.zj=c.dom.createElement("div");c.dom.appendChild(this.Dc,this.zj);c.style.setStyles(this.zj,{backgroundColor:"#000",filter:"alpha(opacity=30)",opacity:"0.3",position:q,left:3,top:3});this.Za=c.dom.createElement("table");this.Za.cellSpacing=0;this.Za.cellPadding=0;c.style.setStyles(this.Za,{position:q,left:0,top:0});c.dom.appendChild(this.Dc,
this.Za);var b=this.Za.insertRow(0).insertCell(0);this.ja=c.dom.createElement("div");c.dom.appendChild(b,this.ja);this.bg();this.Lk();this.Eq=false;this.e=[];this.$n=[];setTimeout(this.ao.bind(this),0)};c.common.Dialog.prototype.ao=function(){c.style.setStyles(this.zj,{width:c.dom.getNodeWidth(this.Za),height:c.dom.getNodeHeight(this.Za)});u.array.forEach(this.$n,function(a){a()})};c.common.Dialog.prototype.mn=function(a){this.$n.push(a)};c.common.Dialog.prototype.Kd=function(a){c.style.setStyles(this.Za,
{width:a})};c.common.Dialog.prototype.i=function(){return c.dom.getNodeWidth(this.Za)};c.common.Dialog.prototype.$=function(){return c.dom.getNodeHeight(this.Za)};c.common.Dialog.prototype.ik=0;c.common.Dialog.prototype.jk=0;c.common.Dialog.prototype.moveTo=function(a,b){this.sq=a;this.tq=b;c.style.setStyles(this.Dc,{left:Math.round(a-this.i()*this.ik),top:Math.round(b-this.$()*this.jk)})};c.common.Dialog.prototype.bg=function(){this.moveTo(-20000,-20000)};c.common.Dialog.prototype.Xm=function(a,
b){var e=c.dom.getWindowWidth(),f=c.dom.getWindowHeight(),g=this.$(),h=this.i(),i=a.Af();if(i+g>f)i=Math.max(a.Aa()-g,0);var j=a.cb();if(b)j+=a.i()-h;if(j+h>e)j=Math.max(e-h,0);this.moveTo(j,i)};c.common.Dialog.prototype.ef="#ffffff";c.common.Dialog.prototype.Se=function(a){this.eo.innerHTML=a};c.common.Dialog.prototype.Lk=function(){this.Jc=c.dom.createElement("div");c.dom.appendChild(this.ja,this.Jc);c.style.setStyles(this.Jc,{border:"1px #2c4460 solid",padding:8,backgroundColor:"#b4cffe"});this.Da=
c.dom.createElement("div");c.dom.appendChild(this.Jc,this.Da);c.style.setStyles(this.Da,{backgroundColor:"#d8e8fd",fontWeight:"bold",padding:3});this.eo=c.dom.createElement("div");c.dom.appendChild(this.Da,this.eo);this.k=c.dom.createElement("div");c.dom.appendChild(this.Jc,this.k);c.style.setStyles(this.k,{backgroundColor:"#FFF",padding:"3 8 3 8"})};c.common.Dialog.prototype.cleanup=function(){if(this.Dc.parentNode){this.bg();c.style.setStyles(this.Za,{display:s});setTimeout(c.dom.maybeRemoveNode.partial(this.Dc),
0)}var a;while(a=this.e.pop())Q(a)};c.common.DialogDraggableDecorator=function(a){this.mb=a;c.dom.makeUnselectable(a.Da);c.style.setStyles(a.Da,{cursor:"move"});var b=c.common.Drag.listenForDrag(a.Da,this.Ul.bind(this));u.array.forEach(b,a.e.push.bind(a))};c.common.DialogDraggableDecorator.prototype.Ul=function(a){this.Gj=this.mb.sq;this.Hj=this.mb.tq;this.ep=[O(a,B,this.Sl.bind(this)),O(a,"dragend",this.Ql.bind(this))]};c.common.DialogDraggableDecorator.prototype.Sl=function(a){this.mb.moveTo(this.Gj+
a.deltaX,this.Hj+a.deltaY)};c.common.DialogDraggableDecorator.prototype.Ql=function(){u.array.forEach(this.ep,Q)};c.common.DialogCloseBoxDecorator=function(a,b){var e=b||a.cleanup.bind(a);this.mb=a;var f=c.dom.appendChild(a.Dc,c.dom.createElement("img"));this.pa=f;c.style.setStyles(f,{cursor:"pointer",position:q,display:s});f.src=aa;a.e.push(P(f,z,e));a.mn(this.en.bind(this))};c.common.DialogCloseBoxDecorator.prototype.en=function(){c.style.setStyles(this.pa,{display:"",left:c.dom.getNodeWidth(this.mb.Za)-
27,top:12})};c.common.FormBuilder={};c.common.FormBuilder.buildForm=function(a,b,e,f){var g=c.dom.createElement("form");c.style.setStyles(g,{display:s});c.style.setAttributes(g,{action:a,method:b});if(f)g.target=f;c.dom.appendChild(c.util.getBody(),g);for(var h in e){var i=e[h];if(i instanceof Array)u.array.forEach(i,c.common.FormBuilder.Qd.partial(g,h));else c.common.FormBuilder.Qd(g,h,i)}return g};c.common.FormBuilder.Qd=function(a,b,e){var f=c.dom.createElement("input");c.style.setAttributes(f,{type:r,name:b,
value:e});c.dom.appendChild(a,f)};c.common.FormBuilder.getGETUrl=function(a,b){var e=[];for(var f in b){var g=[];u.array.forEach([f,b[f]],function(h){g.push(encodeURIComponent(c.util.evaluate(h)))});e.push(g.join("="))}return[a,a.indexOf("?")==-1?"?":"&",e.join("&")].join("")};c.clipping.ClipAction=function(a,b,e,f){this.xg=a;this.Tp=b;this.ho=e;this.io=f;this.an=""};c.clipping.ClipAction.prototype.Nn=function(a){this.an=a};c.clipping.ClipAction.prototype.go=function(){var a=c.common.FormBuilder.getGETUrl(this.xg,this.Tp);if(this.ho&&this.io){a+="&"+this.ho+"=";var b=1900-a.length;if(b>0){var e=this.io.partial(b);a+=e()}}window.open(a,"clipPopup"+c.clipping.ClipAction.pq++,this.an)};c.clipping.ClipAction.pq=0;c.clipping.EmbedClipDialog=function(a,b){c.common.Dialog.call(this);new c.common.DialogDraggableDecorator(this);new c.common.DialogCloseBoxDecorator(this,a.cleanup.bind(a));this.ya=a;this.Hq=b;c.style.setStyles(this.k,{fontSize:13});this.Se(_OC_MSG[oa]);this.sg=_OC_MSG[ua];this.Mk();this.dq=new c.chrome.StaticInput(this.nh,"");u.array.forEach([O(this.Ij,y,this.pe.bind(this)),O(this.sp,y,this.pe.bind(this))],function(e){this.e.push(e)},this);this.pe()};c.clipping.EmbedClipDialog.inherits(c.common.Dialog);
c.clipping.EmbedClipDialog.prototype.Mk=function(){this.cf(_OC_MSG[ra]);var a=c.dom.createElement("img");a.src=this.xh();this.uh=this.bf();this.sp=this.Ig(this.uh,_OC_MSG[ta],"clip_format",true);c.dom.appendChild(this.uh,c.dom.createTextNode(" "));this.Ij=this.Ig(this.uh,_OC_MSG[sa],"clip_format");this.cf(_OC_MSG[pa]);this.bn=c.dom.createElement("table");c.dom.appendChild(this.bf(),this.bn);var b=16,e=new c.clipping.ClipAction(c.Flags.bloggerUrl,{n:this.ce.bind(this),u:this.yd.bind(this)},"t",this.fl.bind(this));
this.Kg(d+"blogger.gif",b,b,_OC_MSG[Ca],e.go.bind(e));if(c.Flags.notebookUrl.length>0){this.Lp=this.Kg(d+"notebook.gif",b,b,_OC_MSG[ka],this.hm.bind(this));this.cf(_OC_MSG[qa]);this.nh=c.dom.createElement("input");c.style.setAttributes(this.nh,{type:"text",size:32});c.dom.appendChild(this.bf(),this.nh)}};c.clipping.EmbedClipDialog.prototype.hm=function(){var a=window.gnb._doAdd;if(a==u.nullFunction){var b=new c.clipping.ClipAction(c.Flags.notebookUrl,{attrt:this.ce(),attr:this.yd()},"contents",this.Gh.bind(this));
b.Nn("width=200,height=200,left=100,top=100,menubar=no,toolbar=no,location=no,resizable=yes,scrollbars=no,status=no,directories=no,personalbar=no");b.go()}else a(this.Kf(),this.ce(),this.yd(),window.location.toString(),this.Lp)};window.gnb=window.gnb||{};window.gnb._doAdd=window.gnb._doAdd||u.nullFunction;c.clipping.EmbedClipDialog.prototype.xh=function(){return[c.util.Url.removeUrlParameter("w",this.ya.Uc().If()),"&ci=",this.ya.Ef().zf().join(","),"&edge=1"].join("")};c.clipping.EmbedClipDialog.prototype.qh=
function(){c.XmlHttp.getJSONObject(this.kl(),this.qm.bind(this,++c.clipping.EmbedClipDialog.dn))};c.clipping.EmbedClipDialog.dn=0;c.clipping.EmbedClipDialog.prototype.kl=function(){return[this.ya.Uc().d().Vc(),"&ci=",this.ya.Ef().zf().join(","),"&jscmd=click3&output=text"].join("")};c.clipping.EmbedClipDialog.prototype.yd=function(){return[this.ya.Uc().d().Vc(),"&ci=",this.ya.Ef().zf().join(","),"&source=bookclip"].join("")};c.clipping.EmbedClipDialog.prototype.il=function(){return this.Ij.checked?
this.Jl():this.ol()};c.clipping.EmbedClipDialog.prototype.$h=function(a){return a?c.util.getHTMLEscapedString(this.sg,a):this.sg};c.clipping.EmbedClipDialog.prototype.ol=function(){return[this.Kf(),"<br/>",this.Zh()].join("")};c.clipping.EmbedClipDialog.prototype.fl=function(a){if(this.Ij.checked)return this.$h(a);else return this.Kf(a)};c.clipping.EmbedClipDialog.prototype.Jl=function(){return[this.$h()," ",this.Zh()].join("")};c.clipping.EmbedClipDialog.prototype.Zh=function(){return c.clipping.EmbedClipDialog.wrapInAnchor(this.yd(),
this.ce.bind(this))};c.clipping.EmbedClipDialog.prototype.Kf=function(a){var b=this.yd();return c.clipping.EmbedClipDialog.wrapInAnchor(b,this.Gh.bind(this),a)};c.clipping.EmbedClipDialog.prototype.Gh=function(a){var b=this.xh(),e=['<img src="',b,'" border="0" alt="','"/>'],f=this.sg;if(a){e=u.array.map(e,function(g){return encodeURIComponent(g)});f=c.util.getHTMLEscapedString(f,a-e.join("").length)}e.splice(3,0,f);return e.join("")};c.clipping.EmbedClipDialog.Bq=function(a){var b=c.dom.createElement("div");
c.dom.appendChild(b,a);return b.innerHTML};c.clipping.EmbedClipDialog.wrapInAnchor=function(a,b,e){var f=['<a href="',a,'">',"</a>"];if(e)f=u.array.map(f,function(g){return encodeURIComponent(g)});b=e?b(e-f.join("").length):c.util.evaluate(b);f.splice(3,0,b);return f.join("")};c.clipping.EmbedClipDialog.prototype.ce=function(){var a=this.ya.Ll().Ml();return[a.Db(),a.Il(),a.el()].join(" ")};c.clipping.EmbedClipDialog.prototype.cf=function(a){var b=this.Gg();b.innerHTML=a;c.style.setStyles(b,{fontWeight:"bold"});
return b};c.clipping.EmbedClipDialog.prototype.bf=function(){var a=this.Gg();c.style.setStyles(a,{margin:"2 0 2 10"});return a};c.clipping.EmbedClipDialog.prototype.Gg=function(){var a=c.dom.createElement("div");c.dom.appendChild(this.k,a);return a};c.clipping.EmbedClipDialog.prototype.Ig=function(a,b,e,f){var g=c.dom.createElement("label");g.innerHTML=b;c.dom.appendChild(a,g);var h="input";if(u.userAgent.IE)h=u.string.subs('<input type=radio name="%s"></input>',e);var i=c.dom.createElement(h);if(!u.userAgent.IE){i.type=
"radio";i.name=e}c.dom.insertFirst(g,i);if(f)i.checked=true;return i};c.clipping.EmbedClipDialog.prototype.Kg=function(a,b,e,f,g){if(!this.Xg)this.Bk=this.bn.insertRow(-1);var h=this.Bk.insertCell(-1);c.style.setStyles(h,{whiteSpace:"nowrap"});if(!this.Xg)this.Bk.insertCell(-1).width=5;var i=c.dom.createElement("img");i.src=a;c.style.setAttributes(i,{width:b,height:e});c.style.setStyles(i,{verticalAlign:"middle"});c.dom.appendChild(h,i);c.dom.appendChild(h,c.dom.createTextNode(" "));var j=c.dom.createElement("span");
c.style.setStyles(j,x);j.innerHTML=f;c.dom.appendChild(h,j);O(i,z,g);O(j,z,g);this.Xg=!this.Xg;return h};c.clipping.EmbedClipDialog.prototype.qm=function(a,b){if(a!=c.clipping.EmbedClipDialog.dn)return;this.sg=b.page[0].content;if(this.hd)this.pe()};c.clipping.EmbedClipDialog.prototype.pe=function(){this.dq.wj(this.il())};c.clipping.ClipSession=function(a,b,e,f){this.a=a;this.jh=new c.common.Drag(f.clientX,f.clientY);this.j=b;this.o=e;this.Yn=this.Th(f.clientX,f.clientY);this.Li();this.To=new c.clipping.ClipViewportMask(this);this.Md=this.bh();c.style.setStyles(this.Md,{overflow:r,display:s});this.Ag=c.dom.createElement("div");c.dom.appendChild(this.Md,this.Ag);this.Wg=new c.clipping.ClipRubberBand(this,this.Ag);this.tk=new c.clipping.ClipHandles(this,this.Ag);c.dom.makeUnselectable(this.Md);this.Od=[this.To,this.Wg,
this.tk];this.e=[O(this.jh,B,this.om.bind(this)),O(this.jh,"dragend",this.nm.bind(this)),O(this.Md,D,this.qb.bind(this))];var g=this.cleanup.bind(this);u.array.forEach([J,M,N,C,L],function(i){this.e.push(P(a,i,g))},this);var h=this.j.Eb();this.oo=h.scrollTop;this.no=h.scrollLeft;this.aq=c.viewport.Spool.gd(this.nk.bind(this))};c.clipping.ClipSession.prototype.Li=function(){this.Iq=c.dom.getOffset(this.j.Ub(),this.o.rd());this.aa=c.dom.getNodeWidth(this.j.Ub());this.Ga=c.dom.getNodeHeight(this.j.Ub());
this.lo=c.dom.getNodeBox(this.j.Eb());this.Rp=c.dom.getPosition(this.o.rd(),true)};c.clipping.ClipSession.prototype.nk=function(){var a=this.j.Eb(),b=a.scrollTop,e=a.scrollLeft;if(this.oo!=b||this.no!=e){this.oo=b;this.no=e;this.Li();this.Mj()}};c.clipping.ClipSession.prototype.Qh=function(){return this.Rp};c.clipping.ClipSession.prototype.bi=function(){return this.lo};c.clipping.ClipSession.prototype.bh=function(){var a=c.dom.createElement("div");c.dom.appendChild(c.util.getBody(),a);var b=this.lo;
c.style.setStyles(a,{position:q,left:b.cb(),top:b.Aa(),width:b.i(),height:b.$()});return a};c.clipping.ClipSession.prototype.gc=function(a){var b=new c.Box(0,0,this.o.i(),this.o.$());this.hd=b.sl(a);var e;if(this.Ai())e=s;else{e="";this.Mj()}c.style.setStyles(this.Md,{display:e})};c.clipping.ClipSession.prototype.Ai=function(){return!this.hd||!this.hd.dl()};c.clipping.ClipSession.prototype.Mj=function(){u.array.forEach(this.Od,function(a){if(a.gc)a.gc(this.hd)},this)};c.clipping.ClipSession.prototype.Ef=
function(){var a=this.o.i()/1000,b=this.hd.clone();b.scale(1/a);b.ceil();return b};c.clipping.ClipSession.prototype.lj=function(a,b,e,f,g){this.jh=g;this.qg=this.hd.clone();this.mb.bg();this.Zp=[O(g,B,this.un.bind(this,a,b,e,f)),O(g,"dragend",this.tn.bind(this))]};c.clipping.ClipSession.prototype.qb=function(a){var b=c.util.Events.getTargetElement(a);if(!c.dom.contains(this.Ag,b))this.cleanup()};c.clipping.ClipSession.prototype.un=function(a,b,e,f,g){this.gc(new c.Box(this.qg.cb()+g.deltaX*a,this.qg.Aa()+
g.deltaY*b,this.qg.Wh()+g.deltaX*e,this.qg.Af()+g.deltaY*f))};c.clipping.ClipSession.prototype.tn=function(){if(this.Ug())return;u.array.forEach(this.Zp,Q);this.fj();this.mb.qh()};c.clipping.ClipSession.prototype.Ug=function(){if(this.Ai()){this.cleanup();return true}return false};c.clipping.ClipSession.prototype.cleanup=function(){c.dom.maybeRemoveNode(this.Md);u.array.forEach(this.Od,function(a){a.cleanup()});u.array.forEach(this.e,Q);c.viewport.Spool.Ie(this.aq)};c.clipping.ClipSession.prototype.om=
function(a){var b=this.Th(a.x,a.y);this.gc(new c.Box(b.x,b.y,this.Yn.x,this.Yn.y))};c.clipping.ClipSession.prototype.nm=function(){if(this.Ug())return;this.tk.yn();this.Wg.Ne();this.mb=new c.clipping.EmbedClipDialog(this,this.cleanup.bind(this));this.Od.push(this.mb);this.mb.qh();this.fj()};c.clipping.ClipSession.prototype.fj=function(){var a=c.dom.getNodeBox(this.Wg.pl()),b=5,e=c.Detect.IE()?0:2;a=new c.Box(a.cb()-b,a.Aa()-b,a.Wh()+b+e,a.Af()+b+e);this.mb.Xm(a,true)};c.clipping.ClipSession.prototype.Th=
function(a,b){var e=c.dom.getPosition(this.o.rd(),true);return{x:a-e.x,y:b-e.y}};c.clipping.ClipSession.prototype.Uc=function(){return this.o};c.clipping.ClipSession.prototype.Ll=function(){return this.a};c.clipping.ImageSelector=function(a,b){u.events.EventTarget.call(this);this.j=b;this.a=a;this.xq=[];c.style.setStyles(this.j.ke(),{cursor:"crosshair"});c.style.setStyles(this.j.ma,{cursor:""});this.e=[O(c.viewport.PageImageDisplay.eventTarget,D,this.uk.bind(this))]};c.clipping.ImageSelector.inherits(u.events.EventTarget);c.clipping.ImageSelector.prototype.uk=function(a){c.util.Events.cancel(a);a=a||window.event;this.o=a.display;if(this.o.If())this.ya=new c.clipping.ClipSession(this.a,this.j,this.o,
a)};c.clipping.ImageSelector.prototype.cleanup=function(){c.style.setStyles(this.j.Ub(),{cursor:""});c.style.setStyles(this.j.ke(),{cursor:""});u.array.forEach(this.e,Q);if(this.ya)this.ya.cleanup()};c.instrumentation={};c.instrumentation.InstrumentConstants={};c.instrumentation.Instrument=function(){};c.instrumentation.Instrument.prototype.kg=function(a){this.Gb=a};c.instrumentation.Instrument.prototype.register=function(){var a=[];for(var b=0;b<arguments.length;b++)a.push(encodeURIComponent(arguments[b]));a=a.join(":");var e=[];u.array.forEach([["id",this.Gb],["jscmd",a]],function(g){e.push([g[0],g[1]].join("="))},this);var f=["/books/gen_204?",e.join("&")].join("");c.XmlHttp.get(f,u.nullFunction)};c.viewport.Dragger=function(a,b){u.events.EventTarget.call(this);c.viewport.Dragger.Ro();this.b=b.Eb();this.j=b;this.a=a;this.ma=this.j.Ub();c.style.setStyles(this.j.ke(),{cursor:""});c.style.setStyles(this.j.ma,{cursor:c.viewport.Dragger.getGrabCursor()});this.e=[O(this.j.Ub(),D,this.Tl.bind(this)),O(this.j.Ub(),"dblclick",this.Pl.bind(this)),O(this.j.Ub(),"drag",c.util.Events.cancel)]};c.viewport.Dragger.inherits(u.events.EventTarget);c.viewport.Dragger.prototype.Pl=function(){if(!this.a.ze())this.a.ra(Y)};
c.viewport.Dragger.getGrabCursor=function(){return c.viewport.Dragger.di};c.viewport.Dragger.getGrabbingCursor=function(){return c.viewport.Dragger.ei};c.viewport.Dragger.Ro=function(){if(c.viewport.Dragger.eq)return;if(c.Detect.MOZILLA()){c.viewport.Dragger.di="-moz-grab";c.viewport.Dragger.ei="-moz-grabbing"}else if(c.Detect.IE()){c.viewport.Dragger.di="url(/googlebooks/images/openhand.cur), auto";c.viewport.Dragger.ei="url(/googlebooks/images/closedhand.cur), auto"}else{c.viewport.Dragger.di="auto";
c.viewport.Dragger.ei="move"}c.viewport.Dragger.eq=true};c.viewport.Dragger.prototype.Tl=function(a){if(this.xm){this.xm=false;return}c.util.Events.cancel(a);this.dispatchEvent("dragstart");c.dom.focusElement(this.b);this.lastX=a.clientX;this.lastY=a.clientY;c.style.setStyles(this.ma,{cursor:c.viewport.Dragger.getGrabbingCursor()});this.vg();this.ih=[O(document,"mousemove",this.Rl.bind(this)),O(document,"mouseup",this.Pf.bind(this)),O(document,D,this.Pf.bind(this)),O(document,E,this.rb.bind(this))]};
c.viewport.Dragger.prototype.rb=function(a){if(a.relatedTarget==null)this.Pf()};c.viewport.Dragger.prototype.Rl=function(a){this.j.drag(a.clientX-this.lastX,a.clientY-this.lastY);this.lastX=a.clientX;this.lastY=a.clientY};c.viewport.Dragger.prototype.Pf=function(a){this.vg();c.style.setStyles(this.ma,{cursor:c.viewport.Dragger.getGrabCursor()});if(a)c.util.Events.cancel(a)};c.viewport.Dragger.prototype.vg=function(){if(this.ih)u.array.forEach(this.ih,Q);this.ih=[]};c.viewport.Dragger.prototype.cleanup=
function(){this.vg();u.array.forEach(this.e,Q);c.style.setStyles(this.j.ke(),{cursor:""})};c.viewport.Dragger.prototype.ym=function(){this.xm=true};c.viewport.ManualControl=function(a,b){this.a=b;this.Wf={};this.Dq=[];var e=document.getElementsByTagName("input");for(var f=0;f<e.length;f++)this.Qd(e[f]);this.b=a;this.Lm={};this.Sm();O(c.Detect.SAFARI()?c.util.getBody():this.b,"keydown",this.Zl.bind(this));O(this.b,F,this.$b.bind(this))};c.viewport.ManualControl.prototype.Ln=function(a){this.j=a};c.viewport.ManualControl.prototype.Lb=function(a,b){this.Lm[a]=b};c.viewport.ManualControl.prototype.$b=function(){if(!this.Bi())try{c.dom.focusElement(this.b)}catch(a){}};
c.viewport.ManualControl.prototype.Qd=function(a){if(a.type&&a.type=="text"){var b=u.getHashCode(a);a.blur();O(a,"focus",this.fi.bind(this,b,true));O(a,"blur",this.fi.bind(this,b,false));this.Wf[b]=false}};c.viewport.ManualControl.prototype.fi=function(a,b){this.Wf[a]=b};c.viewport.ManualControl.prototype.Bi=function(){for(var a in this.Wf)if(this.Wf[a])return true;return false};c.viewport.ManualControl.prototype.Sm=function(){var a=this.a;this.Ki([[32,this.a.ra.bind(a,Y)],[74,a.ra.bind(a,Y)],[75,
a.ra.bind(a,U)],[61,a.ra.bind(a,$)],[109,a.ra.bind(a,Qa)]]);if(c.Detect.SAFARI())this.Ki([[37,this.od.bind(this,15,0)],[38,this.od.bind(this,0,15)],[39,this.od.bind(this,-15,0)],[40,this.od.bind(this,0,-15)],[33,this.bj.bind(this,1)],[34,this.bj.bind(this,-1)]])};c.viewport.ManualControl.prototype.Ki=function(a){u.array.forEach(a,function(b){this.Lb.apply(this,b)},this)};c.viewport.ManualControl.prototype.od=function(a,b){this.j.drag(a,b)};c.viewport.ManualControl.prototype.bj=function(a){this.od(0,
Math.floor(c.dom.getNodeHeight(this.b)*a*0.4))};c.viewport.ManualControl.prototype.Zl=function(a){var b=this.Lm[a.keyCode];if(b&&!(c.Detect.SAFARI()&&this.Bi())){c.util.Events.cancel(a);b.call(this,a.keyCode)}};c.viewport.ViewportManager=function(a){this.a=a;this.b=a.Eb();this.Um=new c.viewport.ManualControl(this.b,this.a);this.hh={}};c.viewport.ViewportManager.prototype.go=function(){O(this.a,L,this.mi.bind(this));O(this.a,C,this.gi.bind(this));this.mi()};c.viewport.ViewportManager.prototype.mi=function(){if(this.j){u.array.forEach(this.j.Cb(),function(b){this.rj(b.m())},this);this.j.cleanup()}var a=this.a.db();this.j=new a(this.a);this.a.Oe(c.viewport.Dragger);this.gi();this.Um.Ln(this.j)};c.viewport.ViewportManager.prototype.gi=
function(){if(this.zi)this.zi.cleanup();var a=this.a.Jf();this.zi=new a(this.a,this.j)};c.viewport.ViewportManager.prototype.rl=function(){return this.zi};c.viewport.ViewportManager.prototype.rj=function(a){this.hh[a]=true};c.viewport.ViewportManager.prototype.qk=function(a){delete this.hh[a]};c.viewport.ViewportManager.prototype.Dm=function(a){return!(!this.hh[a])};c.viewport.ViewportManager.prototype.wc=function(){return this.j};c.viewport.ViewportManager.prototype.oe=function(){return this.j.Cb()};
c.viewport.ViewportManager.prototype.Lb=function(a,b){this.Um.Lb(a,b)};c.viewport.Viewer=function(a){u.events.EventTarget.call(this);this.ja=a;a.innerHTML="";this.b=c.dom.createElement("div");c.dom.insertFirst(this.ja,this.b);c.style.setStyles(this.ja,{backgroundColor:"#CCCCCC",position:"relative"});this.rp=new c.viewport.ImageCache(this);this.Yg=[];this.hf=[];this.ln();this.fg=R;this.yi=c.viewport.Dragger;this.dd=new c.viewport.ViewportManager(this);this.wq=this.Ka();this.Ja(c.dom.getNodeWidth(a),c.dom.getNodeHeight(a));c.viewport.Viewer.nq.push(this)};c.viewport.Viewer.inherits(u.events.EventTarget);
c.viewport.Viewer.nq=[];c.viewport.Viewer.prototype.Eb=function(){return this.b};c.viewport.Viewer.prototype.Ja=function(a,b){c.style.setStyles(this.b,{width:a,height:b});this.Ha=a;this.ac=b};c.viewport.Viewer.prototype.i=function(){return this.Ha};c.viewport.Viewer.prototype.$=function(){return this.ac};c.viewport.Viewer.prototype.go=function(){this.dd.go();this.dispatchEvent("load")};c.viewport.Viewer.prototype.Ka=function(){var a=c.dom.createElement("div");c.dom.appendChild(this.ja,a);c.style.setStyles(a,
{position:q,left:0,top:0});return a};c.viewport.Viewer.prototype.xj=function(a){if(this.mo!=a){this.mo=a;this.dispatchEvent(L)}};c.viewport.Viewer.prototype.Mn=function(a){this.oq=a};c.viewport.Viewer.prototype.Ml=function(){return this.oq};c.viewport.Viewer.prototype.Oe=function(a){if(a==c.clipping.ImageSelector&&this.fg==S)return;this.yi=a;this.dispatchEvent(C)};c.viewport.Viewer.prototype.Jf=function(){return this.yi};c.viewport.Viewer.prototype.wc=function(){return this.dd.wc()};c.viewport.Viewer.prototype.zd=
function(){return this.dd};c.viewport.Viewer.prototype.sj=function(a){if(a==S&&this.yi==c.clipping.ImageSelector)this.Oe(c.viewport.Dragger);this.fg=a;this.dispatchEvent(H)};c.viewport.Viewer.prototype.wd=function(){return this.fg};c.viewport.Viewer.prototype.fo=function(){this.sj(this.fg==R?S:R)};c.viewport.Viewer.prototype.db=function(){return this.mo};c.viewport.Viewer.prototype.rd=function(){return this.ja};c.viewport.Viewer.prototype.Fn=function(a){if(this.ib)throw"";this.ib=a;O(a,K,this.jm.bind(this))};
c.viewport.Viewer.prototype.jm=function(){this.dispatchEvent(I)};c.viewport.Viewer.prototype.Na=function(){return this.ib};c.viewport.Viewer.prototype.Qe=function(a){var b=this.ib.Bb(a);if(this.qa!=b){this.qa=b;this.dispatchEvent(G)}};c.viewport.Viewer.prototype.m=function(){return this.qa.m()};c.viewport.Viewer.prototype.d=function(){return this.qa};c.viewport.Viewer.prototype.Fh=function(){return this.rp};c.viewport.Viewer.prototype.oe=function(){return this.dd.oe()};c.viewport.Viewer.prototype.ze=
function(){return this.tb};c.viewport.Viewer.prototype.Bn=function(a){this.xi=a};c.viewport.Viewer.prototype.instrument=function(){if(this.xi){var a=[];for(var b=0;b<arguments.length;b++)a.push(arguments[b]);this.xi.register.apply(this.xi,a)}};c.viewport.Viewer.prototype.ra=function(){var a=[];for(var b=0;b<arguments.length;b++)a.push(arguments[b]);this.Yg.push(a);if(this.Yg.length==1&&!this.ze())this.Ej()};c.viewport.Viewer.prototype.zd=function(){return this.dd};c.viewport.Viewer.prototype.Kb=function(a,
b){this.hf.push([a,b])};c.viewport.Viewer.prototype.Ej=function(){var a=this.Yg.shift();if(!a)return;var b=a.shift();for(var e=0;e<this.hf.length;e++)if(this.hf[e][0]==b)this.hf[e][1].apply(this,a);if(!this.ze())this.Ej()};c.viewport.Viewer.prototype.Lb=function(a,b){this.dd.Lb(a,b)};c.viewport.Viewer.prototype.ln=function(){var a=this.dispatchEvent.bind(this);this.Kb($,a.bind(this,M));this.Kb(Qa,a.partial(N));this.Kb(X,a.partial(J));this.Kb(Ra,a.partial("searchupdate"));this.Kb(Ta,this.am.bind(this));
this.Kb(Ua,this.xj.bind(this));this.Kb(Y,this.li.bind(this,1));this.Kb(U,this.li.bind(this,-1));this.Kb(T,this.ki.bind(this))};c.viewport.Viewer.prototype.li=function(a){var b=this.dd.wc(),e=a>0?b.ge():b.le();if(e)this.ki(e.m())};c.viewport.Viewer.prototype.ki=function(a){var b=this.ib.Bb(a);if(b){this.qa=b;this.dispatchEvent(G)}};c.viewport.Viewer.prototype.am=function(a){this.dispatchEvent({type:"loginchange",html:a})};var R={},S={},$={},Qa={},X={},Y={},U={},T={},Ta={},Ra={},Ua={};c.common.ActionLink=function(a,b,e,f,g){this.a=a;this.ja=b;this.Ap=e;this.hq=f;this.Eg=g;this.reset();O(b,z,this.yc.bind(this))};c.common.ActionLink.prototype.reset=function(){this.ja.innerHTML=this.Ap;c.style.setStyles(this.ja,x)};c.common.ActionLink.prototype.yc=function(){this.Eg();this.ja.innerHTML=this.hq;c.style.setStyles(this.ja,{color:"",cursor:"",textDecoration:""})};c.Flags={};c.Flags.update=function(a){for(var b in a)c.Flags[b]=a[b]};c.common.Startup={};c.common.Startup.createViewer=function(){return new c.viewport.Viewer(c.util.getElemById("viewport"))};c.common.Startup.initiazeViewer=function(a,b,e,f,g,h,i,j){c.viewport.ProtoPageInfo.setCommChannel(c.XmlHttp.getJSONObject);a.xj(f);a.Mn(h);var k;if(i&&i.page){var m=i.page[0],n=m.pid,o=g.Bb(n);if(o){o.setData(m);o.mg(m);if(o.Jm()){k=n;if(o.uc())a.zd().rj(n)}}}var p=[j,k,g.Rh(0).m()],v;u.array.some(p,function(w){if(w){var A=g.Bb(w);if(A){v=w;return true}}});g.zn(e.page_width,e.page_height);
g.Hn(b.prefix);a.Fn(g);a.Qe(v)};c.common.Startup.setFlags=function(a){c.Flags.update(a)};c.common.Startup.hideFooterNodes=function(){var a=["footer_table"];for(var b=0;b<a.length;b++){var e=c.util.getElemById(a[b]);if(e)c.style.setStyles(e,{display:s})}};c.common.Startup.makeBodyUnscrollable=function(){var a=c.util.getBody();c.style.setStyles(a,{overflow:r});if(c.Detect.IE()){var b=document.getElementsByTagName("html")[0];c.style.setStyles(b,{overflow:r})}};c.common.Startup.initializeModules=function(a){var b=
c.util.getElemById("menu_container"),e=c.util.getElemById("menu"),f=new c.chrome.Menu(b,e);if(a.modules)u.array.forEach(a.modules,function(g){var h=c.util.getElemById(g.id),i=c.util.getElemById(g.id+"_content");if(h&&i&&g.id!="search"){var j=f.Hg(h,i);if(g.collapsed){j.hide();c.style.setStyles(i,{display:""})}}})};c.common.Startup.addPageControl=function(a,b){var e=c.util.getElemById("page_label");if(!e)e={form:c.util.getElemById("jtp_form"),go:c.util.getElemById("jtp_btn"),input:c.util.getElemById("jtp")};
new c.chrome.PageControl(a,b,c.util.getElemById("prev_btn"),c.util.getElemById("next_btn"),e)};c.common.Startup.addInstrument=function(a){if(c.Flags.instrumentUI){var b=new c.instrumentation.Instrument;b.kg(c.util.Url.parseUrlParameter("id",window.location.href));a.Bn(b)}};c.common.Startup.addTextModeLink=function(a){a.sj(c.Flags.textDisplay?S:R);var b=c.util.getElemById("text_mode");if(b){c.style.setStyles(b,{cursor:"pointer"});O(b,z,c.common.Startup.handleTextModeClick.partial(a,c.util.getElemById("text_mode_text")))}};
c.common.Startup.initializeSearchContent=function(a,b){var e=c.util.getElemById("menu_container"),f=c.util.getElemById("menu"),g=new c.chrome.Menu(e,f),h=c.util.getElemById("search"),i=c.util.getElemById("search_content"),j,k;if(i){var m=g.Hg(h,i),n=new c.chrome.SearchResults(a,h,i,b,c.util.getElemById("search_form"),e,f,c.common.Startup.Np.partial(m,a));j=n.ud.bind(n);k=n.im.bind(n);a.Lb(70,n.Xk.bind(n))}_OC_InitHooks(a.Qe.bind(a),j,u.nullFunction,u.nullFunction,k)};c.common.Startup.addActionButtons=
function(a){var b=c.util.getElemById("action_buttons"),e=false;if(c.Flags.enableHighlightUI){var f=c.dom.insertFirst(b,c.dom.createElement("div")),g=new c.chrome.ImageLink(f,"/googlebooks/images/hilite_icon.gif",_OC_MSG[624],u.nullFunction);new c.chrome.ImageLink.AlternateTextImageLinkDecorator(g,_OC_MSG[623],function(){return true});new c.chrome.ImageLink.AlternateStyleImageLinkDecorator(g,{backgroundColor:""},{backgroundColor:"#FFFF7b"},function(){return true});e=true}if(c.Flags.enableLinkToThisPage){var h=
c.dom.insertFirst(b,c.dom.createElement("div")),i=new c.chrome.Permalink(a,h);new c.chrome.ImageLink(h,"/googlebooks/images/bar_icon_link.gif",_OC_MSG[Ba],i.show.bind(i));e=true}if(e)c.style.setStyles(c.util.getElemById("action_buttons_container"),{display:""})};c.common.Startup.addFullScreenLink=function(a){var b=c.util.getElemById("bottom_ad"),e=c.util.getElemById("menu_container"),f=c.util.getElemById("menu");new c.chrome.Menu(e,f);var g=[c.util.getElemById("title_bar"),c.util.getElemById("drop_td"),
c.util.getElemById("menu_td")];if(b)g.push(b);var h=new c.chrome.Fullscreen(a,g),i=new c.chrome.ImageLink(c.util.getElemById("fullscreen_view"),"/googlebooks/images/fullscreen.gif",_OC_MSG[ea]);i.oj(true);var j=new c.chrome.ImageLink.VisibilityDecorator(i,c.common.Startup.doesFunctionReturnValue.partial(h.ye.bind(h),false));O(i,z,h.fullscreen.bind(h));O(h,y,j.update.bind(j));var k=new c.chrome.ImageLink(c.util.getElemById("regular_view"),"/googlebooks/images/regularscreen.gif",_OC_MSG[fa]);k.oj(true);
var m=new c.chrome.ImageLink.VisibilityDecorator(k,h.ye.bind(h));O(k,z,h.regular.bind(h));O(h,y,m.update.bind(m));var n=new c.chrome.ResizeManager(a,h,c.util.getElemById("viewport_table"),e,c.util.getElemById("viewport_td"),b);n.mj();setTimeout(n.ii.bind(n),10)};c.common.Startup.initializeAds=function(a){var b=c.util.getElemById("ads_content");if(b)new c.chrome.Ads(b,a)};c.common.Startup.initializeFeedbackStuff=function(a){var b=_OC_MSG[za].length?_OC_MSG[za]:_OC_MSG[ya];if(c.Flags.enableUserFeedbackUI&&
b.length!=0&&_OC_MSG[Aa].length!=0){var e=new c.common.ActionLink(a,c.util.getElemById("bad_page_link"),b,_OC_MSG[Aa],c.common.Startup.ip.partial(a));O(a,G,e.reset.bind(e))}};c.common.Startup.ip=function(a){var b=a.oe();u.array.forEach(b,function(e){var f=e.Kl();if(f)c.XmlHttp.get(f,u.nullFunction)})};c.common.Startup.changePage=function(a,b){a.ra(T,b)};c.common.Startup.Np=function(a,b){a.show();b.ra(Ra)};c.common.Startup.doesFunctionReturnValue=function(a,b){return a()==b};c.common.Startup.handleTextModeClick=
function(a,b,e){c.util.Events.cancel(e);a.fo();b.innerHTML=a.wd()==S?_OC_MSG[na]:_OC_MSG[ma]};_OC_MenuHideHook=function(a){c.style.setStyles(c.util.getElemById(a),{display:s})};c.viewport.PageInfoSetFactory=function(a,b,e,f){var g=f||c.viewport.PageInfoSet,h=e||c.viewport.PageInfo,i=u.array.map(a,function(k){return new h(k)}),j=new g(b);j.ri(i);return j};c.chrome.Toolbar=function(a){this.iq=a;this.Od=[];this.cg()};var Va="#9daecd #f4f8ff #f4f8ff #9daecd";c.chrome.Toolbar.prototype.Zj=function(a,b,e,f,g){var h=new c.chrome.Toolbar.Ya(this,a,b,e,f,g);this.Od.push(h);return h};c.chrome.Toolbar.prototype.cg=function(){this.dh=c.dom.createElement("span");c.style.setStyles(this.dh,{margin:"0 7"});c.dom.appendChild(this.iq,this.dh)};c.chrome.Toolbar.prototype.ll=function(){return this.dh};c.chrome.Toolbar.prototype.update=function(){u.array.forEach(this.Od,
function(a){a.update()})};c.chrome.Toolbar.Ya=function(a,b,e,f,g,h){this.jq=a;this.Eg=e;this.bq=b;var i=c.dom.createElement("img");this.pa=i;c.util.Image.onLoad(i,c.style.setStyles.partial(this.pa,{visibility:""}));c.style.setAttributes(i,{title:f,width:g,height:h,src:b});c.dom.appendChild(a.ll(),i);c.style.setStyles(i,{visibility:r});c.style.setStyles(i,{border:"1px solid",cursor:c.util.getHandCursorStyle(),margin:"0 1",borderColor:"#dde5ff"});O(i,F,this.$b.bind(this));O(i,D,this.qb.bind(this));
O(i,E,this.rb.bind(this));O(i,z,this.yc.bind(this))};c.chrome.Toolbar.Ya.prototype.update=function(){var a="#dde5ff";if(this.xe())a=Va;this.wn(this.xe()?Va:"#dde5ff");c.style.setStyles(this.pa,{backgroundColor:this.xe()?"#eff5ff":""});this.pa.src=this.Xf()?this.dp:this.bq;c.style.setStyles(this.pa,{cursor:this.Xf()?"":c.util.getHandCursorStyle()})};c.chrome.Toolbar.Ya.prototype.Pe=function(a){this.Em=a};c.chrome.Toolbar.Ya.prototype.Cn=function(a,b){this.Cm=a;this.dp=b};c.chrome.Toolbar.Ya.prototype.yc=
function(){this.Eg();this.jq.update();this.$b()};c.chrome.Toolbar.Ya.prototype.$b=function(){this.ag("#f4f8ff #9daecd #9daecd #f4f8ff")};c.chrome.Toolbar.Ya.prototype.rb=function(){this.ag("#dde5ff")};c.chrome.Toolbar.Ya.prototype.qb=function(){this.ag(Va);return false};c.chrome.Toolbar.Ya.prototype.wn=function(a){c.style.setStyles(this.pa,{borderColor:a})};c.chrome.Toolbar.Ya.prototype.ag=function(a){if(this.xe()||this.Xf())return;c.style.setStyles(this.pa,{borderColor:a})};c.chrome.Toolbar.Ya.prototype.xe=
function(){if(this.Em)return this.Em();return false};c.chrome.Toolbar.Ya.prototype.Xf=function(){if(this.Cm)return this.Cm();return false};var Wa=d+"zoomout.gif",Xa=d+"zoomin.gif",Ya=d+"onepage.gif",Za=d+"twopage.gif",$a=d+"select.gif",ab=d+"disabled_select.gif",bb=d+"hand.gif",cb=d+"print_icon.gif";c.chrome.CommonToolbar=function(a,b){c.chrome.Toolbar.call(this,b);this.a=a;O(this.a,L,this.update.bind(this));O(this.a,H,this.update.bind(this))};c.chrome.CommonToolbar.inherits(c.chrome.Toolbar);c.chrome.CommonToolbar.vo=18;c.chrome.CommonToolbar.wo=18;c.chrome.CommonToolbar.prototype.gk=function(){this.mc(Wa,this.Sd.bind(this,0,Qa),_OC_MSG[ha]);
this.mc(Xa,this.Sd.bind(this,1,$),_OC_MSG[ga])};c.chrome.CommonToolbar.prototype.$j=function(){var a=c.viewport.CurrentContinuousViewport.db(),b=this.mc(Ya,this.Sd.bind(this,2,Ua,a),_OC_MSG[ia]);b.Pe(c.chrome.CommonToolbar.Yd.bind(null,this.a.db.bind(this.a),a))};c.chrome.CommonToolbar.prototype.fk=function(){var a=this.mc(Za,this.Sd.bind(this,3,Ua,c.viewport.TwoPageViewport),_OC_MSG[ja]);a.Pe(c.chrome.CommonToolbar.Yd.partial(this.a.db.bind(this.a),c.viewport.TwoPageViewport))};c.chrome.CommonToolbar.prototype.ak=
function(){var a=this.mc(bb,this.a.Oe.bind(this.a,c.viewport.Dragger),_OC_MSG[xa]);a.Pe(c.chrome.CommonToolbar.Yd.partial(this.a.Jf.bind(this.a),c.viewport.Dragger));var b=this.a.Oe.bind(this.a,c.clipping.ImageSelector);a=this.mc($a,b,_OC_MSG[wa]);a.Pe(c.chrome.CommonToolbar.Yd.partial(this.a.Jf.bind(this.a),c.clipping.ImageSelector));a.Cn(c.chrome.CommonToolbar.Yd.partial(this.a.wd.bind(this.a),S),ab)};c.chrome.CommonToolbar.prototype.ek=function(){this.mc(cb,c.chrome.Print.partial(this.a),"")};
c.chrome.CommonToolbar.prototype.Sd=function(a){if(arguments.length>1){var a=arguments[0],b=[];for(var e=1;e<arguments.length;e++)b.push(arguments[e]);this.a.ra.apply(this.a,b);this.a.instrument(0,a)}};c.chrome.CommonToolbar.Yd=function(a,b){return a()==b};c.chrome.CommonToolbar.prototype.mc=function(a,b,e){return this.Zj(a,b,e,c.chrome.CommonToolbar.wo,c.chrome.CommonToolbar.vo)};c.books.BooksToolbar=function(a,b,e,f){c.chrome.CommonToolbar.call(this,a,b);this.gk();if(!e){this.cg();this.$j();this.fk()}if(c.Flags.enableClips){this.cg();this.ak()}if(f)this.ek();this.update()};c.books.BooksToolbar.inherits(c.chrome.CommonToolbar);c.viewport.VolumeInfo=function(){};c.viewport.VolumeInfo.prototype.Db=function(){return this.Da};c.books.BooksVolumeInfo=function(a){c.viewport.VolumeInfo.call(this);this.Da=a.title||"";this.fq=a.subtitle||"";this.Lo=a.attribution||""};c.books.BooksVolumeInfo.inherits(c.viewport.VolumeInfo);c.books.BooksVolumeInfo.prototype.el=function(){return this.Lo};c.books.BooksVolumeInfo.prototype.Il=function(){return this.fq};c.books.BooksStartup=function(a,b,e,f){c.common.Startup.setFlags(e);if(b.initial_zoom_width_override)c.viewport.ContinuousViewport.Am=b.initial_zoom_width_override;c.common.Startup.hideFooterNodes();c.viewport.ProtoPageInfo.setCommChannel(c.XmlHttp.getJSONObject);if(b.fullview)c.viewport.ContinuousViewport.setShowSeparators(false);var g=c.common.Startup.createViewer(),h=c.viewport.PageInfoSetFactory(a.page,g,c.books.BooksPageInfo,c.books.BooksPageInfoSet);if(c.Flags.scratchAndSniff){var i=h.Bb(c.Flags.scratchAndSniff);
if(!i)c.Flags.scratchAndSniff=h.Rh(0).m()}var j=b.disable_twopage?c.viewport.CurrentContinuousViewport.db():c.chrome.AddressBar.db()||c.viewport.CurrentContinuousViewport.db();c.common.Startup.initiazeViewer(g,a,b,j,h,new c.books.BooksVolumeInfo(b),f,c.chrome.AddressBar.m());new c.books.BooksToolbar(g,c.util.getElemById("toolbar"),b.disable_twopage,b.show_print_pages_button);c.common.Startup.makeBodyUnscrollable();c.common.Startup.addPageControl(g,h);c.common.Startup.initializeModules(b);c.common.Startup.addInstrument(g);
c.common.Startup.addTextModeLink(g);c.common.Startup.initializeSearchContent(g,h);c.common.Startup.addActionButtons(g);if(!c.Flags.enableLinkToThisPage)new c.chrome.AddressBar(g);c.common.Startup.addFullScreenLink(g);c.common.Startup.initializeAds(g);c.common.Startup.initializeFeedbackStuff(g);g.go()};_OC_Run=c.books.BooksStartup;
